/*! jQuery v3.3.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(n,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)}("undefined"!=typeof window?window:this,function(n,t){"use strict";function hr(n,t,i){var r,u=(t=t||f).createElement("script");if(u.text=n,i)for(r in df)i[r]&&(u[r]=i[r]);t.head.appendChild(u).parentNode.removeChild(u)}function it(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?bt[or.call(n)]||"object":typeof n}function hi(n){var t=!!n&&"length"in n&&n.length,i=it(n);return!u(n)&&!tt(n)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in n)}function v(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()}function li(n,t,r){return u(t)?i.grep(n,function(n,i){return!!t.call(n,i,n)!==r}):t.nodeType?i.grep(n,function(n){return n===t!==r}):"string"!=typeof t?i.grep(n,function(n){return wt.call(t,n)>-1!==r}):i.filter(t,n,r)}function wr(n,t){while((n=n[t])&&1!==n.nodeType);return n}function ne(n){var t={};return i.each(n.match(l)||[],function(n,i){t[i]=!0}),t}function ut(n){return n}function dt(n){throw n;}function br(n,t,i,r){var f;try{n&&u(f=n.promise)?f.call(n).done(t).fail(i):n&&u(f=n.then)?f.call(n,t,i):t.apply(void 0,[n].slice(r))}catch(n){i.apply(void 0,[n])}}function ni(){f.removeEventListener("DOMContentLoaded",ni);n.removeEventListener("load",ni);i.ready()}function re(n,t){return t.toUpperCase()}function y(n){return n.replace(te,"ms-").replace(ie,re)}function at(){this.expando=i.expando+at.uid++}function ee(n){return"true"===n||"false"!==n&&("null"===n?null:n===+n+""?+n:ue.test(n)?JSON.parse(n):n)}function dr(n,t,i){var r;if(void 0===i&&1===n.nodeType)if(r="data-"+t.replace(fe,"-$&").toLowerCase(),"string"==typeof(i=n.getAttribute(r))){try{i=ee(i)}catch(n){}o.set(n,t,i)}else i=void 0;return i}function tu(n,t,r,u){var s,h,c=20,l=u?function(){return u.cur()}:function(){return i.css(n,t,"")},o=l(),e=r&&r[3]||(i.cssNumber[t]?"":"px"),f=(i.cssNumber[t]||"px"!==e&&+o)&&vt.exec(i.css(n,t));if(f&&f[3]!==e){for(o/=2,e=e||f[3],f=+o||1;c--;)i.style(n,t,f+e),(1-h)*(1-(h=l()/o||.5))<=0&&(c=0),f/=h;f*=2;i.style(n,t,f+e);r=r||[]}return r&&(f=+f||+o||0,s=r[1]?f+(r[1]+1)*r[2]:+r[2],u&&(u.unit=e,u.start=f,u.end=s)),s}function oe(n){var r,f=n.ownerDocument,u=n.nodeName,t=ai[u];return t||(r=f.body.appendChild(f.createElement(u)),t=i.css(r,"display"),r.parentNode.removeChild(r),"none"===t&&(t="block"),ai[u]=t,t)}function ft(n,t){for(var e,u,f=[],i=0,o=n.length;i<o;i++)(u=n[i]).style&&(e=u.style.display,t?("none"===e&&(f[i]=r.get(u,"display")||null,f[i]||(u.style.display="")),""===u.style.display&&ti(u)&&(f[i]=oe(u))):"none"!==e&&(f[i]="none",r.set(u,"display",e)));for(i=0;i<o;i++)null!=f[i]&&(n[i].style.display=f[i]);return n}function s(n,t){var r;return r="undefined"!=typeof n.getElementsByTagName?n.getElementsByTagName(t||"*"):"undefined"!=typeof n.querySelectorAll?n.querySelectorAll(t||"*"):[],void 0===t||t&&v(n,t)?i.merge([n],r):r}function vi(n,t){for(var i=0,u=n.length;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function eu(n,t,r,u,f){for(var e,o,p,a,w,v,h=t.createDocumentFragment(),y=[],l=0,b=n.length;l<b;l++)if((e=n[l])||0===e)if("object"===it(e))i.merge(y,e.nodeType?[e]:e);else if(fu.test(e)){for(o=o||h.appendChild(t.createElement("div")),p=(ru.exec(e)||["",""])[1].toLowerCase(),a=c[p]||c._default,o.innerHTML=a[1]+i.htmlPrefilter(e)+a[2],v=a[0];v--;)o=o.lastChild;i.merge(y,o.childNodes);(o=h.firstChild).textContent=""}else y.push(t.createTextNode(e));for(h.textContent="",l=0;e=y[l++];)if(u&&i.inArray(e,u)>-1)f&&f.push(e);else if(w=i.contains(e.ownerDocument,e),o=s(h.appendChild(e),"script"),w&&vi(o),r)for(v=0;e=o[v++];)uu.test(e.type||"")&&r.push(e);return h}function ri(){return!0}function et(){return!1}function su(){try{return f.activeElement}catch(n){}}function yi(n,t,r,u,f,e){var o,s;if("object"==typeof t){"string"!=typeof r&&(u=u||r,r=void 0);for(s in t)yi(n,s,r,u,t[s],e);return n}if(null==u&&null==f?(f=r,u=r=void 0):null==f&&("string"==typeof r?(f=u,u=void 0):(f=u,u=r,r=void 0)),!1===f)f=et;else if(!f)return n;return 1===e&&(o=f,(f=function(n){return i().off(n),o.apply(this,arguments)}).guid=o.guid||(o.guid=i.guid++)),n.each(function(){i.event.add(this,t,f,u,r)})}function hu(n,t){return v(n,"table")&&v(11!==t.nodeType?t:t.firstChild,"tr")?i(n).children("tbody")[0]||n:n}function ye(n){return n.type=(null!==n.getAttribute("type"))+"/"+n.type,n}function pe(n){return"true/"===(n.type||"").slice(0,5)?n.type=n.type.slice(5):n.removeAttribute("type"),n}function cu(n,t){var u,c,f,s,h,l,a,e;if(1===t.nodeType){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),e=s.events)){delete h.handle;h.events={};for(f in e)for(u=0,c=e[f].length;u<c;u++)i.event.add(t,f,e[f][u])}o.hasData(n)&&(l=o.access(n),a=i.extend({},l),o.set(t,a))}}function we(n,t){var i=t.nodeName.toLowerCase();"input"===i&&iu.test(n.type)?t.checked=n.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=n.defaultValue)}function ot(n,t,f,o){t=er.apply([],t);var l,w,a,v,h,b,c=0,y=n.length,d=y-1,p=t[0],k=u(p);if(k||y>1&&"string"==typeof p&&!e.checkClone&&ae.test(p))return n.each(function(i){var r=n.eq(i);k&&(t[0]=p.call(this,i,r.html()));ot(r,t,f,o)});if(y&&(l=eu(t,n[0].ownerDocument,!1,n,o),w=l.firstChild,1===l.childNodes.length&&(l=w),w||o)){for(v=(a=i.map(s(l,"script"),ye)).length;c<y;c++)h=l,c!==d&&(h=i.clone(h,!0,!0),v&&i.merge(a,s(h,"script"))),f.call(n[c],h,c);if(v)for(b=a[a.length-1].ownerDocument,i.map(a,pe),c=0;c<v;c++)h=a[c],uu.test(h.type||"")&&!r.access(h,"globalEval")&&i.contains(b,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?i._evalUrl&&i._evalUrl(h.src):hr(h.textContent.replace(ve,""),b,h))}return n}function lu(n,t,r){for(var u,e=t?i.filter(t,n):n,f=0;null!=(u=e[f]);f++)r||1!==u.nodeType||i.cleanData(s(u)),u.parentNode&&(r&&i.contains(u.ownerDocument,u)&&vi(s(u,"script")),u.parentNode.removeChild(u));return n}function yt(n,t,r){var o,s,h,f,u=n.style;return(r=r||ui(n))&&(""!==(f=r.getPropertyValue(t)||r[t])||i.contains(n.ownerDocument,n)||(f=i.style(n,t)),!e.pixelBoxStyles()&&pi.test(f)&&be.test(t)&&(o=u.width,s=u.minWidth,h=u.maxWidth,u.minWidth=u.maxWidth=u.width=f,f=r.width,u.width=o,u.minWidth=s,u.maxWidth=h)),void 0!==f?f+"":f}function au(n,t){return{get:function(){if(!n())return(this.get=t).apply(this,arguments);delete this.get}}}function ge(n){if(n in wu)return n;for(var i=n[0].toUpperCase()+n.slice(1),t=pu.length;t--;)if((n=pu[t]+i)in wu)return n}function bu(n){var t=i.cssProps[n];return t||(t=i.cssProps[n]=ge(n)||n),t}function ku(n,t,i){var r=vt.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function wi(n,t,r,u,f,e){var o="width"===t?1:0,h=0,s=0;if(r===(u?"border":"content"))return 0;for(;o<4;o+=2)"margin"===r&&(s+=i.css(n,r+w[o],!0,f)),u?("content"===r&&(s-=i.css(n,"padding"+w[o],!0,f)),"margin"!==r&&(s-=i.css(n,"border"+w[o]+"Width",!0,f))):(s+=i.css(n,"padding"+w[o],!0,f),"padding"!==r?s+=i.css(n,"border"+w[o]+"Width",!0,f):h+=i.css(n,"border"+w[o]+"Width",!0,f));return!u&&e>=0&&(s+=Math.max(0,Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-e-s-h-.5))),s}function du(n,t,r){var f=ui(n),u=yt(n,t,f),s="border-box"===i.css(n,"boxSizing",!1,f),o=s;if(pi.test(u)){if(!r)return u;u="auto"}return o=o&&(e.boxSizingReliable()||u===n.style[t]),("auto"===u||!parseFloat(u)&&"inline"===i.css(n,"display",!1,f))&&(u=n["offset"+t[0].toUpperCase()+t.slice(1)],o=!0),(u=parseFloat(u)||0)+wi(n,t,r||(s?"border":"content"),o,f,u)+"px"}function h(n,t,i,r,u){return new h.prototype.init(n,t,i,r,u)}function bi(){fi&&(!1===f.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(bi):n.setTimeout(bi,i.fx.interval),i.fx.tick())}function tf(){return n.setTimeout(function(){st=void 0}),st=Date.now()}function ei(n,t){var u,r=0,i={height:n};for(t=t?1:0;r<4;r+=2-t)i["margin"+(u=w[r])]=i["padding"+u]=n;return t&&(i.opacity=i.width=n),i}function rf(n,t,i){for(var u,f=(a.tweeners[t]||[]).concat(a.tweeners["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function no(n,t,u){var f,y,w,c,b,h,o,l,k="width"in t||"height"in t,v=this,p={},s=n.style,a=n.nodeType&&ti(n),e=r.get(n,"fxshow");u.queue||(null==(c=i._queueHooks(n,"fx")).unqueued&&(c.unqueued=0,b=c.empty.fire,c.empty.fire=function(){c.unqueued||b()}),c.unqueued++,v.always(function(){v.always(function(){c.unqueued--;i.queue(n,"fx").length||c.empty.fire()})}));for(f in t)if(y=t[f],gu.test(y)){if(delete t[f],w=w||"toggle"===y,y===(a?"hide":"show")){if("show"!==y||!e||void 0===e[f])continue;a=!0}p[f]=e&&e[f]||i.style(n,f)}if((h=!i.isEmptyObject(t))||!i.isEmptyObject(p)){k&&1===n.nodeType&&(u.overflow=[s.overflow,s.overflowX,s.overflowY],null==(o=e&&e.display)&&(o=r.get(n,"display")),"none"===(l=i.css(n,"display"))&&(o?l=o:(ft([n],!0),o=n.style.display||o,l=i.css(n,"display"),ft([n]))),("inline"===l||"inline-block"===l&&null!=o)&&"none"===i.css(n,"float")&&(h||(v.done(function(){s.display=o}),null==o&&(l=s.display,o="none"===l?"":l)),s.display="inline-block"));u.overflow&&(s.overflow="hidden",v.always(function(){s.overflow=u.overflow[0];s.overflowX=u.overflow[1];s.overflowY=u.overflow[2]}));h=!1;for(f in p)h||(e?"hidden"in e&&(a=e.hidden):e=r.access(n,"fxshow",{display:o}),w&&(e.hidden=!a),a&&ft([n],!0),v.done(function(){a||ft([n]);r.remove(n,"fxshow");for(f in p)i.style(n,f,p[f])})),h=rf(a?e[f]:0,f,v),f in e||(e[f]=h.start,a&&(h.end=h.start,h.start=0))}}function to(n,t){var r,f,e,u,o;for(r in n)if(f=y(r),e=t[f],u=n[r],Array.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),(o=i.cssHooks[f])&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function a(n,t,r){var o,s,h=0,v=a.prefilters.length,e=i.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var o=st||tf(),t=Math.max(0,f.startTime+f.duration-o),i=1-(t/f.duration||0),r=0,u=f.tweens.length;r<u;r++)f.tweens[r].run(i);return e.notifyWith(n,[f,i,t]),i<1&&u?t:(u||e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f]),!1)},f=e.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},r),originalProperties:t,originalOptions:r,startTime:st||tf(),duration:r.duration,tweens:[],createTween:function(t,r){var u=i.Tween(n,f.opts,t,r,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(u),u},stop:function(t){var i=0,r=t?f.tweens.length:0;if(s)return this;for(s=!0;i<r;i++)f.tweens[i].run(1);return t?(e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f,t])):e.rejectWith(n,[f,t]),this}}),c=f.props;for(to(c,f.opts.specialEasing);h<v;h++)if(o=a.prefilters[h].call(f,n,c,f.opts))return u(o.stop)&&(i._queueHooks(f.elem,f.opts.queue).stop=o.stop.bind(o)),o;return i.map(c,rf,f),u(f.opts.start)&&f.opts.start.call(n,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),i.fx.timer(i.extend(l,{elem:n,anim:f,queue:f.opts.queue})),f}function g(n){return(n.match(l)||[]).join(" ")}function nt(n){return n.getAttribute&&n.getAttribute("class")||""}function ki(n){return Array.isArray(n)?n:"string"==typeof n?n.match(l)||[]:[]}function tr(n,t,r,u){var f;if(Array.isArray(t))i.each(t,function(t,i){r||io.test(n)?u(n,i):tr(n+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,u)});else if(r||"object"!==it(t))u(n,t);else for(f in t)tr(n+"["+f+"]",t[f],r,u)}function af(n){return function(t,i){"string"!=typeof t&&(i=t,t="*");var r,f=0,e=t.toLowerCase().match(l)||[];if(u(i))while(r=e[f++])"+"===r[0]?(r=r.slice(1)||"*",(n[r]=n[r]||[]).unshift(i)):(n[r]=n[r]||[]).push(i)}}function vf(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);return"string"!=typeof s||o||f[s]?o?!(h=s):void 0:(t.dataTypes.unshift(s),e(s),!1)}),h}var f={},o=n===ir;return e(t.dataTypes[0])||!f["*"]&&e("*")}function ur(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function lo(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;"*"===r[0];)r.shift(),void 0===e&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return f!==r[0]&&r.unshift(f),i[f]}function ao(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(!(f=o[e+" "+u]||o["* "+u]))for(h in o)if((s=h.split(" "))[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){!0===f?f=o[h]:!0!==o[h]&&(u=s[0],c.unshift(s[1]));break}if(!0!==f)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(n){return{state:"parsererror",error:f?n:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}var k=[],f=n.document,bf=Object.getPrototypeOf,d=k.slice,er=k.concat,si=k.push,wt=k.indexOf,bt={},or=bt.toString,kt=bt.hasOwnProperty,sr=kt.toString,kf=sr.call(Object),e={},u=function(n){return"function"==typeof n&&"number"!=typeof n.nodeType},tt=function(n){return null!=n&&n===n.window},df={type:!0,src:!0,noModule:!0},i=function(n,t){return new i.fn.init(n,t)},gf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b,ci,ar,vr,yr,pr,l,kr,gt,lt,ai,fu,st,fi,gu,nf,uf,ht,ff,ef,of,di,gi,yf,ct,fr,oi,pf,wf;i.fn=i.prototype={jquery:"3.3.1",constructor:i,length:0,toArray:function(){return d.call(this)},get:function(n){return null==n?d.call(this):n<0?this[n+this.length]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t},each:function(n){return i.each(this,n)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:si,sort:k.sort,splice:k.splice};i.extend=i.fn.extend=function(){var o,e,t,r,s,h,n=arguments[0]||{},f=1,l=arguments.length,c=!1;for("boolean"==typeof n&&(c=n,n=arguments[f]||{},f++),"object"==typeof n||u(n)||(n={}),f===l&&(n=this,f--);f<l;f++)if(null!=(o=arguments[f]))for(e in o)t=n[e],n!==(r=o[e])&&(c&&r&&(i.isPlainObject(r)||(s=Array.isArray(r)))?(s?(s=!1,h=t&&Array.isArray(t)?t:[]):h=t&&i.isPlainObject(t)?t:{},n[e]=i.extend(c,h,r)):void 0!==r&&(n[e]=r));return n};i.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isPlainObject:function(n){var t,i;return!(!n||"[object Object]"!==or.call(n))&&(!(t=bf(n))||"function"==typeof(i=kt.call(t,"constructor")&&t.constructor)&&sr.call(i)===kf)},isEmptyObject:function(n){for(var t in n)return!1;return!0},globalEval:function(n){hr(n)},each:function(n,t){var r,i=0;if(hi(n)){for(r=n.length;i<r;i++)if(!1===t.call(n[i],i,n[i]))break}else for(i in n)if(!1===t.call(n[i],i,n[i]))break;return n},trim:function(n){return null==n?"":(n+"").replace(gf,"")},makeArray:function(n,t){var r=t||[];return null!=n&&(hi(Object(n))?i.merge(r,"string"==typeof n?[n]:n):si.call(r,n)),r},inArray:function(n,t,i){return null==t?-1:wt.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var f,u=[],r=0,e=n.length,o=!i;r<e;r++)(f=!t(n[r],r))!==o&&u.push(n[r]);return u},map:function(n,t,i){var e,u,r=0,f=[];if(hi(n))for(e=n.length;r<e;r++)null!=(u=t(n[r],r,i))&&f.push(u);else for(r in n)null!=(u=t(n[r],r,i))&&f.push(u);return er.apply([],f)},guid:1,support:e});"function"==typeof Symbol&&(i.fn[Symbol.iterator]=k[Symbol.iterator]);i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){bt["[object "+t+"]"]=t.toLowerCase()});b=function(n){function u(n,t,r,u){var s,p,l,a,w,d,g,y=t&&t.ownerDocument,v=t?t.nodeType:9;if(r=r||[],"string"!=typeof n||!n||1!==v&&9!==v&&11!==v)return r;if(!u&&((t?t.ownerDocument||t:c)!==i&&b(t),t=t||i,h)){if(11!==v&&(w=cr.exec(n)))if(s=w[1]){if(9===v){if(!(l=t.getElementById(s)))return r;if(l.id===s)return r.push(l),r}else if(y&&(l=y.getElementById(s))&&et(t,l)&&l.id===s)return r.push(l),r}else{if(w[2])return k.apply(r,t.getElementsByTagName(n)),r;if((s=w[3])&&e.getElementsByClassName&&t.getElementsByClassName)return k.apply(r,t.getElementsByClassName(s)),r}if(e.qsa&&!lt[n+" "]&&(!o||!o.test(n))){if(1!==v)y=t,g=n;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(vi,yi):t.setAttribute("id",a=f),p=(d=ft(n)).length;p--;)d[p]="#"+a+" "+yt(d[p]);g=d.join(",");y=ni.test(n)&&ri(t.parentNode)||t}if(g)try{return k.apply(r,y.querySelectorAll(g)),r}catch(n){}finally{a===f&&t.removeAttribute("id")}}}return si(n.replace(at,"$1"),t,r,u)}function ti(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function l(n){return n[f]=!0,n}function a(n){var t=i.createElement("fieldset");try{return!!n(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ii(n,i){for(var r=n.split("|"),u=r.length;u--;)t.attrHandle[r[u]]=i}function wi(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&n.sourceIndex-t.sourceIndex;if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function ar(n){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===n}}function vr(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function bi(n){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===n:t.disabled===n:t.isDisabled===n||t.isDisabled!==!n&&lr(t)===n:t.disabled===n:"label"in t&&t.disabled===n}}function it(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ri(n){return n&&"undefined"!=typeof n.getElementsByTagName&&n}function ki(){}function yt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function pt(n,t,i){var r=t.dir,u=t.next,e=u||r,o=i&&"parentNode"===e,s=di++;return t.first?function(t,i,u){while(t=t[r])if(1===t.nodeType||o)return n(t,i,u);return!1}:function(t,i,h){var c,l,a,y=[v,s];if(h){while(t=t[r])if((1===t.nodeType||o)&&n(t,i,h))return!0}else while(t=t[r])if(1===t.nodeType||o)if(a=t[f]||(t[f]={}),l=a[t.uniqueID]||(a[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[e])&&c[0]===v&&c[1]===s)return y[2]=c[2];if(l[e]=y,y[2]=n(t,i,h))return!0}return!1}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function yr(n,t,i){for(var r=0,f=t.length;r<f;r++)u(n,t[r],i);return i}function wt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;f<s;f++)(e=n[f])&&(i&&!i(e,r,u)||(o.push(e),h&&t.push(f)));return o}function fi(n,t,i,r,u,e){return r&&!r[f]&&(r=fi(r)),u&&!u[f]&&(u=fi(u,e)),l(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,b=f||yr(t||"*",o.nodeType?[o]:o,[]),v=!n||!f&&t?b:wt(b,p,n,o,s),h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=wt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=wt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):k.apply(e,h)})}function ei(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=pt(function(n){return n===o},c,!0),a=pt(function(n){return nt(o,n)>-1},c,!0),e=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];i<s;i++)if(u=t.relative[n[i].type])e=[pt(ui(e),u)];else{if((u=t.filter[n[i].type].apply(null,n[i].matches))[f]){for(r=++i;r<s;r++)if(t.relative[n[r].type])break;return fi(i>1&&ui(e),i>1&&yt(n.slice(0,i-1).concat({value:" "===n[i-2].type?"*":""})).replace(at,"$1"),u,i<r&&ei(n.slice(i,r)),r<s&&ei(n=n.slice(r)),r<s&&yt(n))}e.push(u)}return ui(e)}function pr(n,r){var f=r.length>0,e=n.length>0,o=function(o,s,c,l,a){var y,nt,d,g=0,p="0",tt=o&&[],w=[],it=ht,rt=o||e&&t.find.TAG("*",a),ut=v+=null==it?1:Math.random()||.1,ft=rt.length;for(a&&(ht=s===i||s||a);p!==ft&&null!=(y=rt[p]);p++){if(e&&y){for(nt=0,s||y.ownerDocument===i||(b(y),c=!h);d=n[nt++];)if(d(y,s||i,c)){l.push(y);break}a&&(v=ut)}f&&((y=!d&&y)&&g--,o&&tt.push(y))}if(g+=p,f&&p!==g){for(nt=0;d=r[nt++];)d(tt,w,s,c);if(o){if(g>0)while(p--)tt[p]||w[p]||(w[p]=nr.call(l));w=wt(w)}k.apply(l,w);a&&!o&&w.length>0&&g+r.length>1&&u.uniqueSort(l)}return a&&(v=ut,ht=it),tt};return f?l(o):o}var rt,e,t,st,oi,ft,bt,si,ht,w,ut,b,i,s,h,o,d,ct,et,f="sizzle"+1*new Date,c=n.document,v=0,di=0,hi=ti(),ci=ti(),lt=ti(),kt=function(n,t){return n===t&&(ut=!0),0},gi={}.hasOwnProperty,g=[],nr=g.pop,tr=g.push,k=g.push,li=g.slice,nt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},dt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",r="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ai="\\["+r+"*("+tt+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tt+"))|)"+r+"*\\]",gt=":("+tt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ai+")*)|.*)\\)|)",ir=new RegExp(r+"+","g"),at=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),rr=new RegExp("^"+r+"*,"+r+"*"),ur=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),fr=new RegExp("="+r+"*([^\\]'\"]*?)"+r+"*\\]","g"),er=new RegExp(gt),or=new RegExp("^"+tt+"$"),vt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),TAG:new RegExp("^("+tt+"|[*])"),ATTR:new RegExp("^"+ai),PSEUDO:new RegExp("^"+gt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:"+dt+")$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},sr=/^(?:input|select|textarea|button)$/i,hr=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,cr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ni=/[+~]/,y=new RegExp("\\\\([\\da-f]{1,6}"+r+"?|("+r+")|.)","ig"),p=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},vi=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,yi=function(n,t){return t?"\0"===n?"�":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n},pi=function(){b()},lr=pt(function(n){return!0===n.disabled&&("form"in n||"label"in n)},{dir:"parentNode",next:"legend"});try{k.apply(g=li.call(c.childNodes),c.childNodes);g[c.childNodes.length].nodeType}catch(n){k={apply:g.length?function(n,t){tr.apply(n,li.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}e=u.support={};oi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return!!t&&"HTML"!==t.nodeName};b=u.setDocument=function(n){var v,u,l=n?n.ownerDocument||n:c;return l!==i&&9===l.nodeType&&l.documentElement?(i=l,s=i.documentElement,h=!oi(i),c!==i&&(u=i.defaultView)&&u.top!==u&&(u.addEventListener?u.addEventListener("unload",pi,!1):u.attachEvent&&u.attachEvent("onunload",pi)),e.attributes=a(function(n){return n.className="i",!n.getAttribute("className")}),e.getElementsByTagName=a(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),e.getElementsByClassName=ot.test(i.getElementsByClassName),e.getById=a(function(n){return s.appendChild(n).id=f,!i.getElementsByName||!i.getElementsByName(f).length}),e.getById?(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}},t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&h){var i=t.getElementById(n);return i?[i]:[]}}):(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i="undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id");return i&&i.value===t}},t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&h){var r,u,f,i=t.getElementById(n);if(i){if((r=i.getAttributeNode("id"))&&r.value===n)return[i];for(f=t.getElementsByName(n),u=0;i=f[u++];)if((r=i.getAttributeNode("id"))&&r.value===n)return[i]}return[]}}),t.find.TAG=e.getElementsByTagName?function(n,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(n):e.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},t.find.CLASS=e.getElementsByClassName&&function(n,t){if("undefined"!=typeof t.getElementsByClassName&&h)return t.getElementsByClassName(n)},d=[],o=[],(e.qsa=ot.test(i.querySelectorAll))&&(a(function(n){s.appendChild(n).innerHTML="<a id='"+f+"'><\/a><select id='"+f+"-\r\\' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&o.push("[*^$]="+r+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+r+"*(?:value|"+dt+")");n.querySelectorAll("[id~="+f+"-]").length||o.push("~=");n.querySelectorAll(":checked").length||o.push(":checked");n.querySelectorAll("a#"+f+"+*").length||o.push(".#.+[+~]")}),a(function(n){n.innerHTML="<a href='' disabled='disabled'><\/a><select disabled='disabled'><option/><\/select>";var t=i.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+r+"*[*^$|!~]?=");2!==n.querySelectorAll(":enabled").length&&o.push(":enabled",":disabled");s.appendChild(n).disabled=!0;2!==n.querySelectorAll(":disabled").length&&o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(e.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&a(function(n){e.disconnectedMatch=ct.call(n,"*");ct.call(n,"[s!='']:x");d.push("!=",gt)}),o=o.length&&new RegExp(o.join("|")),d=d.length&&new RegExp(d.join("|")),v=ot.test(s.compareDocumentPosition),et=v||ot.test(s.contains)?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},kt=v?function(n,t){if(n===t)return ut=!0,0;var r=!n.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1)||!e.sortDetached&&t.compareDocumentPosition(n)===r?n===i||n.ownerDocument===c&&et(c,n)?-1:t===i||t.ownerDocument===c&&et(c,t)?1:w?nt(w,n)-nt(w,t):0:4&r?-1:1)}:function(n,t){if(n===t)return ut=!0,0;var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(!o||!s)return n===i?-1:t===i?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;if(o===s)return wi(n,t);for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?wi(f[u],e[u]):f[u]===c?-1:e[u]===c?1:0},i):i};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==i&&b(n),t=t.replace(fr,"='$1']"),e.matchesSelector&&h&&!lt[t+" "]&&(!d||!d.test(t))&&(!o||!o.test(t)))try{var r=ct.call(n,t);if(r||e.disconnectedMatch||n.document&&11!==n.document.nodeType)return r}catch(n){}return u(t,i,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==i&&b(n),et(n,t)};u.attr=function(n,r){(n.ownerDocument||n)!==i&&b(n);var f=t.attrHandle[r.toLowerCase()],u=f&&gi.call(t.attrHandle,r.toLowerCase())?f(n,r,!h):void 0;return void 0!==u?u:e.attributes||!h?n.getAttribute(r):(u=n.getAttributeNode(r))&&u.specified?u.value:null};u.escape=function(n){return(n+"").replace(vi,yi)};u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ut=!e.detectDuplicates,w=!e.sortStable&&n.slice(0),n.sort(kt),ut){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return w=null,n};st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(3===t||4===t)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};(t=u.selectors={cacheLength:50,createPseudo:l,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return vt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&er.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=hi[n+" "];return t||(t=new RegExp("(^|"+r+")"+n+"("+r+"|$)"))&&hi(n,function(n){return t.test("string"==typeof n.className&&n.className||"undefined"!=typeof n.getAttribute&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return null==f?"!="===t:!t||(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&f.indexOf(i)>-1:"$="===t?i&&f.slice(-i.length)===i:"~="===t?(" "+f.replace(ir," ")+" ").indexOf(i)>-1:"|="===t&&(f===i||f.slice(0,i.length+1)===i+"-"))}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),o="last"!==n.slice(-4),e="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var p,d,y,c,a,w,b=s!==o?"nextSibling":"previousSibling",k=t.parentNode,nt=e&&t.nodeName.toLowerCase(),g=!h&&!e,l=!1;if(k){if(s){while(b){for(c=t;c=c[b];)if(e?c.nodeName.toLowerCase()===nt:1===c.nodeType)return!1;w=b="only"===n&&!w&&"nextSibling"}return!0}if(w=[o?k.firstChild:k.lastChild],o&&g){for(l=(a=(p=(d=(y=(c=k)[f]||(c[f]={}))[c.uniqueID]||(y[c.uniqueID]={}))[n]||[])[0]===v&&p[1])&&p[2],c=a&&k.childNodes[a];c=++a&&c&&c[b]||(l=a=0)||w.pop();)if(1===c.nodeType&&++l&&c===t){d[n]=[v,a,l];break}}else if(g&&(l=a=(p=(d=(y=(c=t)[f]||(c[f]={}))[c.uniqueID]||(y[c.uniqueID]={}))[n]||[])[0]===v&&p[1]),!1===l)while(c=++a&&c&&c[b]||(l=a=0)||w.pop())if((e?c.nodeName.toLowerCase()===nt:1===c.nodeType)&&++l&&(g&&((d=(y=c[f]||(c[f]={}))[c.uniqueID]||(y[c.uniqueID]={}))[n]=[v,l]),c===t))break;return(l-=u)===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var e,r=t.pseudos[n]||t.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return r[f]?r(i):r.length>1?(e=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,t){for(var e,u=r(n,i),f=u.length;f--;)n[e=nt(n,u[f])]=!(t[e]=u[f])}):function(n){return r(n,0,e)}):r}},pseudos:{not:l(function(n){var t=[],r=[],i=bt(n.replace(at,"$1"));return i[f]?l(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:l(function(n){return function(t){return u(n,t).length>0}}),contains:l(function(n){return n=n.replace(y,p),function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:l(function(n){return or.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===i.activeElement&&(!i.hasFocus||i.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:bi(!1),disabled:bi(!0),checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,!0===n.selected},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return hr.test(n.nodeName)},input:function(n){return sr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||"text"===t.toLowerCase())},first:it(function(){return[0]}),last:it(function(n,t){return[t-1]}),eq:it(function(n,t,i){return[i<0?i+t:i]}),even:it(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:it(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:it(function(n,t,i){for(var r=i<0?i+t:i;--r>=0;)n.push(r);return n}),gt:it(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}}).pseudos.nth=t.pseudos.eq;for(rt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[rt]=ar(rt);for(rt in{submit:!0,reset:!0})t.pseudos[rt]=vr(rt);return ki.prototype=t.filters=t.pseudos,t.setFilters=new ki,ft=u.tokenize=function(n,i){var e,f,s,o,r,h,c,l=ci[n+" "];if(l)return i?0:l.slice(0);for(r=n,h=[],c=t.preFilter;r;){(!e||(f=rr.exec(r)))&&(f&&(r=r.slice(f[0].length)||r),h.push(s=[]));e=!1;(f=ur.exec(r))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),r=r.slice(e.length));for(o in t.filter)(f=vt[o].exec(r))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),r=r.slice(e.length));if(!e)break}return i?r.length:r?u.error(n):ci(n,h).slice(0)},bt=u.compile=function(n,t){var r,u=[],e=[],i=lt[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)(i=ei(t[r]))[f]?u.push(i):e.push(i);(i=lt(n,pr(e,u))).selector=n}return i},si=u.select=function(n,i,r,u){var o,f,e,l,a,c="function"==typeof n&&n,s=!u&&ft(n=c.selector||n);if(r=r||[],1===s.length){if((f=s[0]=s[0].slice(0)).length>2&&"ID"===(e=f[0]).type&&9===i.nodeType&&h&&t.relative[f[1].type]){if(!(i=(t.find.ID(e.matches[0].replace(y,p),i)||[])[0]))return r;c&&(i=i.parentNode);n=n.slice(f.shift().value.length)}for(o=vt.needsContext.test(n)?0:f.length;o--;){if(e=f[o],t.relative[l=e.type])break;if((a=t.find[l])&&(u=a(e.matches[0].replace(y,p),ni.test(f[0].type)&&ri(i.parentNode)||i))){if(f.splice(o,1),!(n=u.length&&yt(f)))return k.apply(r,u),r;break}}}return(c||bt(n,s))(u,i,!h,r,!i||ni.test(n)&&ri(i.parentNode)||i),r},e.sortStable=f.split("").sort(kt).join("")===f,e.detectDuplicates=!!ut,b(),e.sortDetached=a(function(n){return 1&n.compareDocumentPosition(i.createElement("fieldset"))}),a(function(n){return n.innerHTML="<a href='#'><\/a>","#"===n.firstChild.getAttribute("href")})||ii("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,"type"===t.toLowerCase()?1:2)}),e.attributes&&a(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||ii("value",function(n,t,i){if(!i&&"input"===n.nodeName.toLowerCase())return n.defaultValue}),a(function(n){return null==n.getAttribute("disabled")})||ii(dt,function(n,t,i){var r;if(!i)return!0===n[t]?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),u}(n);i.find=b;i.expr=b.selectors;i.expr[":"]=i.expr.pseudos;i.uniqueSort=i.unique=b.uniqueSort;i.text=b.getText;i.isXMLDoc=b.isXML;i.contains=b.contains;i.escapeSelector=b.escape;var rt=function(n,t,r){for(var u=[],f=void 0!==r;(n=n[t])&&9!==n.nodeType;)if(1===n.nodeType){if(f&&i(n).is(r))break;u.push(n)}return u},cr=function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i},lr=i.expr.match.needsContext;ci=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))};i.fn.extend({find:function(n){var t,r,u=this.length,f=this;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0}));for(r=this.pushStack([]),t=0;t<u;t++)i.find(n,f[t],r);return u>1?i.uniqueSort(r):r},filter:function(n){return this.pushStack(li(this,n||[],!1))},not:function(n){return this.pushStack(li(this,n||[],!0))},is:function(n){return!!li(this,"string"==typeof n&&lr.test(n)?i(n):n||[],!1).length}});vr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(i.fn.init=function(n,t,r){var e,o;if(!n)return this;if(r=r||ar,"string"==typeof n){if(!(e="<"===n[0]&&">"===n[n.length-1]&&n.length>=3?[null,n,null]:vr.exec(n))||!e[1]&&t)return!t||t.jquery?(t||r).find(n):this.constructor(t).find(n);if(e[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(e[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),ci.test(e[1])&&i.isPlainObject(t))for(e in t)u(this[e])?this[e](t[e]):this.attr(e,t[e]);return this}return(o=f.getElementById(e[2]))&&(this[0]=o,this.length=1),this}return n.nodeType?(this[0]=n,this.length=1,this):u(n)?void 0!==r.ready?r.ready(n):n(i):i.makeArray(n,this)}).prototype=i.fn;ar=i(f);yr=/^(?:parents|prev(?:Until|All))/;pr={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){var r,f=0,o=this.length,u=[],e="string"!=typeof n&&i(n);if(!lr.test(n))for(;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:1===r.nodeType&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(n){return n?"string"==typeof n?wt.call(i(n),this[0]):wt.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return rt(n,"parentNode")},parentsUntil:function(n,t,i){return rt(n,"parentNode",i)},next:function(n){return wr(n,"nextSibling")},prev:function(n){return wr(n,"previousSibling")},nextAll:function(n){return rt(n,"nextSibling")},prevAll:function(n){return rt(n,"previousSibling")},nextUntil:function(n,t,i){return rt(n,"nextSibling",i)},prevUntil:function(n,t,i){return rt(n,"previousSibling",i)},siblings:function(n){return cr((n.parentNode||{}).firstChild,n)},children:function(n){return cr(n.firstChild)},contents:function(n){return v(n,"iframe")?n.contentDocument:(v(n,"template")&&(n=n.content||n),i.merge([],n.childNodes))}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),this.length>1&&(pr[n]||i.uniqueSort(f),yr.test(n)&&f.reverse()),this.pushStack(f)}});l=/[^\x20\t\r\n\f]+/g;i.Callbacks=function(n){n="string"==typeof n?ne(n):i.extend({},n);var f,r,c,e,t=[],s=[],o=-1,l=function(){for(e=e||n.once,c=f=!0;s.length;o=-1)for(r=s.shift();++o<t.length;)!1===t[o].apply(r[0],r[1])&&n.stopOnFalse&&(o=t.length,r=!1);n.memory||(r=!1);f=!1;e&&(t=r?[]:"")},h={add:function(){return t&&(r&&!f&&(o=t.length-1,s.push(r)),function f(r){i.each(r,function(i,r){u(r)?n.unique&&h.has(r)||t.push(r):r&&r.length&&"string"!==it(r)&&f(r)})}(arguments),r&&!f&&l()),this},remove:function(){return i.each(arguments,function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),u<=o&&o--}),this},has:function(n){return n?i.inArray(n,t)>-1:t.length>0},empty:function(){return t&&(t=[]),this},disable:function(){return e=s=[],t=r="",this},disabled:function(){return!t},lock:function(){return e=s=[],r||f||(t=r=""),this},locked:function(){return!!e},fireWith:function(n,t){return e||(t=[n,(t=t||[]).slice?t.slice():t],s.push(t),f||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};i.extend({Deferred:function(t){var f=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],o="pending",e={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},"catch":function(n){return e.then(null,n)},pipe:function(){var n=arguments;return i.Deferred(function(t){i.each(f,function(i,f){var e=u(n[f[4]])&&n[f[4]];r[f[1]](function(){var n=e&&e.apply(this,arguments);n&&u(n.promise)?n.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[f[0]+"With"](this,e?[n]:arguments)})});n=null}).promise()},then:function(t,r,e){function s(t,r,f,e){return function(){var h=this,c=arguments,a=function(){var n,i;if(!(t<o)){if((n=f.apply(h,c))===r.promise())throw new TypeError("Thenable self-resolution");i=n&&("object"==typeof n||"function"==typeof n)&&n.then;u(i)?e?i.call(n,s(o,r,ut,e),s(o,r,dt,e)):(o++,i.call(n,s(o,r,ut,e),s(o,r,dt,e),s(o,r,ut,r.notifyWith))):(f!==ut&&(h=void 0,c=[n]),(e||r.resolveWith)(h,c))}},l=e?a:function(){try{a()}catch(n){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(n,l.stackTrace);t+1>=o&&(f!==dt&&(h=void 0,c=[n]),r.rejectWith(h,c))}};t?l():(i.Deferred.getStackHook&&(l.stackTrace=i.Deferred.getStackHook()),n.setTimeout(l))}}var o=0;return i.Deferred(function(n){f[0][3].add(s(0,n,u(e)?e:ut,n.notifyWith));f[1][3].add(s(0,n,u(t)?t:ut));f[2][3].add(s(0,n,u(r)?r:dt))}).promise()},promise:function(n){return null!=n?i.extend(n,e):e}},r={};return i.each(f,function(n,t){var i=t[2],u=t[5];e[t[1]]=i.add;u&&i.add(function(){o=u},f[3-n][2].disable,f[3-n][3].disable,f[0][2].lock,f[0][3].lock);i.add(t[3].fire);r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this};r[t[0]+"With"]=i.fireWith}),e.promise(r),t&&t.call(r,r),r},when:function(n){var e=arguments.length,t=e,o=Array(t),f=d.call(arguments),r=i.Deferred(),s=function(n){return function(t){o[n]=this;f[n]=arguments.length>1?d.call(arguments):t;--e||r.resolveWith(o,f)}};if(e<=1&&(br(n,r.done(s(t)).resolve,r.reject,!e),"pending"===r.state()||u(f[t]&&f[t].then)))return r.then();while(t--)br(f[t],s(t),r.reject);return r.promise()}});kr=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(t,i){n.console&&n.console.warn&&t&&kr.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)};i.readyException=function(t){n.setTimeout(function(){throw t;})};gt=i.Deferred();i.fn.ready=function(n){return gt.then(n)["catch"](function(n){i.readyException(n)}),this};i.extend({isReady:!1,readyWait:1,ready:function(n){(!0===n?--i.readyWait:i.isReady)||(i.isReady=!0,!0!==n&&--i.readyWait>0||gt.resolveWith(f,[i]))}});i.ready.then=gt.then;"complete"===f.readyState||"loading"!==f.readyState&&!f.documentElement.doScroll?n.setTimeout(i.ready):(f.addEventListener("DOMContentLoaded",ni),n.addEventListener("load",ni));var p=function(n,t,r,f,e,o,s){var h=0,l=n.length,c=null==r;if("object"===it(r)){e=!0;for(h in r)p(n,t,h,r[h],!0,o,s)}else if(void 0!==f&&(e=!0,u(f)||(s=!0),c&&(s?(t.call(n,f),t=null):(c=t,t=function(n,t,r){return c.call(i(n),r)})),t))for(;h<l;h++)t(n[h],r,s?f:f.call(n[h],h,t(n[h],r)));return e?n:c?t.call(n):l?t(n[0],r):o},te=/^-ms-/,ie=/-([a-z])/g;lt=function(n){return 1===n.nodeType||9===n.nodeType||!+n.nodeType};at.uid=1;at.prototype={cache:function(n){var t=n[this.expando];return t||(t={},lt(n)&&(n.nodeType?n[this.expando]=t:Object.defineProperty(n,this.expando,{value:t,configurable:!0}))),t},set:function(n,t,i){var r,u=this.cache(n);if("string"==typeof t)u[y(t)]=i;else for(r in t)u[y(r)]=t[r];return u},get:function(n,t){return void 0===t?this.cache(n):n[this.expando]&&n[this.expando][y(t)]},access:function(n,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(n,t):(this.set(n,t,i),void 0!==i?i:t)},remove:function(n,t){var u,r=n[this.expando];if(void 0!==r){if(void 0!==t)for(u=(t=Array.isArray(t)?t.map(y):(t=y(t))in r?[t]:t.match(l)||[]).length;u--;)delete r[t[u]];(void 0===t||i.isEmptyObject(r))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(n){var t=n[this.expando];return void 0!==t&&!i.isEmptyObject(t)}};var r=new at,o=new at,ue=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,fe=/[A-Z]/g;i.extend({hasData:function(n){return o.hasData(n)||r.hasData(n)},data:function(n,t,i){return o.access(n,t,i)},removeData:function(n,t){o.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var f,u,e,i=this[0],s=i&&i.attributes;if(void 0===n){if(this.length&&(e=o.get(i),1===i.nodeType&&!r.get(i,"hasDataAttrs"))){for(f=s.length;f--;)s[f]&&0===(u=s[f].name).indexOf("data-")&&(u=y(u.slice(5)),dr(i,u,e[u]));r.set(i,"hasDataAttrs",!0)}return e}return"object"==typeof n?this.each(function(){o.set(this,n)}):p(this,function(t){var r;if(i&&void 0===t){if(void 0!==(r=o.get(i,n))||void 0!==(r=dr(i,n)))return r}else this.each(function(){o.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){o.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||Array.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};"inprogress"===u&&(u=r.shift(),e--);u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return"string"!=typeof n&&(t=n,n="fx",r--),arguments.length<r?i.queue(this[0],n):void 0===t?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);"fx"===n&&"inprogress"!==r[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for("string"!=typeof n&&(t=n,n=void 0),n=n||"fx";s--;)(u=r.get(f[s],n+"queueHooks"))&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var gr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,vt=new RegExp("^(?:([+-])=|)("+gr+")([a-z%]*)$","i"),w=["Top","Right","Bottom","Left"],ti=function(n,t){return"none"===(n=t||n).style.display||""===n.style.display&&i.contains(n.ownerDocument,n)&&"none"===i.css(n,"display")},nu=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f};ai={};i.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){ti(this)?i(this).show():i(this).hide()})}});var iu=/^(?:checkbox|radio)$/i,ru=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,uu=/^$|^module$|\/(?:java|ecma)script/i,c={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};c.optgroup=c.option;c.tbody=c.tfoot=c.colgroup=c.caption=c.thead;c.th=c.td;fu=/<|&#?\w+;/;!function(){var n=f.createDocumentFragment().appendChild(f.createElement("div")),t=f.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);e.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";e.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue}();var ii=f.documentElement,se=/^key/,he=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ou=/^([^.]*)(?:\.(.+)|)/;i.event={global:{},add:function(n,t,u,f,e){var p,v,k,y,w,h,s,c,o,b,d,a=r.get(n);if(a)for(u.handler&&(u=(p=u).handler,e=p.selector),e&&i.find.matchesSelector(ii,e),u.guid||(u.guid=i.guid++),(y=a.events)||(y=a.events={}),(v=a.handle)||(v=a.handle=function(t){if("undefined"!=typeof i&&i.event.triggered!==t.type)return i.event.dispatch.apply(n,arguments)}),w=(t=(t||"").match(l)||[""]).length;w--;)o=d=(k=ou.exec(t[w])||[])[1],b=(k[2]||"").split(".").sort(),o&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:d,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:b.join(".")},p),(c=y[o])||((c=y[o]=[]).delegateCount=0,s.setup&&!1!==s.setup.call(n,f,b,v)||n.addEventListener&&n.addEventListener(o,v)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?c.splice(c.delegateCount++,0,h):c.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var y,k,h,v,p,s,c,a,o,b,d,w=r.hasData(n)&&r.get(n);if(w&&(v=w.events)){for(p=(t=(t||"").match(l)||[""]).length;p--;)if(h=ou.exec(t[p])||[],o=d=h[1],b=(h[2]||"").split(".").sort(),o){for(c=i.event.special[o]||{},a=v[o=(f?c.delegateType:c.bindType)||o]||[],h=h[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=y=a.length;y--;)s=a[y],!e&&d!==s.origType||u&&u.guid!==s.guid||h&&!h.test(s.namespace)||f&&f!==s.selector&&("**"!==f||!s.selector)||(a.splice(y,1),s.selector&&a.delegateCount--,c.remove&&c.remove.call(n,s));k&&!a.length&&(c.teardown&&!1!==c.teardown.call(n,b,w.handle)||i.removeEvent(n,o,w.handle),delete v[o])}else for(o in v)i.event.remove(n,o+t[p],u,f,!0);i.isEmptyObject(v)&&r.remove(n,"handle events")}},dispatch:function(n){var t=i.event.fix(n),u,h,c,e,f,l,s=new Array(arguments.length),a=(r.get(this,"events")||{})[t.type]||[],o=i.event.special[t.type]||{};for(s[0]=t,u=1;u<arguments.length;u++)s[u]=arguments[u];if(t.delegateTarget=this,!o.preDispatch||!1!==o.preDispatch.call(this,t)){for(l=i.event.handlers.call(this,t,a),u=0;(e=l[u++])&&!t.isPropagationStopped();)for(t.currentTarget=e.elem,h=0;(f=e.handlers[h++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(f.namespace)||(t.handleObj=f,t.data=f.data,void 0!==(c=((i.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,s))&&!1===(t.result=c)&&(t.preventDefault(),t.stopPropagation()));return o.postDispatch&&o.postDispatch.call(this,t),t.result}},handlers:function(n,t){var f,h,u,e,o,c=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&!("click"===n.type&&n.button>=1))for(;r!==this;r=r.parentNode||this)if(1===r.nodeType&&("click"!==n.type||!0!==r.disabled)){for(e=[],o={},f=0;f<s;f++)void 0===o[u=(h=t[f]).selector+" "]&&(o[u]=h.needsContext?i(u,this).index(r)>-1:i.find(u,this,null,[r]).length),o[u]&&e.push(h);e.length&&c.push({elem:r,handlers:e})}return r=this,s<t.length&&c.push({elem:r,handlers:t.slice(s)}),c},addProp:function(n,t){Object.defineProperty(i.Event.prototype,n,{enumerable:!0,configurable:!0,get:u(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(t){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(n){return n[i.expando]?n:new i.Event(n)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==su()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===su()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&v(this,"input"))return this.click(),!1},_default:function(n){return v(n.target,"a")}},beforeunload:{postDispatch:function(n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||void 0===n.defaultPrevented&&!1===n.returnValue?ri:et,this.target=n.target&&3===n.target.nodeType?n.target.parentNode:n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||Date.now();this[i.expando]=!0};i.Event.prototype={constructor:i.Event,isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=ri;n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=ri;n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=ri;n&&!this.isSimulated&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(n){var t=n.button;return null==n.which&&se.test(n.type)?null!=n.charCode?n.charCode:n.keyCode:!n.which&&void 0!==t&&he.test(n.type)?1&t?1:2&t?3:4&t?2:0:n.which}},i.event.addProp);i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});i.fn.extend({on:function(n,t,i,r){return yi(this,n,t,i,r)},one:function(n,t,i,r){return yi(this,n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if("object"==typeof n){for(f in n)this.off(f,t,n[f]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=et),this.each(function(){i.event.remove(this,n,r,t)})}});var ce=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,le=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;i.extend({htmlPrefilter:function(n){return n.replace(ce,"<$1><\/$2>")},clone:function(n,t,r){var u,c,o,f,h=n.cloneNode(!0),l=i.contains(n.ownerDocument,n);if(!(e.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(f=s(h),u=0,c=(o=s(n)).length;u<c;u++)we(o[u],f[u]);if(t)if(r)for(o=o||s(n),f=f||s(h),u=0,c=o.length;u<c;u++)cu(o[u],f[u]);else cu(n,h);return(f=s(h,"script")).length>0&&vi(f,!l&&s(n,"script")),h},cleanData:function(n){for(var u,t,f,s=i.event.special,e=0;void 0!==(t=n[e]);e++)if(lt(t)){if(u=t[r.expando]){if(u.events)for(f in u.events)s[f]?i.event.remove(t,f):i.removeEvent(t,f,u.handle);t[r.expando]=void 0}t[o.expando]&&(t[o.expando]=void 0)}}});i.fn.extend({detach:function(n){return lu(this,n,!0)},remove:function(n){return lu(this,n)},text:function(n){return p(this,function(n){return void 0===n?i.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=n)})},null,n,arguments.length)},append:function(){return ot(this,arguments,function(n){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||hu(this,n).appendChild(n)})},prepend:function(){return ot(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=hu(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return ot(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return ot(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,t=0;null!=(n=this[t]);t++)1===n.nodeType&&(i.cleanData(s(n,!1)),n.textContent="");return this},clone:function(n,t){return n=null!=n&&n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return p(this,function(n){var t=this[0]||{},r=0,u=this.length;if(void 0===n&&1===t.nodeType)return t.innerHTML;if("string"==typeof n&&!le.test(n)&&!c[(ru.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;r<u;r++)1===(t=this[r]||{}).nodeType&&(i.cleanData(s(t,!1)),t.innerHTML=n);t=0}catch(n){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=[];return ot(this,arguments,function(t){var r=this.parentNode;i.inArray(this,n)<0&&(i.cleanData(s(this)),r&&r.replaceChild(t,this))},n)}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),si.apply(f,u.get());return this.pushStack(f)}});var pi=new RegExp("^("+gr+")(?!px)[a-z%]+$","i"),ui=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=n),i.getComputedStyle(t)},be=new RegExp(w.join("|"),"i");!function(){function r(){if(t){o.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";t.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";ii.appendChild(o).appendChild(t);var i=n.getComputedStyle(t);s="1%"!==i.top;a=12===u(i.marginLeft);t.style.right="60%";l=36===u(i.right);h=36===u(i.width);t.style.position="absolute";c=36===t.offsetWidth||"absolute";ii.removeChild(o);t=null}}function u(n){return Math.round(parseFloat(n))}var s,h,c,l,a,o=f.createElement("div"),t=f.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===t.style.backgroundClip,i.extend(e,{boxSizingReliable:function(){return r(),h},pixelBoxStyles:function(){return r(),l},pixelPosition:function(){return r(),s},reliableMarginLeft:function(){return r(),a},scrollboxSize:function(){return r(),c}}))}();var ke=/^(none|table(?!-c[ea]).+)/,vu=/^--/,de={position:"absolute",visibility:"hidden",display:"block"},yu={letterSpacing:"0",fontWeight:"400"},pu=["Webkit","Moz","ms"],wu=f.createElement("div").style;i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=yt(n,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(n,t,r,u){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var f,h,o,c=y(t),l=vu.test(t),s=n.style;if(l||(t=bu(c)),o=i.cssHooks[t]||i.cssHooks[c],void 0===r)return o&&"get"in o&&void 0!==(f=o.get(n,!1,u))?f:s[t];"string"==(h=typeof r)&&(f=vt.exec(r))&&f[1]&&(r=tu(n,t,f),h="number");null!=r&&r===r&&("number"===h&&(r+=f&&f[3]||(i.cssNumber[c]?"":"px")),e.clearCloneStyle||""!==r||0!==t.indexOf("background")||(s[t]="inherit"),o&&"set"in o&&void 0===(r=o.set(n,r,u))||(l?s.setProperty(t,r):s[t]=r))}},css:function(n,t,r,u){var f,e,o,s=y(t);return vu.test(t)||(t=bu(s)),(o=i.cssHooks[t]||i.cssHooks[s])&&"get"in o&&(f=o.get(n,!0,r)),void 0===f&&(f=yt(n,t,u)),"normal"===f&&t in yu&&(f=yu[t]),""===r||r?(e=parseFloat(f),!0===r||isFinite(e)?e||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return!ke.test(i.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?du(n,t,u):nu(n,de,function(){return du(n,t,u)})},set:function(n,r,u){var s,f=ui(n),h="border-box"===i.css(n,"boxSizing",!1,f),o=u&&wi(n,t,u,h,f);return h&&e.scrollboxSize()===f.position&&(o-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(f[t])-wi(n,t,"border",!1,f)-.5)),o&&(s=vt.exec(r))&&"px"!==(s[3]||"px")&&(n.style[t]=r,r=i.css(n,t)),ku(n,r,o)}}});i.cssHooks.marginLeft=au(e.reliableMarginLeft,function(n,t){if(t)return(parseFloat(yt(n,"marginLeft"))||n.getBoundingClientRect().left-nu(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}))+"px"});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];r<4;r++)f[n+w[r]+t]=u[r]||u[r-2]||u[0];return f}};"margin"!==n&&(i.cssHooks[n+t].set=ku)});i.fn.extend({css:function(n,t){return p(this,function(n,t,r){var f,e,o={},u=0;if(Array.isArray(t)){for(f=ui(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return void 0!==r?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)}});i.Tween=h;h.prototype={constructor:h,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||i.easing._default;this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=h.propHooks[this.prop];return n&&n.get?n.get(this):h.propHooks._default.get(this)},run:function(n){var t,r=h.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):h.propHooks._default.set(this),this}};h.prototype.init.prototype=h.prototype;h.propHooks={_default:{get:function(n){var t;return 1!==n.elem.nodeType||null!=n.elem[n.prop]&&null==n.elem.style[n.prop]?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""))&&"auto"!==t?t:0},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):1!==n.elem.nodeType||null==n.elem.style[i.cssProps[n.prop]]&&!i.cssHooks[n.prop]?n.elem[n.prop]=n.now:i.style(n.elem,n.prop,n.now+n.unit)}}};h.propHooks.scrollTop=h.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"};i.fx=h.prototype.init;i.fx.step={};gu=/^(?:toggle|show|hide)$/;nf=/queueHooks$/;i.Animation=i.extend(a,{tweeners:{"*":[function(n,t){var i=this.createTween(n,t);return tu(i.elem,n,vt.exec(t),i),i}]},tweener:function(n,t){u(n)?(t=n,n=["*"]):n=n.match(l);for(var i,r=0,f=n.length;r<f;r++)i=n[r],a.tweeners[i]=a.tweeners[i]||[],a.tweeners[i].unshift(t)},prefilters:[no],prefilter:function(n,t){t?a.prefilters.unshift(n):a.prefilters.push(n)}});i.speed=function(n,t,r){var f=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||u(n)&&n,duration:n,easing:r&&t||t&&!u(t)&&t};return i.fx.off?f.duration=0:"number"!=typeof f.duration&&(f.duration=f.duration in i.fx.speeds?i.fx.speeds[f.duration]:i.fx.speeds._default),null!=f.queue&&!0!==f.queue||(f.queue="fx"),f.old=f.complete,f.complete=function(){u(f.old)&&f.old.call(this);f.queue&&i.dequeue(this,f.queue)},f};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(ti).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=a(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||!1===o.queue?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return"string"!=typeof n&&(u=t,t=n,n=void 0),t&&!1!==n&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=null!=n&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&nf.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem!==this||null!=n&&o[t].queue!==n||(o[t].anim.stop(u),s=!1,o.splice(t,1));!s&&u||i.dequeue(this,n)})},finish:function(n){return!1!==n&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(ei(t,!0),n,i,u)}});i.each({slideDown:ei("show"),slideUp:ei("hide"),slideToggle:ei("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(st=Date.now();n<t.length;n++)(r=t[n])()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();st=void 0};i.fx.timer=function(n){i.timers.push(n);i.fx.start()};i.fx.interval=13;i.fx.start=function(){fi||(fi=!0,bi())};i.fx.stop=function(){fi=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(t,r){return t=i.fx?i.fx.speeds[t]||t:t,r=r||"fx",this.queue(r,function(i,r){var u=n.setTimeout(i,t);r.stop=function(){n.clearTimeout(u)}})},function(){var n=f.createElement("input"),t=f.createElement("select").appendChild(f.createElement("option"));n.type="checkbox";e.checkOn=""!==n.value;e.optSelected=t.selected;(n=f.createElement("input")).value="t";n.type="radio";e.radioValue="t"===n.value}();ht=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return p(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return"undefined"==typeof n.getAttribute?i.prop(n,t,r):(1===e&&i.isXMLDoc(n)||(u=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?uf:void 0)),void 0!==r?null===r?void i.removeAttr(n,t):u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:(n.setAttribute(t,r+""),r):u&&"get"in u&&null!==(f=u.get(n,t))?f:null==(f=i.find.attr(n,t))?void 0:f)},attrHooks:{type:{set:function(n,t){if(!e.radioValue&&"radio"===t&&v(n,"input")){var i=n.value;return n.setAttribute("type",t),i&&(n.value=i),t}}}},removeAttr:function(n,t){var i,u=0,r=t&&t.match(l);if(r&&1===n.nodeType)while(i=r[u++])n.removeAttribute(i)}});uf={set:function(n,t,r){return!1===t?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=ht[t]||i.find.attr;ht[t]=function(n,t,i){var f,e,u=t.toLowerCase();return i||(e=ht[u],ht[u]=f,f=null!=r(n,t,i)?u:null,ht[u]=e),f}});ff=/^(?:input|select|textarea|button)$/i;ef=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return p(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({prop:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return 1===e&&i.isXMLDoc(n)||(t=i.propFix[t]||t,u=i.propHooks[t]),void 0!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:n[t]=r:u&&"get"in u&&null!==(f=u.get(n,t))?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):ff.test(n.nodeName)||ef.test(n.nodeName)&&n.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});e.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(n){var t=n.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});i.fn.extend({addClass:function(n){var o,t,r,f,e,s,h,c=0;if(u(n))return this.each(function(t){i(this).addClass(n.call(this,t,nt(this)))});if((o=ki(n)).length)while(t=this[c++])if(f=nt(t),r=1===t.nodeType&&" "+g(f)+" "){for(s=0;e=o[s++];)r.indexOf(" "+e+" ")<0&&(r+=e+" ");f!==(h=g(r))&&t.setAttribute("class",h)}return this},removeClass:function(n){var o,r,t,f,e,s,h,c=0;if(u(n))return this.each(function(t){i(this).removeClass(n.call(this,t,nt(this)))});if(!arguments.length)return this.attr("class","");if((o=ki(n)).length)while(r=this[c++])if(f=nt(r),t=1===r.nodeType&&" "+g(f)+" "){for(s=0;e=o[s++];)while(t.indexOf(" "+e+" ")>-1)t=t.replace(" "+e+" "," ");f!==(h=g(t))&&r.setAttribute("class",h)}return this},toggleClass:function(n,t){var f=typeof n,e="string"===f||Array.isArray(n);return"boolean"==typeof t&&e?t?this.addClass(n):this.removeClass(n):u(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,nt(this),t),t)}):this.each(function(){var t,o,u,s;if(e)for(o=0,u=i(this),s=ki(n);t=s[o++];)u.hasClass(t)?u.removeClass(t):u.addClass(t);else void 0!==n&&"boolean"!==f||((t=nt(this))&&r.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===n?"":r.get(this,"__className__")||""))})},hasClass:function(n){for(var t,r=0,i=" "+n+" ";t=this[r++];)if(1===t.nodeType&&(" "+g(nt(t))+" ").indexOf(i)>-1)return!0;return!1}});of=/\r/g;i.fn.extend({val:function(n){var t,r,e,f=this[0];return arguments.length?(e=u(n),this.each(function(r){var u;1===this.nodeType&&(null==(u=e?n.call(this,r,i(this).val()):n)?u="":"number"==typeof u?u+="":Array.isArray(u)&&(u=i.map(u,function(n){return null==n?"":n+""})),(t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,u,"value")||(this.value=u))})):f?(t=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(f,"value"))?r:"string"==typeof(r=f.value)?r.replace(of,""):null==r?"":r:void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return null!=t?t:g(i.text(n))}},select:{get:function(n){for(var e,t,o=n.options,u=n.selectedIndex,f="select-one"===n.type,s=f?null:[],h=f?u+1:o.length,r=u<0?h:f?u:0;r<h;r++)if(((t=o[r]).selected||r===u)&&!t.disabled&&(!t.parentNode.disabled||!v(t.parentNode,"optgroup"))){if(e=i(t).val(),f)return e;s.push(e)}return s},set:function(n,t){for(var r,u,f=n.options,e=i.makeArray(t),o=f.length;o--;)((u=f[o]).selected=i.inArray(i.valHooks.option.get(u),e)>-1)&&(r=!0);return r||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(Array.isArray(t))return n.checked=i.inArray(i(n).val(),t)>-1}};e.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});e.focusin="onfocusin"in n;di=/^(?:focusinfocus|focusoutblur)$/;gi=function(n){n.stopPropagation()};i.extend(i.event,{trigger:function(t,e,o,s){var k,c,l,d,v,y,a,p,w=[o||f],h=kt.call(t,"type")?t.type:t,b=kt.call(t,"namespace")?t.namespace.split("."):[];if(c=p=l=o=o||f,3!==o.nodeType&&8!==o.nodeType&&!di.test(h+i.event.triggered)&&(h.indexOf(".")>-1&&(h=(b=h.split(".")).shift(),b.sort()),v=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),e=null==e?[t]:i.makeArray(e,[t]),a=i.event.special[h]||{},s||!a.trigger||!1!==a.trigger.apply(o,e))){if(!s&&!a.noBubble&&!tt(o)){for(d=a.delegateType||h,di.test(d+h)||(c=c.parentNode);c;c=c.parentNode)w.push(c),l=c;l===(o.ownerDocument||f)&&w.push(l.defaultView||l.parentWindow||n)}for(k=0;(c=w[k++])&&!t.isPropagationStopped();)p=c,t.type=k>1?d:a.bindType||h,(y=(r.get(c,"events")||{})[t.type]&&r.get(c,"handle"))&&y.apply(c,e),(y=v&&c[v])&&y.apply&&lt(c)&&(t.result=y.apply(c,e),!1===t.result&&t.preventDefault());return t.type=h,s||t.isDefaultPrevented()||a._default&&!1!==a._default.apply(w.pop(),e)||!lt(o)||v&&u(o[h])&&!tt(o)&&((l=o[v])&&(o[v]=null),i.event.triggered=h,t.isPropagationStopped()&&p.addEventListener(h,gi),o[h](),t.isPropagationStopped()&&p.removeEventListener(h,gi),i.event.triggered=void 0,l&&(o[v]=l)),t.result}},simulate:function(n,t,r){var u=i.extend(new i.Event,r,{type:n,isSimulated:!0});i.event.trigger(u,null,t)}});i.fn.extend({trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});e.focusin||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n))};i.event.special[t]={setup:function(){var i=this.ownerDocument||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});var pt=n.location,sf=Date.now(),nr=/\?/;i.parseXML=function(t){var r;if(!t||"string"!=typeof t)return null;try{r=(new n.DOMParser).parseFromString(t,"text/xml")}catch(n){r=void 0}return r&&!r.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+t),r};var io=/\[\]$/,hf=/\r?\n/g,ro=/^(?:submit|button|image|reset|file)$/i,uo=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,f=[],e=function(n,t){var i=u(t)?t():t;f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(r in n)tr(r,n[r],t,e);return f.join("&")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&uo.test(this.nodeName)&&!ro.test(n)&&(this.checked||!iu.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:Array.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(hf,"\r\n")}}):{name:t.name,value:r.replace(hf,"\r\n")}}).get()}});var fo=/%20/g,eo=/#.*$/,oo=/([?&])_=[^&]*/,so=/^(.*?):[ \t]*([^\r\n]*)$/gm,ho=/^(?:GET|HEAD)$/,co=/^\/\//,cf={},ir={},lf="*/".concat("*"),rr=f.createElement("a");return rr.href=pt.href,i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":lf,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?ur(ur(n,i.ajaxSettings),t):ur(i.ajaxSettings,n)},ajaxPrefilter:af(cf),ajaxTransport:af(ir),ajax:function(t,r){function b(t,r,f,c){var v,rt,b,p,g,l=r;s||(s=!0,d&&n.clearTimeout(d),a=void 0,k=c||"",e.readyState=t>0?4:0,v=t>=200&&t<300||304===t,f&&(p=lo(u,e,f)),p=ao(u,p,e,v),v?(u.ifModified&&((g=e.getResponseHeader("Last-Modified"))&&(i.lastModified[o]=g),(g=e.getResponseHeader("etag"))&&(i.etag[o]=g)),204===t||"HEAD"===u.type?l="nocontent":304===t?l="notmodified":(l=p.state,rt=p.data,v=!(b=p.error))):(b=l,!t&&l||(l="error",t<0&&(t=0))),e.status=t,e.statusText=(r||l)+"",v?tt.resolveWith(h,[rt,l,e]):tt.rejectWith(h,[e,l,b]),e.statusCode(w),w=void 0,y&&nt.trigger(v?"ajaxSuccess":"ajaxError",[e,u,v?rt:b]),it.fireWith(h,[e,l]),y&&(nt.trigger("ajaxComplete",[e,u]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0);r=r||{};var a,o,k,v,d,c,s,y,g,p,u=i.ajaxSetup({},r),h=u.context||u,nt=u.context&&(h.nodeType||h.jquery)?i(h):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),w=u.statusCode||{},rt={},ut={},ft="canceled",e={readyState:0,getResponseHeader:function(n){var t;if(s){if(!v)for(v={};t=so.exec(k);)v[t[1].toLowerCase()]=t[2];t=v[n.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return s?k:null},setRequestHeader:function(n,t){return null==s&&(n=ut[n.toLowerCase()]=ut[n.toLowerCase()]||n,rt[n]=t),this},overrideMimeType:function(n){return null==s&&(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(s)e.always(n[e.status]);else for(t in n)w[t]=[w[t],n[t]];return this},abort:function(n){var t=n||ft;return a&&a.abort(t),b(0,t),this}};if(tt.promise(e),u.url=((t||u.url||pt.href)+"").replace(co,pt.protocol+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=(u.dataType||"*").toLowerCase().match(l)||[""],null==u.crossDomain){c=f.createElement("a");try{c.href=u.url;c.href=c.href;u.crossDomain=rr.protocol+"//"+rr.host!=c.protocol+"//"+c.host}catch(n){u.crossDomain=!0}}if(u.data&&u.processData&&"string"!=typeof u.data&&(u.data=i.param(u.data,u.traditional)),vf(cf,u,r,e),s)return e;(y=i.event&&u.global)&&0==i.active++&&i.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!ho.test(u.type);o=u.url.replace(eo,"");u.hasContent?u.data&&u.processData&&0===(u.contentType||"").indexOf("application/x-www-form-urlencoded")&&(u.data=u.data.replace(fo,"+")):(p=u.url.slice(o.length),u.data&&(u.processData||"string"==typeof u.data)&&(o+=(nr.test(o)?"&":"?")+u.data,delete u.data),!1===u.cache&&(o=o.replace(oo,"$1"),p=(nr.test(o)?"&":"?")+"_="+sf+++p),u.url=o+p);u.ifModified&&(i.lastModified[o]&&e.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&e.setRequestHeader("If-None-Match",i.etag[o]));(u.data&&u.hasContent&&!1!==u.contentType||r.contentType)&&e.setRequestHeader("Content-Type",u.contentType);e.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+lf+"; q=0.01":""):u.accepts["*"]);for(g in u.headers)e.setRequestHeader(g,u.headers[g]);if(u.beforeSend&&(!1===u.beforeSend.call(h,e,u)||s))return e.abort();if(ft="abort",it.add(u.complete),e.done(u.success),e.fail(u.error),a=vf(ir,u,r,e)){if(e.readyState=1,y&&nt.trigger("ajaxSend",[e,u]),s)return e;u.async&&u.timeout>0&&(d=n.setTimeout(function(){e.abort("timeout")},u.timeout));try{s=!1;a.send(rt,b)}catch(n){if(s)throw n;b(-1,n)}}else b(-1,"No Transport");return e},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,void 0,t,"script")}}),i.each(["get","post"],function(n,t){i[t]=function(n,r,f,e){return u(r)&&(e=e||f,f=r,r=void 0),i.ajax(i.extend({url:n,type:t,dataType:e,data:r,success:f},i.isPlainObject(n)&&n))}}),i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},i.fn.extend({wrapAll:function(n){var t;return this[0]&&(u(n)&&(n=n.call(this[0])),t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(n){return u(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=u(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(n){return this.parent(n).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(n){return!i.expr.pseudos.visible(n)},i.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(n){}},yf={0:200,1223:204},ct=i.ajaxSettings.xhr(),e.cors=!!ct&&"withCredentials"in ct,e.ajax=ct=!!ct,i.ajaxTransport(function(t){var i,r;if(e.cors||ct&&!t.crossDomain)return{send:function(u,f){var o,e=t.xhr();if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)e[o]=t.xhrFields[o];t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType);t.crossDomain||u["X-Requested-With"]||(u["X-Requested-With"]="XMLHttpRequest");for(o in u)e.setRequestHeader(o,u[o]);i=function(n){return function(){i&&(i=r=e.onload=e.onerror=e.onabort=e.ontimeout=e.onreadystatechange=null,"abort"===n?e.abort():"error"===n?"number"!=typeof e.status?f(0,"error"):f(e.status,e.statusText):f(yf[e.status]||e.status,e.statusText,"text"!==(e.responseType||"text")||"string"!=typeof e.responseText?{binary:e.response}:{text:e.responseText},e.getAllResponseHeaders()))}};e.onload=i();r=e.onerror=e.ontimeout=i("error");void 0!==e.onabort?e.onabort=r:e.onreadystatechange=function(){4===e.readyState&&n.setTimeout(function(){i&&r()})};i=i("abort");try{e.send(t.hasContent&&t.data||null)}catch(n){if(i)throw n;}},abort:function(){i&&i()}}}),i.ajaxPrefilter(function(n){n.crossDomain&&(n.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){void 0===n.cache&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(u,e){r=i("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e("error"===n.type?404:200,n.type)});f.head.appendChild(r[0])},abort:function(){t&&t()}}}}),fr=[],oi=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=fr.pop()||i.expando+"_"+sf++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,f){var e,o,s,h=!1!==t.jsonp&&(oi.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&oi.test(t.data)&&"data");if(h||"jsonp"===t.dataTypes[0])return e=t.jsonpCallback=u(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,h?t[h]=t[h].replace(oi,"$1"+e):!1!==t.jsonp&&(t.url+=(nr.test(t.url)?"&":"?")+t.jsonp+"="+e),t.converters["script json"]=function(){return s||i.error(e+" was not called"),s[0]},t.dataTypes[0]="json",o=n[e],n[e]=function(){s=arguments},f.always(function(){void 0===o?i(n).removeProp(e):n[e]=o;t[e]&&(t.jsonpCallback=r.jsonpCallback,fr.push(e));s&&u(o)&&o(s[0]);s=o=void 0}),"script"}),e.createHTMLDocument=function(){var n=f.implementation.createHTMLDocument("").body;return n.innerHTML="<form><\/form><form><\/form>",2===n.childNodes.length}(),i.parseHTML=function(n,t,r){if("string"!=typeof n)return[];"boolean"==typeof t&&(r=t,t=!1);var s,u,o;return t||(e.createHTMLDocument?((s=(t=f.implementation.createHTMLDocument("")).createElement("base")).href=f.location.href,t.head.appendChild(s)):t=f),u=ci.exec(n),o=!r&&[],u?[t.createElement(u[1])]:(u=eu([n],t,o),o&&o.length&&i(o).remove(),i.merge([],u.childNodes))},i.fn.load=function(n,t,r){var f,s,h,e=this,o=n.indexOf(" ");return o>-1&&(f=g(n.slice(o)),n=n.slice(0,o)),u(t)?(r=t,t=void 0):t&&"object"==typeof t&&(s="POST"),e.length>0&&i.ajax({url:n,type:s||"GET",dataType:"html",data:t}).done(function(n){h=arguments;e.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)}).always(r&&function(n,t){e.each(function(){r.apply(this,h||[n.responseText,t,n])})}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.pseudos.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},i.offset={setOffset:function(n,t,r){var v,o,s,h,f,c,y,l=i.css(n,"position"),a=i(n),e={};"static"===l&&(n.style.position="relative");f=a.offset();s=i.css(n,"top");c=i.css(n,"left");(y=("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1)?(h=(v=a.position()).top,o=v.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);u(t)&&(t=t.call(n,r,i.extend({},f)));null!=t.top&&(e.top=t.top-f.top+h);null!=t.left&&(e.left=t.left-f.left+o);"using"in t?t.using.call(n,e):a.css(e)}},i.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,u,t=this[0];if(t)return t.getClientRects().length?(r=t.getBoundingClientRect(),u=t.ownerDocument.defaultView,{top:r.top+u.pageYOffset,left:r.left+u.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var n,r,u,t=this[0],f={top:0,left:0};if("fixed"===i.css(t,"position"))r=t.getBoundingClientRect();else{for(r=this.offset(),u=t.ownerDocument,n=t.offsetParent||u.documentElement;n&&(n===u.body||n===u.documentElement)&&"static"===i.css(n,"position");)n=n.parentNode;n&&n!==t&&1===n.nodeType&&((f=i(n).offset()).top+=i.css(n,"borderTopWidth",!0),f.left+=i.css(n,"borderLeftWidth",!0))}return{top:r.top-f.top-i.css(t,"marginTop",!0),left:r.left-f.left-i.css(t,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&"static"===i.css(n,"position");)n=n.offsetParent;return n||ii})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,t){var r="pageYOffset"===t;i.fn[n]=function(i){return p(this,function(n,i,u){var f;if(tt(n)?f=n:9===n.nodeType&&(f=n.defaultView),void 0===u)return f?f[t]:n[i];f?f.scrollTo(r?f.pageXOffset:u,r?u:f.pageYOffset):n[i]=u},n,i,arguments.length)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=au(e.pixelPosition,function(n,r){if(r)return r=yt(n,t),pi.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(f,e){var o=arguments.length&&(r||"boolean"!=typeof f),s=r||(!0===f||!0===e?"margin":"border");return p(this,function(t,r,f){var e;return tt(t)?0===u.indexOf("outer")?t["inner"+n]:t.document.documentElement["client"+n]:9===t.nodeType?(e=t.documentElement,Math.max(t.body["scroll"+n],e["scroll"+n],t.body["offset"+n],e["offset"+n],e["client"+n])):void 0===f?i.css(t,r,s):i.style(t,r,f,s)},t,o?f:void 0,o)}})}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}}),i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}}),i.fn.extend({bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)}}),i.proxy=function(n,t){var f,e,r;if("string"==typeof t&&(f=n[t],t=n,n=f),u(n))return e=d.call(arguments,2),r=function(){return n.apply(t||this,e.concat(d.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r},i.holdReady=function(n){n?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=v,i.isFunction=u,i.isWindow=tt,i.camelCase=y,i.type=it,i.now=Date.now,i.isNumeric=function(n){var t=i.type(n);return("number"===t||"string"===t)&&!isNaN(n-parseFloat(n))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return i}),pf=n.jQuery,wf=n.$,i.noConflict=function(t){return n.$===i&&(n.$=wf),t&&n.jQuery===i&&(n.jQuery=pf),i},t||(n.jQuery=n.$=i),i});
/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4");}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(void 0!==i.style[t])return{end:n[t]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){n.support.transition=t();n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));"string"==typeof i&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,""));r=n("#"===u?[]:u);i&&i.preventDefault();r.length||(r=f.closest(".alert"));r.trigger(i=n.Event("close.bs.alert"));i.isDefaultPrevented()||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f));"toggle"==i?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.7";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var i="disabled",r=this.$element,f=r.is("input")?"val":"html",u=r.data();t+="Text";null==u.resetText&&r.data("resetText",r[f]());setTimeout(n.proxy(function(){r[f](null==u[t]?this.options[t]:u[t]);"loadingText"==t?(this.isLoading=!0,r.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(i).removeAttr(i).prop(i,!1))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),i.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active"))};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target).closest(".btn");i.call(r,"toggle");n(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.7";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i=this.getItemIndex(t),f="prev"==n&&0===i||"next"==n&&i==this.$items.length-1,r,u;return f&&!this.options.wrap?t:(r="prev"==n?-1:1,u=(i+r)%this.$items.length,this.$items.eq(u))};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1||n<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f="next"==i?"left":"right",a=this,o,s,h,c;return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),(this.$element.trigger(s),!s.isDefaultPrevented())?((this.sliding=!0,l&&this.pause(),this.$indicators.length)&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this):void 0)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i);!r&&f.toggle&&/show|hide/.test(i)&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.7";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing"),!(r&&r.length&&(f=r.data("bs.collapse"),f&&f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented()))){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented()))return i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},n.support.transition?void this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION):u.call(this)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":u.data();i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function u(t){t&&3===t.which||(n(o).remove(),n(i).each(function(){var u=n(this),i=r(u),f={relatedTarget:this};i.hasClass("open")&&(t&&"click"==t.type&&/input|textarea/i.test(t.target.tagName)&&n.contains(i[0],t.target)||(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented()||(u.attr("aria-expanded","false"),i.removeClass("open").trigger(n.Event("hidden.bs.dropdown",f)))))}))}function e(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));"string"==typeof i&&u[i].call(r)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.7";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=r(f),o=i.hasClass("open"),u(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n(this)).on("click",u),e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger(n.Event("shown.bs.dropdown",e))}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,u;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=r(e),s=o.hasClass("open"),!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(i).trigger("focus"),e.trigger("click");h=" li:not(.disabled):visible a";f=o.find(".dropdown-menu"+h);f.length&&(u=f.index(t.target),38==t.which&&u>0&&u--,40==t.which&&u<f.length-1&&u++,~u||(u=0),f.eq(u).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=e;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",u).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e));"string"==typeof i?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.7";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(u);this.isShown||u.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){n(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in");r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)}))};t.prototype.hide=function(i){i&&i.preventDefault();i=n.Event("hide.bs.modal");this.$element.trigger(i);this.isShown&&!i.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){document===n.target||this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){this.isShown?n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this)):n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){if(r=n.support.transition&&f,this.$backdrop=n(document.createElement("div")).addClass("modal-backdrop "+f).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var n=window.innerWidth,t;n||(t=document.documentElement.getBoundingClientRect(),n=t.right-Math.abs(t.left));this.bodyIsOverflowing=document.body.clientWidth<n;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){n.isDefaultPrevented()||u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;!r&&/destroy|hide/.test(i)||(r||u.data("bs.tooltip",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(n.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focusin",s="hover"==u?"mouseleave":"focusout",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())};t.prototype.isInStateTrue=function(){for(var n in this.inState)if(this.inState[n])return!0;return!1};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),!i.isInStateTrue())return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,e,w,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;y&&(p=i,e=this.getPosition(this.$viewport),i="bottom"==i&&f.bottom+s>e.bottom?"top":"top"==i&&f.top-s<e.top?"bottom":"right"==i&&f.right+o>e.width?"left":"left"==i&&f.left-o<e.left?"right":i,r.removeClass(p).addClass(i));w=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(w,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;"out"==n&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top+=o;t.left+=s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;"top"==i&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?2*u.left-l+h:2*u.top-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function f(){"in"!=r.hoverState&&u.detach();r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type);i&&i()}var r=this,u=n(this.$tip),e=n.Event("hide.bs."+this.type);if(this.$element.trigger(e),!e.isDefaultPrevented())return u.removeClass("in"),n.support.transition&&u.hasClass("fade")?u.one("bsTransitionEnd",f).emulateTransitionEnd(t.TRANSITION_DURATION):f(),this.hoverState=null,this};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var r=t[0],u="BODY"==r.tagName,i=r.getBoundingClientRect();null==i.width&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=window.SVGElement&&r instanceof window.SVGElement,e=u?{top:0,left:0}:f?null:t.offset(),o={scroll:u?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=u?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,o,s,e)};t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.right&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(1e6*Math.random());while(document.getElementById(n));return n};t.prototype.tip=function(){if(!this.$tip&&(this.$tip=n(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type);n.$tip&&n.$tip.detach();n.$tip=null;n.$arrow=null;n.$viewport=null;n.$element=null})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;!r&&/destroy|hide/.test(i)||(r||u.data("bs.popover",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.7";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof t?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){this.$body=n(document.body);this.$scrollElement=n(n(i).is(document.body)?window:i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",n.proxy(this.process,this));this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f));"string"==typeof i&&r[i]()})}t.VERSION="3.3.7";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var n,i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(void 0===t[n+1]||i<t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));"string"==typeof i&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);o?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),o=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&o?f.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.7";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(null!=i&&"top"==this.affixed)return u<i&&"top";if("bottom"==this.affixed)return null!=i?!(u+this.unpin<=f.top)&&"bottom":!(u+e<=n-r)&&"bottom";var o=null==this.affixed,s=o?u:f.top,h=o?e:t;return null!=i&&u<=i?"top":null!=r&&s+h>=n-r&&"bottom"};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=Math.max(n(document).height(),n(document.body).height());if("object"!=typeof r&&(u=f=r),"function"==typeof f&&(f=r.top(this.$element)),"function"==typeof u&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(null!=this.unpin&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin="bottom"==i?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}"bottom"==i&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom);null!=t.offsetTop&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery);
/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.8
 *
 */
(function(n){n.fn.extend({slimScroll:function(i){var r=n.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);return this.each(function(){function p(t){if(v){t=t||window.event;var i=0;t.wheelDelta&&(i=-t.wheelDelta/120);t.detail&&(i=t.detail/3);n(t.target||t.srcTarget||t.srcElement).closest("."+r.wrapperClass).is(u.parent())&&h(i,!0);t.preventDefault&&!s&&t.preventDefault();s||(t.returnValue=!1)}}function h(n,t,i){s=!1;var e=u.outerHeight()-f.outerHeight();t&&(t=parseInt(f.css("top"))+n*parseInt(r.wheelStep)/100*f.outerHeight(),t=Math.min(Math.max(t,0),e),t=0<n?Math.ceil(t):Math.floor(t),f.css({top:t+"px"}));o=parseInt(f.css("top"))/(u.outerHeight()-f.outerHeight());t=o*(u[0].scrollHeight-u.outerHeight());i&&(t=n,n=t/u[0].scrollHeight*u.outerHeight(),n=Math.min(Math.max(n,0),e),f.css({top:n+"px"}));u.scrollTop(t);u.trigger("slimscrolling",~~t);b();l()}function w(){y=Math.max(u.outerHeight()/u[0].scrollHeight*u.outerHeight(),30);f.css({height:y+"px"});var n=y==u.outerHeight()?"none":"block";f.css({display:n})}function b(){w();clearTimeout(nt);o==~~o?(s=r.allowPageScroll,tt!=o&&u.trigger("slimscroll",0==~~o?"top":"bottom")):s=!1;tt=o;y>=u.outerHeight()?s=!0:(f.stop(!0,!0).fadeIn("fast"),r.railVisible&&c.stop(!0,!0).fadeIn("fast"))}function l(){r.alwaysVisible||(nt=setTimeout(function(){r.disableFadeOut&&v||k||d||(f.fadeOut("slow"),c.fadeOut("slow"))},1e3))}var v,k,d,nt,g,y,o,tt,s=!1,u=n(this),e;if(u.parent().hasClass(r.wrapperClass)){var a=u.scrollTop(),f=u.siblings("."+r.barClass),c=u.siblings("."+r.railClass);if(w(),n.isPlainObject(i)){if("height"in i&&"auto"==i.height?(u.parent().css("height","auto"),u.css("height","auto"),e=u.parent().parent().height(),u.parent().css("height",e),u.css("height",e)):"height"in i&&(e=i.height,u.parent().css("height",e),u.css("height",e)),"scrollTo"in i)a=parseInt(r.scrollTo);else if("scrollBy"in i)a+=parseInt(r.scrollBy);else if("destroy"in i){f.remove();c.remove();u.unwrap();return}h(a,!1,!0)}}else if(!(n.isPlainObject(i)&&"destroy"in i)){r.height="auto"==r.height?u.parent().height():r.height;a=n("<div><\/div>").addClass(r.wrapperClass).css({position:"relative",overflow:"hidden",width:r.width,height:r.height});u.css({overflow:"hidden",width:r.width,height:r.height});var c=n("<div><\/div>").addClass(r.railClass).css({width:r.size,height:"100%",position:"absolute",top:0,display:r.alwaysVisible&&r.railVisible?"block":"none","border-radius":r.railBorderRadius,background:r.railColor,opacity:r.railOpacity,zIndex:90}),f=n("<div><\/div>").addClass(r.barClass).css({background:r.color,width:r.size,position:"absolute",top:0,opacity:r.opacity,display:r.alwaysVisible?"block":"none","border-radius":r.borderRadius,BorderRadius:r.borderRadius,MozBorderRadius:r.borderRadius,WebkitBorderRadius:r.borderRadius,zIndex:99}),e="right"==r.position?{right:r.distance}:{left:r.distance};c.css(e);f.css(e);u.wrap(a);u.parent().append(f);u.parent().append(c);r.railDraggable&&f.bind("mousedown",function(i){var r=n(document);return d=!0,t=parseFloat(f.css("top")),pageY=i.pageY,r.bind("mousemove.slimscroll",function(n){currTop=t+n.pageY-pageY;f.css("top",currTop);h(0,f.position().top,!1)}),r.bind("mouseup.slimscroll",function(){d=!1;l();r.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(n){return n.stopPropagation(),n.preventDefault(),!1});c.hover(function(){b()},function(){l()});f.hover(function(){k=!0},function(){k=!1});u.hover(function(){v=!0;b();l()},function(){v=!1;l()});u.bind("touchstart",function(n){n.originalEvent.touches.length&&(g=n.originalEvent.touches[0].pageY)});u.bind("touchmove",function(n){s||n.originalEvent.preventDefault();n.originalEvent.touches.length&&(h((g-n.originalEvent.touches[0].pageY)/r.touchScrollStep,!0),g=n.originalEvent.touches[0].pageY)});w();"bottom"===r.start?(f.css({top:u.outerHeight()-f.outerHeight()}),h(0,!0)):"top"!==r.start&&(h(n(r.start).position().top,null,!0),r.alwaysVisible||f.hide());window.addEventListener?(this.addEventListener("DOMMouseScroll",p,!1),this.addEventListener("mousewheel",p,!1)):document.attachEvent("onmousewheel",p)}}),this}});n.fn.extend({slimscroll:n.fn.slimScroll})})(jQuery),function(){"use strict";
/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */
function n(t,r){function h(n,t){return function(){return n.apply(t,arguments)}}var o,f,e,u,s;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!n.notNeeded(t)){for(f=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],e=this,u=0,s=f.length;u<s;u++)e[f[u]]=h(e[f[u]],e);i&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0));t.addEventListener("click",this.onClick,!0);t.addEventListener("touchstart",this.onTouchStart,!1);t.addEventListener("touchmove",this.onTouchMove,!1);t.addEventListener("touchend",this.onTouchEnd,!1);t.addEventListener("touchcancel",this.onTouchCancel,!1);Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(n,i,r){var u=Node.prototype.removeEventListener;n==="click"?u.call(t,n,i.hijacked||i,r):u.call(t,n,i,r)},t.addEventListener=function(n,i,r){var u=Node.prototype.addEventListener;n==="click"?u.call(t,n,i.hijacked||(i.hijacked=function(n){n.propagationStopped||i(n)}),r):u.call(t,n,i,r)});typeof t.onclick=="function"&&(o=t.onclick,t.addEventListener("click",function(n){o(n)},!1),t.onclick=null)}}var r=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!r,t=/iP(ad|hone|od)/.test(navigator.userAgent)&&!r,u=t&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=t&&/OS [6-7]_\d/.test(navigator.userAgent),e=navigator.userAgent.indexOf("BB10")>0;n.prototype.needsClick=function(n){switch(n.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(n.disabled)return!0;break;case"input":if(t&&n.type==="file"||n.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(n.className)};n.prototype.needsFocus=function(n){switch(n.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(n.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!n.disabled&&!n.readOnly;default:return/\bneedsfocus\b/.test(n.className)}};n.prototype.sendClick=function(n,t){var r,i;document.activeElement&&document.activeElement!==n&&document.activeElement.blur();i=t.changedTouches[0];r=document.createEvent("MouseEvents");r.initMouseEvent(this.determineEventType(n),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);r.forwardedTouchEvent=!0;n.dispatchEvent(r)};n.prototype.determineEventType=function(n){return i&&n.tagName.toLowerCase()==="select"?"mousedown":"click"};n.prototype.focus=function(n){var i;t&&n.setSelectionRange&&n.type.indexOf("date")!==0&&n.type!=="time"&&n.type!=="month"?(i=n.value.length,n.setSelectionRange(i,i)):n.focus()};n.prototype.updateScrollParent=function(n){var i,t;if(i=n.fastClickScrollParent,!i||!i.contains(n)){t=n;do{if(t.scrollHeight>t.offsetHeight){i=t;n.fastClickScrollParent=t;break}t=t.parentElement}while(t)}i&&(i.fastClickLastScrollTop=i.scrollTop)};n.prototype.getTargetElementFromEventTarget=function(n){return n.nodeType===Node.TEXT_NODE?n.parentNode:n};n.prototype.onTouchStart=function(n){var r,i,f;if(n.targetTouches.length>1)return!0;if(r=this.getTargetElementFromEventTarget(n.target),i=n.targetTouches[0],t){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!u){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return n.preventDefault(),!1;this.lastTouchIdentifier=i.identifier;this.updateScrollParent(r)}}return this.trackingClick=!0,this.trackingClickStart=n.timeStamp,this.targetElement=r,this.touchStartX=i.pageX,this.touchStartY=i.pageY,n.timeStamp-this.lastClickTime<this.tapDelay&&n.preventDefault(),!0};n.prototype.touchHasMoved=function(n){var t=n.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i?!0:!1};n.prototype.onTouchMove=function(n){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(n.target)||this.touchHasMoved(n))&&(this.trackingClick=!1,this.targetElement=null),!0):!0};n.prototype.findControl=function(n){return n.control!==undefined?n.control:n.htmlFor?document.getElementById(n.htmlFor):n.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};n.prototype.onTouchEnd=function(n){var s,c,e,o,h,r=this.targetElement;if(!this.trackingClick)return!0;if(n.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(n.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=n.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(h=n.changedTouches[0],r=document.elementFromPoint(h.pageX-window.pageXOffset,h.pageY-window.pageYOffset)||r,r.fastClickScrollParent=this.targetElement.fastClickScrollParent),e=r.tagName.toLowerCase(),e==="label"){if(s=this.findControl(r),s){if(this.focus(r),i)return!1;r=s}}else if(this.needsFocus(r))return n.timeStamp-c>100||t&&window.top!==window&&e==="input"?(this.targetElement=null,!1):(this.focus(r),this.sendClick(r,n),t&&e==="select"||(this.targetElement=null,n.preventDefault()),!1);return t&&!u&&(o=r.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(r)||(n.preventDefault(),this.sendClick(r,n)),!1)};n.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};n.prototype.onMouse=function(n){return this.targetElement?n.forwardedTouchEvent?!0:n.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(n.stopImmediatePropagation?n.stopImmediatePropagation():n.propagationStopped=!0,n.stopPropagation(),n.preventDefault(),!1):!0:!0:!0};n.prototype.onClick=function(n){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):n.target.type==="submit"&&n.detail===0?!0:(t=this.onMouse(n),t||(this.targetElement=null),t)};n.prototype.destroy=function(){var n=this.layer;i&&(n.removeEventListener("mouseover",this.onMouse,!0),n.removeEventListener("mousedown",this.onMouse,!0),n.removeEventListener("mouseup",this.onMouse,!0));n.removeEventListener("click",this.onClick,!0);n.removeEventListener("touchstart",this.onTouchStart,!1);n.removeEventListener("touchmove",this.onTouchMove,!1);n.removeEventListener("touchend",this.onTouchEnd,!1);n.removeEventListener("touchcancel",this.onTouchCancel,!1)};n.notNeeded=function(n){var t,r,u,f;if(typeof ontouchstart=="undefined")return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r)if(i){if(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||r>31&&document.documentElement.scrollWidth<=window.outerWidth))return!0}else return!0;return e&&(u=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),u[1]>=10&&u[2]>=3&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))?!0:n.style.msTouchAction==="none"||n.style.touchAction==="manipulation"?!0:(f=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],f>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))?!0:n.style.touchAction==="none"||n.style.touchAction==="manipulation"?!0:!1};n.attach=function(t,i){return new n(t,i)};typeof define=="function"&&typeof define.amd=="object"&&define.amd?define(function(){return n}):typeof module!="undefined"&&module.exports?(module.exports=n.attach,module.exports.FastClick=n):window.FastClick=n}();
/*!
 * Datepicker for Bootstrap v1.7.1 (https://github.com/uxsolutions/bootstrap-datepicker)
 *
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n("object"==typeof exports?require("jquery"):jQuery)}(function(n,t){function f(){return new Date(Date.UTC.apply(Date,arguments))}function s(){var n=new Date;return f(n.getFullYear(),n.getMonth(),n.getDate())}function l(n,t){return n.getUTCFullYear()===t.getUTCFullYear()&&n.getUTCMonth()===t.getUTCMonth()&&n.getUTCDate()===t.getUTCDate()}function h(i,r){return function(){return r!==t&&n.fn.datepicker.deprecated(r),this[i].apply(this,arguments)}}function p(n){return n&&!isNaN(n.getTime())}function w(t,i){function o(n,t){return t.toLowerCase()}var u,f=n(t).data(),e={},s=new RegExp("^"+i.toLowerCase()+"([A-Z])"),r;i=new RegExp("^"+i.toLowerCase());for(r in f)i.test(r)&&(u=r.replace(s,o),e[u]=f[r]);return e}function b(t){var u={},i;if(r[t]||(t=t.split("-")[0],r[t]))return i=r[t],n.each(y,function(n,t){t in i&&(u[t]=i[t])}),u}var a=function(){var t={get:function(n){return this.slice(n)[0]},contains:function(n){for(var i=n&&n.valueOf(),t=0,r=this.length;t<r;t++)if(0<=this[t].valueOf()-i&&this[t].valueOf()-i<864e5)return t;return-1},remove:function(n){this.splice(n,1)},replace:function(t){t&&(n.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var n=new a;return n.replace(this),n}};return function(){var i=[];return i.push.apply(i,arguments),n.extend(i,t),i}}(),u=function(t,r){n.data(t,"datepicker",this);this._process_options(r);this.dates=new a;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=n(t);this.isInput=this.element.is("input");this.inputField=this.isInput?this.element:this.element.find("input");this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn");this.component&&0===this.component.length&&(this.component=!1);this.isInline=!this.component&&this.element.is("div");this.picker=n(i.template);this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow);this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(n,t){return Number(t)+1});this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled});this._allow_update=!1;this.setViewMode(this.o.startView);this._allow_update=!0;this.fillDow();this.fillMonths();this.update();this.isInline&&this.show()},c,v,o,e,y,r,i;u.prototype={constructor:u,_resolveViewName:function(t){return n.each(i.viewModes,function(i,r){if(t===i||n.inArray(t,r.names)!==-1)return t=i,!1}),t},_resolveDaysOfWeek:function(t){return n.isArray(t)||(t=t.split(/[,\s]*/)),n.map(t,Number)},_check_template:function(i){try{if(i===t||""===i)return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;var r=n(i);return r.length>0}catch(n){return!1}},_process_options:function(t){var u,h,l,o,c;if(this._o=n.extend({},this._o,t),u=this.o=n.extend({},this._o),h=u.language,r[h]||(h=h.split("-")[0],r[h]||(h=e.language)),u.language=h,u.startView=this._resolveViewName(u.startView),u.minViewMode=this._resolveViewName(u.minViewMode),u.maxViewMode=this._resolveViewName(u.maxViewMode),u.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,u.startView)),u.multidate!==!0&&(u.multidate=Number(u.multidate)||!1,u.multidate!==!1&&(u.multidate=Math.max(0,u.multidate))),u.multidateSeparator=String(u.multidateSeparator),u.weekStart%=7,u.weekEnd=(u.weekStart+6)%7,l=i.parseFormat(u.format),u.startDate!==-(1/0)&&(u.startDate=u.startDate?u.startDate instanceof Date?this._local_to_utc(this._zero_time(u.startDate)):i.parseDate(u.startDate,l,u.language,u.assumeNearbyYear):-(1/0)),u.endDate!==1/0&&(u.endDate=u.endDate?u.endDate instanceof Date?this._local_to_utc(this._zero_time(u.endDate)):i.parseDate(u.endDate,l,u.language,u.assumeNearbyYear):1/0),u.daysOfWeekDisabled=this._resolveDaysOfWeek(u.daysOfWeekDisabled||[]),u.daysOfWeekHighlighted=this._resolveDaysOfWeek(u.daysOfWeekHighlighted||[]),u.datesDisabled=u.datesDisabled||[],n.isArray(u.datesDisabled)||(u.datesDisabled=u.datesDisabled.split(",")),u.datesDisabled=n.map(u.datesDisabled,function(n){return i.parseDate(n,l,u.language,u.assumeNearbyYear)}),o=String(u.orientation).toLowerCase().split(/\s+/g),c=u.orientation.toLowerCase(),o=n.grep(o,function(n){return/^auto|left|right|top|bottom$/.test(n)}),u.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===o.length)switch(o[0]){case"top":case"bottom":u.orientation.y=o[0];break;case"left":case"right":u.orientation.x=o[0]}else c=n.grep(o,function(n){return/^left|right$/.test(n)}),u.orientation.x=c[0]||"auto",c=n.grep(o,function(n){return/^top|bottom$/.test(n)}),u.orientation.y=c[0]||"auto";if(u.defaultViewDate instanceof Date||"string"==typeof u.defaultViewDate)u.defaultViewDate=i.parseDate(u.defaultViewDate,l,u.language,u.assumeNearbyYear);else if(u.defaultViewDate){var a=u.defaultViewDate.year||(new Date).getFullYear(),v=u.defaultViewDate.month||0,y=u.defaultViewDate.day||1;u.defaultViewDate=f(a,v,y)}else u.defaultViewDate=s()},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var f,r,u,i=0;i<n.length;i++)f=n[i][0],2===n[i].length?(r=t,u=n[i][1]):3===n[i].length&&(r=n[i][1],u=n[i][2]),f.on(u,r)},_unapplyEvents:function(n){for(var f,r,u,i=0;i<n.length;i++)f=n[i][0],2===n[i].length?(u=t,r=n[i][1]):3===n[i].length&&(u=n[i][1],r=n[i][2]),f.off(r,u)},_buildEvents:function(){var t={keyup:n.proxy(function(t){n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:n.proxy(this.keydown,this),paste:n.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=n.proxy(this.show,this));this._events=this.isInput?[[this.element,t]]:this.component&&this.inputField.length?[[this.inputField,t],[this.component,{click:n.proxy(this.show,this)}]]:[[this.element,{click:n.proxy(this.show,this),keydown:n.proxy(this.keydown,this)}]];this._events.push([this.element,"*",{blur:n.proxy(function(n){this._focused_from=n.target},this)}],[this.element,{blur:n.proxy(function(n){this._focused_from=n.target},this)}]);this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":n.proxy(function(n){this.update(n.date)},this)}]);this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[this.picker,".prev, .next",{click:n.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:n.proxy(this.dayCellClick,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{"mousedown touchstart":n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).length||this.picker.is(n.target)||this.picker.find(n.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,r){var u=r||this.dates.get(-1),f=this._utc_to_local(u);this.element.trigger({type:t,date:f,viewMode:this.viewMode,dates:n.map(this.dates,this._utc_to_local),format:n.proxy(function(n,t){0===arguments.length?(n=this.dates.length-1,t=this.o.format):"string"==typeof n&&(t=n,n=this.dates.length-1);t=t||this.o.format;var r=this.dates.get(n);return i.formatDate(r,t,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===!1))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&n(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&n.inArray("text/plain",t.originalEvent.clipboardData.types)!==-1)i=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i);this.update();t.preventDefault()},_utc_to_local:function(n){if(!n)return n;var t=new Date(n.getTime()+6e4*n.getTimezoneOffset());return t.getTimezoneOffset()!==n.getTimezoneOffset()&&(t=new Date(n.getTime()+6e4*t.getTimezoneOffset())),t},_local_to_utc:function(n){return n&&new Date(n.getTime()-6e4*n.getTimezoneOffset())},_zero_time:function(n){return n&&new Date(n.getFullYear(),n.getMonth(),n.getDate())},_zero_utc_time:function(n){return n&&f(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())},getDates:function(){return n.map(this.dates,this._utc_to_local)},getUTCDates:function(){return n.map(this.dates,function(n){return new Date(n)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var n=this.dates.get(-1);return n!==t?new Date(n):null},clearDates:function(){this.inputField.val("");this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,n.map(t,this._utc_to_local)),this},setDate:h("setDates"),setUTCDate:h("setUTCDates"),remove:h("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var n=this.getFormattedDate();return this.inputField.val(n),this},getFormattedDate:function(r){r===t&&(r=this.o.format);var u=this.o.language;return n.map(this.dates,function(n){return i.formatDate(n,r,u)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(n){return this._process_options({startDate:n}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(n){return this._process_options({endDate:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(n){return this._process_options({daysOfWeekDisabled:n}),this.update(),this},setDaysOfWeekHighlighted:function(n){return this._process_options({daysOfWeekHighlighted:n}),this.update(),this},setDatesDisabled:function(n){return this._process_options({datesDisabled:n}),this.update(),this},place:function(){var y,r,p;if(this.isInline)return this;var f=this.picker.outerWidth(),s=this.picker.outerHeight(),e=n(this.o.container),h=e.width(),c="body"===this.o.container?n(document).scrollTop():e.scrollTop(),l=e.offset(),a=[0];this.element.parents().each(function(){var t=n(this).css("z-index");"auto"!==t&&0!==Number(t)&&a.push(Number(t))});var v=Math.max.apply(Math,a)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),w=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),o=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),t=u.left-l.left,i=u.top-l.top;return"body"!==this.o.container&&(i+=c),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(t-=f-o)):u.left<0?(this.picker.addClass("datepicker-orient-left"),t-=u.left-10):t+f>h?(this.picker.addClass("datepicker-orient-right"),t+=o-f):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left"),r=this.o.orientation.y,("auto"===r&&(y=-c+i-s,r=y<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+r),"top"===r?i-=s+parseInt(this.picker.css("padding-top")):i+=w,this.o.rtl)?(p=h-(t+o),this.picker.css({top:i,right:p,zIndex:v})):this.picker.css({top:i,left:t,zIndex:v}),this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var u=this.dates.copy(),t=[],r=!1;return arguments.length?(n.each(arguments,n.proxy(function(n,i){i instanceof Date&&(i=this._local_to_utc(i));t.push(i)},this)),r=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=n.map(t,n.proxy(function(n){return i.parseDate(n,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),t=n.grep(t,n.proxy(function(n){return!this.dateWithinRange(n)||!n},this),!0),this.dates.replace(t),this.o.updateViewDate&&(this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate),r?(this.setValue(),this.element.change()):this.dates.length&&String(u)!==String(this.dates)&&r&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&u.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var i=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(t+='<th class="cw">&#160;<\/th>');i<this.o.weekStart+7;)t+='<th class="dow',n.inArray(i,this.o.daysOfWeekDisabled)!==-1&&(t+=" disabled"),t+='">'+r[this.o.language].daysMin[i++%7]+"<\/th>";t+="<\/tr>";this.picker.find(".datepicker-days thead").append(t)}},fillMonths:function(){for(var t,i=this._utc_to_local(this.viewDate),u="",n=0;n<12;n++)t=i&&i.getMonth()===n?" focused":"",u+='<span class="month'+t+'">'+r[this.o.language].monthsShort[n]+"<\/span>";this.picker.find(".datepicker-months td").html(u)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),u=this.viewDate.getUTCMonth(),f=s();return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<u?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>u)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&l(t,f)&&i.push("today"),this.dates.contains(t)!==-1&&i.push("active"),this.dateWithinRange(t)||i.push("disabled"),this.dateIsDisabled(t)&&i.push("disabled","disabled-date"),n.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),n.inArray(t.valueOf(),this.range)!==-1&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,r,u,f,e,o,s){for(var c,v,h,w="",l=u/10,b=this.picker.find(i),y=Math.floor(f/u)*u,p=y+9*l,k=Math.floor(this.viewDate.getFullYear()/l)*l,d=n.map(this.dates,function(n){return Math.floor(n.getUTCFullYear()/l)*l}),a=y-l;a<=p+l;a+=l)c=[r],v=null,a===y-l?c.push("old"):a===p+l&&c.push("new"),n.inArray(a,d)!==-1&&c.push("active"),(a<e||a>o)&&c.push("disabled"),a===k&&c.push("focused"),s!==n.noop&&(h=s(new Date(a,0,1)),h===t?h={}:"boolean"==typeof h?h={enabled:h}:"string"==typeof h&&(h={classes:h}),h.enabled===!1&&c.push("disabled"),h.classes&&(c=c.concat(h.classes.split(/\s+/))),h.tooltip&&(v=h.tooltip)),w+='<span class="'+c.join(" ")+'"'+(v?' title="'+v+'"':"")+">"+a+"<\/span>";b.find(".datepicker-switch").text(y+"-"+p);b.find("td").html(w)},fill:function(){var y,u,w=new Date(this.viewDate),o=w.getUTCFullYear(),d=w.getUTCMonth(),a=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),ut=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),v=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,ft=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,et=r[this.o.language].today||r.en.today||"",ot=r[this.o.language].clear||r.en.clear||"",st=r[this.o.language].titleFormat||r.en.titleFormat,e,g,h,p,s,c,k,it,l,rt;if(!isNaN(o)&&!isNaN(d)){for(this.picker.find(".datepicker-days .datepicker-switch").text(i.formatDate(w,st,this.o.language)),this.picker.find("tfoot .today").text(et).css("display",this.o.todayBtn===!0||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(ot).css("display",this.o.clearBtn===!0?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths(),e=f(o,d,0),g=e.getUTCDate(),e.setUTCDate(g-(e.getUTCDay()-this.o.weekStart+7)%7),h=new Date(e),e.getUTCFullYear()<100&&h.setUTCFullYear(e.getUTCFullYear()),h.setUTCDate(h.getUTCDate()+42),h=h.valueOf(),c=[];e.valueOf()<h;){if(p=e.getUTCDay(),p===this.o.weekStart&&(c.push("<tr>"),this.o.calendarWeeks)){var nt=new Date(+e+(this.o.weekStart-p-7)%7*864e5),tt=new Date(Number(nt)+(11-nt.getUTCDay())%7*864e5),b=new Date(Number(b=f(tt.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),ht=(tt-b)/6048e5+1;c.push('<td class="cw">'+ht+"<\/td>")}s=this.getClassNames(e);s.push("day");k=e.getUTCDate();this.o.beforeShowDay!==n.noop&&(u=this.o.beforeShowDay(this._utc_to_local(e)),u===t?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u}),u.enabled===!1&&s.push("disabled"),u.classes&&(s=s.concat(u.classes.split(/\s+/))),u.tooltip&&(y=u.tooltip),u.content&&(k=u.content));s=n.isFunction(n.uniqueSort)?n.uniqueSort(s):n.unique(s);c.push('<td class="'+s.join(" ")+'"'+(y?' title="'+y+'"':"")+' data-date="'+e.getTime().toString()+'">'+k+"<\/td>");y=null;p===this.o.weekEnd&&c.push("<\/tr>");e.setUTCDate(e.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(c.join(""));it=r[this.o.language].monthsTitle||r.en.monthsTitle||"Months";l=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?it:o).end().find("tbody span").removeClass("active");(n.each(this.dates,function(n,t){t.getUTCFullYear()===o&&l.eq(t.getUTCMonth()).addClass("active")}),(o<a||o>v)&&l.addClass("disabled"),o===a&&l.slice(0,ut).addClass("disabled"),o===v&&l.slice(ft+1).addClass("disabled"),this.o.beforeShowMonth!==n.noop)&&(rt=this,n.each(l,function(i,r){var f=new Date(o,i,1),u=rt.o.beforeShowMonth(f);u===t?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u});u.enabled!==!1||n(r).hasClass("disabled")||n(r).addClass("disabled");u.classes&&n(r).addClass(u.classes);u.tooltip&&n(r).prop("title",u.tooltip)}));this._fill_yearsView(".datepicker-years","year",10,o,a,v,this.o.beforeShowYear);this._fill_yearsView(".datepicker-decades","decade",100,o,a,v,this.o.beforeShowDecade);this._fill_yearsView(".datepicker-centuries","century",1e3,o,a,v,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var i,r,u=new Date(this.viewDate),t=u.getUTCFullYear(),f=u.getUTCMonth(),e=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),s=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),o=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,n=1;switch(this.viewMode){case 0:i=t<=e&&f<=s;r=t>=o&&f>=h;break;case 4:n*=10;case 3:n*=10;case 2:n*=10;case 1:i=Math.floor(t/n)*n<=e;r=Math.floor(t/n)*n+n>=o}this.picker.find(".prev").toggleClass("disabled",i);this.picker.find(".next").toggleClass("disabled",r)}},click:function(t){t.preventDefault();t.stopPropagation();var r,o,u,e;r=n(t.target);r.hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1);r.hasClass("today")&&!r.hasClass("day")&&(this.setViewMode(0),this._setDate(s(),"linked"===this.o.todayBtn?null:"view"));r.hasClass("clear")&&this.clearDates();r.hasClass("disabled")||(r.hasClass("month")||r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,1===this.viewMode?(e=r.parent().find("span").index(r),u=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(e)):(e=0,u=Number(r.text()),this.viewDate.setUTCFullYear(u)),this._trigger(i.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(f(u,e,o)):(this.setViewMode(this.viewMode-1),this.fill()));this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus();delete this._focused_from},dayCellClick:function(t){var r=n(t.currentTarget),u=r.data("date"),i=new Date(u);this.o.updateViewDate&&(i.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),i.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate));this._setDate(i)},navArrowsClick:function(t){var u=n(t.currentTarget),r=u.hasClass("prev")?-1:1;0!==this.viewMode&&(r*=12*i.viewModes[this.viewMode].navStep);this.viewDate=this.moveMonth(this.viewDate,r);this._trigger(i.viewModes[this.viewMode].e,this.viewDate);this.fill()},_toggle_multidate:function(n){var t=this.dates.contains(n);if(n||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(n)):this.dates.push(n),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(n,t){t&&"date"!==t||this._toggle_multidate(n&&new Date(n));(!t&&this.o.updateViewDate||"view"===t)&&(this.viewDate=n&&new Date(n));this.fill();this.setValue();t&&"view"===t||this._trigger("changeDate");this.inputField.trigger("change");!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(n,t){var i=new Date(n);return i.setUTCDate(n.getUTCDate()+t),i},moveWeek:function(n,t){return this.moveDay(n,7*t)},moveMonth:function(n,t){var f;if(!p(n))return this.o.defaultViewDate;if(!t)return n;var r,u,i=new Date(n.valueOf()),e=i.getUTCDate(),o=i.getUTCMonth(),s=Math.abs(t);if(t=t>0?1:-1,1===s)u=t===-1?function(){return i.getUTCMonth()===o}:function(){return i.getUTCMonth()!==r},r=o+t,i.setUTCMonth(r),r=(r+12)%12;else{for(f=0;f<s;f++)i=this.moveMonth(i,t);r=i.getUTCMonth();i.setUTCDate(e);u=function(){return r!==i.getUTCMonth()}}for(;u();)i.setUTCDate(--e),i.setUTCMonth(r);return i},moveYear:function(n,t){return this.moveMonth(n,12*t)},moveAvailableDate:function(n,t,i){do{if(n=this[i](n,t),!this.dateWithinRange(n))return!1;i="moveDay"}while(this.dateIsDisabled(n));return n},weekOfDateIsDisabled:function(t){return n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||n.grep(this.o.datesDisabled,function(n){return l(t,n)}).length>0},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){if(!this.picker.is(":visible"))return void(40!==n.keyCode&&27!==n.keyCode||(this.show(),n.stopPropagation()));var i,t,u=!1,r=this.focusDate||this.viewDate;switch(n.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();n.preventDefault();n.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;i=37===n.keyCode||38===n.keyCode?-1:1;0===this.viewMode?n.ctrlKey?(t=this.moveAvailableDate(r,i,"moveYear"),t&&this._trigger("changeYear",this.viewDate)):n.shiftKey?(t=this.moveAvailableDate(r,i,"moveMonth"),t&&this._trigger("changeMonth",this.viewDate)):37===n.keyCode||39===n.keyCode?t=this.moveAvailableDate(r,i,"moveDay"):this.weekOfDateIsDisabled(r)||(t=this.moveAvailableDate(r,i,"moveWeek")):1===this.viewMode?(38!==n.keyCode&&40!==n.keyCode||(i*=4),t=this.moveAvailableDate(r,i,"moveMonth")):2===this.viewMode&&(38!==n.keyCode&&40!==n.keyCode||(i*=4),t=this.moveAvailableDate(r,i,"moveYear"));t&&(this.focusDate=this.viewDate=t,this.setValue(),this.fill(),n.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(r),u=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(n.preventDefault(),n.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide()}u&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))},setViewMode:function(n){this.viewMode=n;this.picker.children("div").hide().filter(".datepicker-"+i.viewModes[this.viewMode].clsName).show();this.updateNavArrows();this._trigger("changeViewMode",new Date(this.viewDate))}};c=function(t,i){n.data(t,"datepicker",this);this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;this.keepEmptyValues=i.keepEmptyValues;delete i.keepEmptyValues;o.call(n(this.inputs),i).on("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n.data(t,"datepicker")});this.updateDates()};c.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.getUTCDate()});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(i){var u;if(!this.updating&&(this.updating=!0,u=n.data(i.target,"datepicker"),u!==t)){var r=u.getUTCDate(),s=this.keepEmptyValues,o=n.inArray(i.target,this.inputs),f=o-1,e=o+1,h=this.inputs.length;if(o!==-1){if(n.each(this.pickers,function(n,t){t.getUTCDate()||t!==u&&s||t.setUTCDate(r)}),r<this.dates[f])for(;f>=0&&r<this.dates[f];)this.pickers[f--].setUTCDate(r);else if(r>this.dates[e])for(;e<h&&r>this.dates[e];)this.pickers[e++].setUTCDate(r);this.updateDates();delete this.updating}}},destroy:function(){n.map(this.pickers,function(n){n.destroy()});n(this.inputs).off("changeDate",this.dateUpdated);delete this.element.data().datepicker},remove:h("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};v=n.fn.datepicker;o=function(i){var f=Array.apply(null,arguments),r;if(f.shift(),this.each(function(){var s=n(this),t=s.data("datepicker"),h="object"==typeof i&&i;if(!t){var l=w(this,"date"),a=n.extend({},e,l,h),v=b(a.language),o=n.extend({},e,v,l,h);s.hasClass("input-daterange")||o.inputs?(n.extend(o,{inputs:o.inputs||s.find("input").toArray()}),t=new c(this,o)):t=new u(this,o);s.data("datepicker",t)}"string"==typeof i&&"function"==typeof t[i]&&(r=t[i].apply(t,f))}),r===t||r instanceof u||r instanceof c)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return r};n.fn.datepicker=o;e=n.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:n.noop,beforeShowMonth:n.noop,beforeShowYear:n.noop,beforeShowDecade:n.noop,beforeShowCentury:n.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0};y=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=u;r=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}};i={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(n){if("function"==typeof n.toValue&&"function"==typeof n.toDisplay)return n;var t=n.replace(this.validParts,"\0").split("\0"),i=n.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(f,e,o,h){function et(n,t){return t===!0&&(t=10),n<100&&(n+=2e3,n>(new Date).getFullYear()+t&&(n-=100)),n}function tt(){var n=this.slice(0,l[c].length),t=l[c].slice(0,n.length);return n.toLowerCase()===t.toLowerCase()}var l,y,it,c,rt,ut,g,v,ft,d,w;if(!f)return t;if(f instanceof Date)return f;if("string"==typeof e&&(e=i.parseFormat(e)),e.toValue)return e.toValue(f,e,o);if(ut={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},g={yesterday:"-1d",today:"+0d",tomorrow:"+1d"},f in g&&(f=g[f]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(f)){for(l=f.match(/([\-+]\d+)([dmwy])/gi),f=new Date,c=0;c<l.length;c++)y=l[c].match(/([\-+]\d+)([dmwy])/i),it=Number(y[1]),rt=ut[y[2].toLowerCase()],f=u.prototype[rt](f,it);return u.prototype._zero_utc_time(f)}l=f&&f.match(this.nonpunctuation)||[];var p,b,k={},nt=["yyyy","yy","M","MM","m","mm","d","dd"],a={yyyy:function(n,t){return n.setUTCFullYear(h?et(t,h):t)},m:function(n,t){if(isNaN(n))return n;for(t-=1;t<0;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!==t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}};if(a.yy=a.yyyy,a.M=a.MM=a.mm=a.m,a.dd=a.d,f=s(),v=e.parts.slice(),l.length!==v.length&&(v=n(v).filter(function(t,i){return n.inArray(i,nt)!==-1}).toArray()),l.length===v.length){for(c=0,ft=v.length;c<ft;c++){if(p=parseInt(l[c],10),y=v[c],isNaN(p))switch(y){case"MM":b=n(r[o].months).filter(tt);p=n.inArray(b[0],r[o].months)+1;break;case"M":b=n(r[o].monthsShort).filter(tt);p=n.inArray(b[0],r[o].monthsShort)+1}k[y]=p}for(c=0;c<nt.length;c++)w=nt[c],w in k&&!isNaN(k[w])&&(d=new Date(f),a[w](d,k[w]),isNaN(d)||(f=d))}return f},formatDate:function(t,u,f){var e;if(!t)return"";if("string"==typeof u&&(u=i.parseFormat(u)),u.toDisplay)return u.toDisplay(t,u,f);e={d:t.getUTCDate(),D:r[f].daysShort[t.getUTCDay()],DD:r[f].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:r[f].monthsShort[t.getUTCMonth()],MM:r[f].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d;e.mm=(e.m<10?"0":"")+e.m;t=[];for(var s=n.extend([],u.separators),o=0,h=u.parts.length;o<=h;o++)s.length&&t.push(s.shift()),t.push(e[u.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"><\/th><\/tr><tr><th class="prev">'+e.templates.leftArrow+'<\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next">'+e.templates.rightArrow+"<\/th><\/tr><\/thead>",contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};i.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+i.headTemplate+"<tbody><\/tbody>"+i.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-decades"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-centuries"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=i;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=v,this};n.fn.datepicker.version="1.7.1";n.fn.datepicker.deprecated=function(n){var t=window.console;t&&t.warn&&t.warn("DEPRECATED: "+n)};n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),o.call(i,"show"))});n(function(){o.call(n('[data-provide="datepicker-inline"]'))})});!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.echarts={})}(this,function(n){"use strict";function pkt(n,t){"createCanvas"===n&&(en=null);klt[n]=t}function h(n){var i,r,e,t,u,f;if(null==n||"object"!=typeof n)return n;if(i=n,r=nw.call(n),"[object Array]"===r){if(!ll(n))for(i=[],t=0,u=n.length;t<u;t++)i[t]=h(n[t])}else if(lvi[r]){if(!ll(n))if(e=n.constructor,n.constructor.from)i=e.from(n);else for(i=new e(n.length),t=0,u=n.length;t<u;t++)i[t]=h(n[t])}else if(!cvi[r]&&!ll(n)&&!ny(n)){i={};for(f in n)n.hasOwnProperty(f)&&(i[f]=h(n[f]))}return i}function v(n,t,r){var u,f,e;if(!a(t)||!a(n))return r?h(t):n;for(u in t)t.hasOwnProperty(u)&&(f=n[u],e=t[u],!a(e)||!a(f)||i(e)||i(f)||ny(e)||ny(f)||lut(e)||lut(f)||ll(e)||ll(f)?!r&&u in n||(n[u]=h(t[u],!0)):v(f,e,r));return n}function gv(n,t){for(var i=n[0],r=1,u=n.length;r<u;r++)i=v(i,n[r],t);return i}function e(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function o(n,t,i){for(var r in t)t.hasOwnProperty(r)&&(i?null!=t[r]:null==n[r])&&(n[r]=t[r]);return n}function wkt(){return en||(en=aa().getContext("2d")),en}function b(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i}return-1}function ot(n,t){function r(){}var u=n.prototype,i;r.prototype=t.prototype;n.prototype=new r;for(i in u)n.prototype[i]=u[i];n.prototype.constructor=n;n.superClass=t}function ft(n,t,i){o(n="prototype"in n?n.prototype:n,t="prototype"in t?t.prototype:t,i)}function se(n){if(n)return"string"!=typeof n&&"number"==typeof n.length}function t(n,t,i){var r,f,u;if(n&&t)if(n.forEach&&n.forEach===kdr)n.forEach(t,i);else if(n.length===+n.length)for(r=0,f=n.length;r<f;r++)t.call(i,n[r],r,n);else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n)}function r(n,t,i){if(n&&t){if(n.map&&n.map===gdr)return n.map(t,i);for(var u=[],r=0,f=n.length;r<f;r++)u.push(t.call(i,n[r],r,n));return u}}function cl(n,t,i,r){if(n&&t){if(n.reduce&&n.reduce===ngr)return n.reduce(t,i,r);for(var u=0,f=n.length;u<f;u++)i=t.call(r,i,n[u],u,n);return i}}function ui(n,t,i){if(n&&t){if(n.filter&&n.filter===ddr)return n.filter(t,i);for(var u=[],r=0,f=n.length;r<f;r++)t.call(i,n[r],r,n)&&u.push(n[r]);return u}}function c(n,t){var i=iw.call(arguments,2);return function(){return n.apply(t,i.concat(iw.call(arguments)))}}function l(n){var t=iw.call(arguments,1);return function(){return n.apply(this,t.concat(iw.call(arguments)))}}function i(n){return"[object Array]"===nw.call(n)}function vr(n){return"function"==typeof n}function yt(n){return"[object String]"===nw.call(n)}function a(n){var t=typeof n;return"function"===t||!!n&&"object"==t}function lut(n){return!!cvi[nw.call(n)]}function ff(n){return!!lvi[nw.call(n)]}function ny(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function ty(n){return n!==n}function li(){for(var n=0,t=arguments.length;n<t;n++)if(null!=arguments[n])return arguments[n]}function oi(n,t){return null!=n?n:t}function th(n,t,i){return null!=n?n:null!=t?t:i}function aut(){return Function.call.apply(iw,arguments)}function vut(n){if("number"==typeof n)return[n,n,n,n];var t=n.length;return 2===t?[n[0],n[1],n[0],n[1]]:3===t?[n[0],n[1],n[2],n[1]]:n}function co(n,t){if(!n)throw new Error(t);}function yut(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function put(n){n[dlt]=!0}function ll(n){return n[dlt]}function bb(n){function r(n,t){f?u.set(n,t):u.set(t,n)}var f=i(n),u=this;n instanceof bb?n.each(r):n&&t(n,r)}function y(n){return new bb(n)}function wut(n,t){for(var u,r=new n.constructor(n.length+t.length),i=0;i<n.length;i++)r[i]=n[i];for(u=n.length,i=0;i<t.length;i++)r[i+u]=t[i];return r}function pi(){}function lo(n,t){var i=new avi(2);return null==n&&(n=0),null==t&&(t=0),i[0]=n,i[1]=t,i}function wi(n,t){return n[0]=t[0],n[1]=t[1],n}function yu(n){var t=new avi(2);return t[0]=n[0],t[1]=n[1],t}function bkt(n,t,i){return n[0]=t,n[1]=i,n}function but(n,t,i){return n[0]=t[0]+i[0],n[1]=t[1]+i[1],n}function iy(n,t,i,r){return n[0]=t[0]+i[0]*r,n[1]=t[1]+i[1]*r,n}function he(n,t,i){return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n}function ry(n){return Math.sqrt(kut(n))}function kut(n){return n[0]*n[0]+n[1]*n[1]}function kb(n,t,i){return n[0]=t[0]*i,n[1]=t[1]*i,n}function al(n,t){var i=ry(t);return 0===i?(n[0]=0,n[1]=0):(n[0]=t[0]/i,n[1]=t[1]/i),n}function uy(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}function kkt(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])}function dkt(n,t,i,r){return n[0]=t[0]+r*(i[0]-t[0]),n[1]=t[1]+r*(i[1]-t[1]),n}function ct(n,t,i){var r=t[0],u=t[1];return n[0]=i[0]*r+i[2]*u+i[4],n[1]=i[1]*r+i[3]*u+i[5],n}function ce(n,t,i){return n[0]=Math.min(t[0],i[0]),n[1]=Math.min(t[1],i[1]),n}function le(n,t,i){return n[0]=Math.max(t[0],i[0]),n[1]=Math.max(t[1],i[1]),n}function db(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}function vl(n,t){return{target:n,topTarget:t&&t.topTarget}}function utr(n,t,i){return{type:n,event:i,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which}}function gkt(){}function ftr(n,t,i){if(n[n.rectHover?"rectContain":"contain"](t,i)){for(var u,r=n;r;){if(r.clipPath&&!r.clipPath.contain(t,i))return!1;r.silent&&(u=!0);r=r.parent}return!u||nat}return!1}function iu(){var n=new fgr(6);return fy(n),n}function fy(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function gb(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function ih(n,t,i){var r=t[0]*i[0]+t[2]*i[1],u=t[1]*i[0]+t[3]*i[1],f=t[0]*i[2]+t[2]*i[3],e=t[1]*i[2]+t[3]*i[3],o=t[0]*i[4]+t[2]*i[5]+t[4],s=t[1]*i[4]+t[3]*i[5]+t[5];return n[0]=r,n[1]=u,n[2]=f,n[3]=e,n[4]=o,n[5]=s,n}function ef(n,t,i){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+i[0],n[5]=t[5]+i[1],n}function ao(n,t,i){var f=t[0],e=t[2],o=t[4],s=t[1],h=t[3],c=t[5],r=Math.sin(i),u=Math.cos(i);return n[0]=f*u+s*r,n[1]=-f*r+s*u,n[2]=e*u+h*r,n[3]=-e*r+u*h,n[4]=u*o+r*c,n[5]=u*c-r*o,n}function nk(n,t,i){var r=i[0],u=i[1];return n[0]=t[0]*r,n[1]=t[1]*u,n[2]=t[2]*r,n[3]=t[3]*u,n[4]=t[4]*r,n[5]=t[5]*u,n}function tk(n,t){var r=t[0],u=t[2],o=t[4],f=t[1],e=t[3],s=t[5],i=r*e-f*u;return i?(i=1/i,n[0]=e*i,n[1]=-f*i,n[2]=-u*i,n[3]=r*i,n[4]=(u*s-e*o)*i,n[5]=(f*o-r*s)*i,n):null}function ndt(n){var t=iu();return gb(t,n),t}function rh(n){return n>yvi||n<-yvi}function dut(n){this._target=n.target;this._life=n.life||1e3;this._delay=n.delay||0;this._initialized=!1;this.loop=null!=n.loop&&n.loop;this.gap=n.gap||0;this.easing=n.easing||"Linear";this.onframe=n.onframe;this.ondestroy=n.ondestroy;this.onrestart=n.onrestart;this._pausedTime=0;this._paused=!1}function of(n){return(n=Math.round(n))<0?0:n>255?255:n}function etr(n){return(n=Math.round(n))<0?0:n>360?360:n}function ik(n){return n<0?0:n>1?1:n}function gut(n){return of(n.length&&"%"===n.charAt(n.length-1)?parseFloat(n)/100*255:parseInt(n,10))}function yl(n){return ik(n.length&&"%"===n.charAt(n.length-1)?parseFloat(n)/100:parseFloat(n))}function nft(n,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?n+(t-n)*i*6:2*i<1?t:3*i<2?n+(t-n)*(2/3-i)*6:n}function vo(n,t,i){return n+(t-n)*i}function pu(n,t,i,r,u){return n[0]=t,n[1]=i,n[2]=r,n[3]=u,n}function tft(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function pl(n,t){on&&tft(on,t);on=bvi.put(n,on||t.slice())}function ru(n,t){var e,r,f,o,i;if(n){if(t=t||[],e=bvi.get(n),e)return tft(t,e);if(r=(n+="").replace(/ /g,"").toLowerCase(),r in wvi)return tft(t,wvi[r]),pl(n,t),t;if("#"!==r.charAt(0)){if(f=r.indexOf("("),o=r.indexOf(")"),-1!==f&&o+1===r.length){var h=r.substr(0,f),u=r.substr(f+1,o-(f+1)).split(","),s=1;switch(h){case"rgba":if(4!==u.length)return void pu(t,0,0,0,1);s=yl(u.pop());case"rgb":return 3!==u.length?void pu(t,0,0,0,1):(pu(t,gut(u[0]),gut(u[1]),gut(u[2]),s),pl(n,t),t);case"hsla":return 4!==u.length?void pu(t,0,0,0,1):(u[3]=yl(u[3]),ift(u,t),pl(n,t),t);case"hsl":return 3!==u.length?void pu(t,0,0,0,1):(ift(u,t),pl(n,t),t);default:return}}pu(t,0,0,0,1)}else{if(4===r.length)return(i=parseInt(r.substr(1),16))>=0&&i<=4095?(pu(t,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),pl(n,t),t):void pu(t,0,0,0,1);if(7===r.length)return i=parseInt(r.substr(1),16),i>=0&&i<=16777215?(pu(t,(16711680&i)>>16,(65280&i)>>8,255&i,1),pl(n,t),t):void pu(t,0,0,0,1)}}}function ift(n,t){var u=(parseFloat(n[0])%360+360)%360/360,f=yl(n[1]),i=yl(n[2]),r=i<=.5?i*(f+1):i+f-i*f,e=2*i-r;return t=t||[],pu(t,of(255*nft(e,r,u+1/3)),of(255*nft(e,r,u)),of(255*nft(e,r,u-1/3)),1),4===n.length&&(t[3]=n[3]),t}function otr(n){var h;if(n){var i,s,u=n[0]/255,f=n[1]/255,e=n[2]/255,o=Math.min(u,f,e),t=Math.max(u,f,e),r=t-o,c=(t+o)/2;if(0===r)i=0,s=0;else{s=c<.5?r/(t+o):r/(2-t-o);var l=((t-u)/6+r/2)/r,a=((t-f)/6+r/2)/r,v=((t-e)/6+r/2)/r;u===t?i=v-a:f===t?i=1/3+l-v:e===t&&(i=2/3+a-l);i<0&&(i+=1);i>1&&(i-=1)}return h=[360*i,s,c],null!=n[3]&&h.push(n[3]),h}}function tdt(n,t){var r=ru(n),i;if(r){for(i=0;i<3;i++)r[i]=t<0?r[i]*(1-t)|0:(255-r[i])*t+r[i]|0,r[i]>255?r[i]=255:n[i]<0&&(r[i]=0);return ae(r,4===r.length?"rgba":"rgb")}}function idt(n){var t=ru(n);if(t)return(16777216+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function ey(n,t,i){if(t&&t.length&&n>=0&&n<=1){i=i||[];var e=n*(t.length-1),o=Math.floor(e),s=Math.ceil(e),r=t[o],u=t[s],f=e-o;return i[0]=of(vo(r[0],u[0],f)),i[1]=of(vo(r[1],u[1],f)),i[2]=of(vo(r[2],u[2],f)),i[3]=ik(vo(r[3],u[3],f)),i}}function rdt(n,t,i){if(t&&t.length&&n>=0&&n<=1){var r=n*(t.length-1),o=Math.floor(r),s=Math.ceil(r),u=ru(t[o]),f=ru(t[s]),e=r-o,h=ae([of(vo(u[0],f[0],e)),of(vo(u[1],f[1],e)),of(vo(u[2],f[2],e)),ik(vo(u[3],f[3],e))],"rgba");return i?{color:h,leftIndex:o,rightIndex:s,value:r}:h}}function wl(n,t,i,r){if(n=ru(n))return n=otr(n),null!=t&&(n[0]=etr(t)),null!=i&&(n[1]=yl(i)),null!=r&&(n[2]=yl(r)),ae(ift(n),"rgba")}function rk(n,t){if((n=ru(n))&&null!=t)return n[3]=ik(t),ae(n,"rgba")}function ae(n,t){if(n&&n.length){var i=n[0]+","+n[1]+","+n[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(i+=","+n[3]),t+"("+i+")"}}function str(n,t){return n[t]}function htr(n,t,i){n[t]=i}function rft(n,t,i){return(t-n)*i+n}function udt(n,t,i){return i>.5?t:n}function fdt(n,t,i,r,u){var o=n.length,s,f,e;if(1==u)for(f=0;f<o;f++)r[f]=rft(n[f],t[f],i);else for(s=o&&n[0].length,f=0;f<o;f++)for(e=0;e<s;e++)r[f][e]=rft(n[f][e],t[f][e],i)}function edt(n,t,i){var e=n.length,f=t.length,o,r,u;if(e!==f)if(e>f)n.length=f;else for(r=e;r<f;r++)n.push(1===i?t[r]:eat.call(t[r]));for(o=n[0]&&n[0].length,r=0;r<n.length;r++)if(1===i)isNaN(n[r])&&(n[r]=t[r]);else for(u=0;u<o;u++)isNaN(n[r][u])&&(n[r][u]=t[r][u])}function ctr(n,t,i){var f,e,r,u;if(n===t)return!0;if(f=n.length,f!==t.length)return!1;if(1===i){for(r=0;r<f;r++)if(n[r]!==t[r])return!1}else for(e=n[0].length,r=0;r<f;r++)for(u=0;u<e;u++)if(n[r][u]!==t[r][u])return!1;return!0}function odt(n,t,i,r,u,f,e,o,s){var l=n.length,a,h,c;if(1==s)for(h=0;h<l;h++)o[h]=uft(n[h],t[h],i[h],r[h],u,f,e);else for(a=n[0].length,h=0;h<l;h++)for(c=0;c<a;c++)o[h][c]=uft(n[h][c],t[h][c],i[h][c],r[h][c],u,f,e)}function uft(n,t,i,r,u,f,e){var o=.5*(i-n),s=.5*(r-t);return(2*(t-i)+o+s)*e+(-3*(t-i)-2*o-s)*f+o*u+t}function ltr(n){var r,i,t;if(se(n)){if(r=n.length,se(n[0])){for(i=[],t=0;t<r;t++)i.push(eat.call(n[t]));return i}return eat.call(n)}return n}function sdt(n){return n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n[2]=Math.floor(n[2]),"rgba("+n.join(",")+")"}function atr(n){var t=n[n.length-1].value;return se(t&&t[0])?2:1}function vtr(n,t,i,r,u,f){var it=n._getter,st=n._setter,ct="spline"===t,s=r.length,c,ft,p,h,lt,e,g,w,b,nt,tt,et,k,ot;if(s){var rt,l=se(r[0].value),v=!1,d=!1,y=l?atr(r):0;r.sort(function(n,t){return n.time-t.time});rt=r[s-1].time;for(var a=[],o=[],ut=r[0].value,ht=!0,h=0;h<s;h++)a.push(r[h].time/rt),c=r[h].value,(l&&ctr(c,ut,y)||!l&&c===ut||(ht=!1),ut=c,"string"==typeof c)&&(ft=ru(c),ft?(c=ft,v=!0):d=!0),o.push(c);if(f||!ht){for(p=o[s-1],h=0;h<s-1;h++)l?edt(o[h],p,y):!isNaN(o[h])||isNaN(p)||d||v||(o[h]=p);return l&&edt(it(n._target,u),p,y),tt=0,et=0,v&&(k=[0,0,0,0]),ot=new dut({target:n._target,life:rt,loop:n._loop,delay:n._delay,onframe:function(n,t){var i,f,r;if(t<0)i=0;else if(t<et){for(i=lt=Math.min(tt+1,s-1);i>=0&&!(a[i]<=t);i--);i=Math.min(i,s-2)}else{for(i=tt;i<s&&!(a[i]>t);i++);i=Math.min(i-1,s-2)}if(tt=i,et=t,f=a[i+1]-a[i],0!==f)if(e=(t-a[i])/f,ct)if(w=o[i],g=o[0===i?i:i-1],b=o[i>s-2?s-1:i+1],nt=o[i>s-3?s-1:i+2],l)odt(g,w,b,nt,e,e*e,e*e*e,it(n,u),y);else{if(v)r=odt(g,w,b,nt,e,e*e,e*e*e,k,1),r=sdt(k);else{if(d)return udt(w,b,e);r=uft(g,w,b,nt,e,e*e,e*e*e)}st(n,u,r)}else if(l)fdt(o[i],o[i+1],e,it(n,u),y);else{if(v)fdt(o[i],o[i+1],e,k,1),r=sdt(k);else{if(d)return udt(o[i],o[i+1],e);r=rft(o[i],o[i+1],e)}st(n,u,r)}},ondestroy:i}),t&&"spline"!==t&&(ot.easing=t),ot}}}function w(n,t,i,r){i<0&&(n+=i,i=-i);r<0&&(t+=r,r=-r);this.x=n;this.y=t;this.width=i;this.height=r}function ytr(n){for(var t=0;n>=kvi;)t|=1&n,n>>=1;return n+t}function hdt(n,t,i,r){var u=t+1;if(u===i)return 1;if(r(n[u++],n[t])<0){for(;u<i&&r(n[u],n[u-1])<0;)u++;ptr(n,t,u)}else for(;u<i&&r(n[u],n[u-1])>=0;)u++;return u-t}function ptr(n,t,i){for(i--;t<i;){var r=n[t];n[t++]=n[i];n[i--]=r}}function cdt(n,t,i,r,u){var e;for(r===t&&r++;r<i;r++){for(var o,h=n[r],f=t,s=r;f<s;)u(h,n[o=f+s>>>1])<0?s=o:f=o+1;e=r-f;switch(e){case 3:n[f+3]=n[f+2];case 2:n[f+2]=n[f+1];case 1:n[f+1]=n[f];break;default:for(;e>0;)n[f+e]=n[f+e-1],e--}n[f]=h}}function fft(n,t,i,r,u,f){var o=0,s=0,e=1,c,h;if(f(n,t[i+u])>0){for(s=r-u;e<s&&f(n,t[i+u+e])>0;)o=e,(e=1+(e<<1))<=0&&(e=s);e>s&&(e=s);o+=u;e+=u}else{for(s=u+1;e<s&&f(n,t[i+u-e])<=0;)o=e,(e=1+(e<<1))<=0&&(e=s);e>s&&(e=s);c=o;o=u-e;e=u-c}for(o++;o<e;)h=o+(e-o>>>1),f(n,t[i+h])>0?o=h+1:e=h;return e}function eft(n,t,i,r,u,f){var o=0,s=0,e=1,c,h;if(f(n,t[i+u])<0){for(s=u+1;e<s&&f(n,t[i+u-e])<0;)o=e,(e=1+(e<<1))<=0&&(e=s);e>s&&(e=s);c=o;o=u-e;e=u-c}else{for(s=r-u;e<s&&f(n,t[i+u+e])>=0;)o=e,(e=1+(e<<1))<=0&&(e=s);e>s&&(e=s);o+=u;e+=u}for(o++;o<e;)h=o+(e-o>>>1),f(n,t[i+h])<0?e=h:o=h+1;return e}function wtr(n,t){function o(i){var c=f[i],e=r[i],l=f[i+1],o=r[i+1],a;r[i]=e+o;i===u-3&&(f[i+1]=f[i+2],r[i+1]=r[i+2]);u--;a=eft(n[l],n,c,e,0,t);c+=a;0!=(e-=a)&&0!==(o=fft(n[c+e-1],n,l,o,o-1,t))&&(e<=o?s(c,e,l,o):h(c,e,l,o))}function s(r,u,f,o){for(var s=0,a,v,y,p,s=0;s<u;s++)i[s]=n[r+s];var c=0,l=f,h=r;if(n[h++]=n[l++],0!=--o)if(1!==u){for(p=e;;){a=0;v=0;y=!1;do if(t(n[l],i[c])<0){if(n[h++]=n[l++],v++,a=0,0==--o){y=!0;break}}else if(n[h++]=i[c++],a++,v=0,1==--u){y=!0;break}while((a|v)<p);if(y)break;do{if(0!==(a=eft(n[l],i,c,u,0,t))){for(s=0;s<a;s++)n[h+s]=i[c+s];if(h+=a,c+=a,(u-=a)<=1){y=!0;break}}if(n[h++]=n[l++],0==--o){y=!0;break}if(0!==(v=fft(i[c],n,l,o,0,t))){for(s=0;s<v;s++)n[h+s]=n[l+s];if(h+=v,l+=v,0==(o-=v)){y=!0;break}}if(n[h++]=i[c++],1==--u){y=!0;break}p--}while(a>=uw||v>=uw);if(y)break;p<0&&(p=0);p+=2}if((e=p)<1&&(e=1),1===u){for(s=0;s<o;s++)n[h+s]=n[l+s];n[h+o]=i[c]}else{if(0===u)throw new Error;for(s=0;s<u;s++)n[h+s]=i[c+s]}}else{for(s=0;s<o;s++)n[h+s]=n[l+s];n[h+o]=i[c]}else for(s=0;s<u;s++)n[h+s]=i[c+s]}function h(r,u,f,o){for(var s=0,b,s=0;s<o;s++)i[s]=n[f+s];var v=r+u-1,w=o-1,h=f+o-1,c=0,y=0;if(n[h--]=n[v--],0!=--u)if(1!==o){for(b=e;;){var l=0,a=0,p=!1;do if(t(i[w],n[v])<0){if(n[h--]=n[v--],l++,a=0,0==--u){p=!0;break}}else if(n[h--]=i[w--],a++,l=0,1==--o){p=!0;break}while((l|a)<b);if(p)break;do{if(0!=(l=u-eft(i[w],n,r,u,u-1,t))){for(u-=l,y=(h-=l)+1,c=(v-=l)+1,s=l-1;s>=0;s--)n[y+s]=n[c+s];if(0===u){p=!0;break}}if(n[h--]=i[w--],1==--o){p=!0;break}if(0!=(a=o-fft(n[v],i,0,o,o-1,t))){for(o-=a,y=(h-=a)+1,c=(w-=a)+1,s=0;s<a;s++)n[y+s]=i[c+s];if(o<=1){p=!0;break}}if(n[h--]=n[v--],0==--u){p=!0;break}b--}while(l>=uw||a>=uw);if(p)break;b<0&&(b=0);b+=2}if((e=b)<1&&(e=1),1===o){for(y=(h-=u)+1,c=(v-=u)+1,s=u-1;s>=0;s--)n[y+s]=n[c+s];n[h]=i[w]}else{if(0===o)throw new Error;for(c=h-(o-1),s=0;s<o;s++)n[c+s]=i[s]}}else{for(y=(h-=u)+1,c=(v-=u)+1,s=u-1;s>=0;s--)n[y+s]=n[c+s];n[h]=i[w]}else for(c=h-(o-1),s=0;s<o;s++)n[c+s]=i[s]}var f,r,e=uw,u=0,i=[];f=[];r=[];this.mergeRuns=function(){for(;u>1;){var n=u-2;if(n>=1&&r[n-1]<=r[n]+r[n+1]||n>=2&&r[n-2]<=r[n]+r[n-1])r[n-1]<r[n+1]&&n--;else if(r[n]>r[n+1])break;o(n)}};this.forceMergeRuns=function(){for(;u>1;){var n=u-2;n>0&&r[n-1]<r[n+1]&&n--;o(n)}};this.pushRun=function(n,t){f[u]=n;r[u]=t;u+=1}}function uk(n,t,i,r){var f,u,o,s,e;if(i||(i=0),r||(r=n.length),f=r-i,!(f<2)){if(u=0,f<kvi)return u=hdt(n,i,r,t),void cdt(n,i,r,i+u,t);o=new wtr(n,t);s=ytr(f);do(u=hdt(n,i,r,t))<s&&(e=f,e>s&&(e=s),cdt(n,i,i+e,i+u,t),u=e),o.pushRun(i,u),o.mergeRuns(),f-=u,i+=u;while(0!==f);o.forceMergeRuns()}}function ldt(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}function btr(n,t,i){var r=null==t.x?0:t.x,u=null==t.x2?1:t.x2,f=null==t.y?0:t.y,e=null==t.y2?0:t.y2;return t.global||(r=r*i.width+i.x,u=u*i.width+i.x,f=f*i.height+i.y,e=e*i.height+i.y),r=isNaN(r)?0:r,u=isNaN(u)?1:u,f=isNaN(f)?0:f,e=isNaN(e)?0:e,n.createLinearGradient(r,f,u,e)}function ktr(n,t,i){var f=i.width,e=i.height,s=Math.min(f,e),r=null==t.x?.5:t.x,u=null==t.y?.5:t.y,o=null==t.r?.5:t.r;return t.global||(r=r*f+i.x,u=u*e+i.y,o*=s),n.createRadialGradient(r,u,0,r,u,o)}function dtr(){return!1}function adt(n,t,i){var u=aa(),f=t.getWidth(),e=t.getHeight(),r=u.style;return r&&(r.position="absolute",r.left=0,r.top=0,r.width=f+"px",r.height=e+"px",u.setAttribute("data-zr-dom-id",n)),u.width=f*i,u.height=e*i,u}function gtr(n){if("string"==typeof n){var t=lat.get(n);return t&&t.image}return n}function vdt(n,t,i,r,u){if(n){if("string"==typeof n){if(t&&t.__zrImageSrc===n||!i)return t;var f=lat.get(n),e={hostEl:i,cb:r,cbPayload:u};return f?!fk(t=f.image)&&f.pending.push(e):(!t&&(t=new Image),t.onload=nir,lat.put(n,t.__cachedImgObj={image:t,pending:[e]}),t.src=t.__zrImageSrc=n),t}return n}return t}function nir(){var i=this.__cachedImgObj,n,t,r;for(this.onload=this.__cachedImgObj=null,n=0;n<i.pending.length;n++)t=i.pending[n],r=t.cb,r&&r(this,t.cbPayload),t.hostEl.dirty();i.pending.length=0}function fk(n){return n&&n.width&&n.height}function sf(n,t){var r=n+":"+(t=t||fw);if(kn[r])return kn[r];for(var f=(n+"").split("\n"),i=0,u=0,e=f.length;u<e;u++)i=Math.max(uir(f[u],t).width,i);return aat>agr&&(aat=0,kn={}),aat++,kn[r]=i,i}function ve(n,t,i,r,u,f,e){return f?iir(n,t,i,r,u,f,e):tir(n,t,i,r,u,e)}function tir(n,t,i,r,u,f){var h=kdt(n,t,u,f),e=sf(n,t),o,s;return u&&(e+=u[1]+u[3]),o=h.outerHeight,s=new w(oy(0,e,i),sy(0,o,r),e,o),s.lineHeight=h.lineHeight,s}function iir(n,t,i,r,u,f,e){var o=sft(n,{rich:f,truncate:e,font:t,textAlign:i,textPadding:u}),s=o.outerWidth,h=o.outerHeight;return new w(oy(0,s,i),sy(0,h,r),s,h)}function oy(n,t,i){return"right"===i?n-=t:"center"===i&&(n-=t/2),n}function sy(n,t,i){return"middle"===i?n-=t/2:"bottom"===i&&(n-=t),n}function oft(n,t,i){var r=t.x,u=t.y,s=t.height,o=t.width,h=s/2,f="left",e="top";switch(n){case"left":r-=i;u+=h;f="right";e="middle";break;case"right":r+=i+o;u+=h;e="middle";break;case"top":r+=o/2;u-=i;f="center";e="bottom";break;case"bottom":r+=o/2;u+=s+i;f="center";break;case"inside":r+=o/2;u+=h;f="center";e="middle";break;case"insideLeft":r+=i;u+=h;e="middle";break;case"insideRight":r+=o-i;u+=h;f="right";e="middle";break;case"insideTop":r+=o/2;u+=i;f="center";break;case"insideBottom":r+=o/2;u+=s-i;f="center";e="bottom";break;case"insideTopLeft":r+=i;u+=i;break;case"insideTopRight":r+=o-i;u+=i;f="right";break;case"insideBottomLeft":r+=i;u+=s-i;e="bottom";break;case"insideBottomRight":r+=o-i;u+=s-i;f="right";e="bottom"}return{x:r,y:u,textAlign:f,textVerticalAlign:e}}function ydt(n,t,i,r,u){var f,e,o;if(!t)return"";for(f=(n+"").split("\n"),u=pdt(t,i,r,u),e=0,o=f.length;e<o;e++)f[e]=wdt(f[e],u);return f.join("\n")}function pdt(n,t,i,r){var i,h,o,u,s,f;for((r=e({},r)).font=t,i=oi(i,"..."),r.maxIterations=oi(r.maxIterations,2),h=r.minChar=oi(r.minChar,0),r.cnCharWidth=sf("国",t),o=r.ascCharWidth=sf("a",t),r.placeholder=oi(r.placeholder,""),u=n=Math.max(0,n-1),s=0;s<h&&u>=o;s++)u-=o;return f=sf(i),f>u&&(i="",f=0),u=n-f,r.ellipsis=i,r.ellipsisWidth=f,r.contentWidth=u,r.containerWidth=n,r}function wdt(n,t){var f=t.containerWidth,e=t.font,u=t.contentWidth,i,r,o;if(!f)return"";if(i=sf(n,e),i<=f)return n;for(r=0;;r++){if(i<=u||r>=t.maxIterations){n+=t.ellipsis;break}o=0===r?rir(n,u,t.ascCharWidth,t.cnCharWidth):i>0?Math.floor(n.length*u/i):0;i=sf(n=n.substr(0,o),e)}return""===n&&(n=t.placeholder),n}function rir(n,t,i,r){for(var f,e=0,u=0,o=n.length;u<o&&e<t;u++)f=n.charCodeAt(u),e+=0<=f&&f<=127?i:r;return u}function bdt(n){return sf("国",n)}function uir(n,t){return yat.measureText(n,t)}function kdt(n,t,i,r){var o,s;null!=n&&(n+="");var h=bdt(t),u=n?n.split("\n"):[],c=u.length*h,e=c;if(i&&(e+=i[0]+i[2]),n&&r)if(o=r.outerHeight,s=r.outerWidth,null!=o&&e>o)n="",u=[];else if(null!=s)for(var l=pdt(s-(i?i[1]+i[3]:0),t,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),f=0,a=u.length;f<a;f++)u[f]=wdt(u[f],l);return{lines:u,height:c,outerHeight:e,lineHeight:h}}function sft(n,t){var u={lines:[],width:0,height:0},y,s,it,r,et,ot,l,a,v,o,i,ht;if(null!=n&&(n+=""),!n)return u;for(s=vat.lastIndex=0;null!=(y=vat.exec(n));)it=y.index,it>s&&hft(u,n.substring(s,it)),hft(u,y[2],y[1]),s=vat.lastIndex;s<n.length&&hft(u,n.substring(s,n.length));var st=u.lines,rt=0,p=0,ut=[],e=t.textPadding,h=t.truncate,w=h&&h.outerWidth,b=h&&h.outerHeight;for(e&&(null!=w&&(w-=e[1]+e[3]),null!=b&&(b-=e[0]+e[2])),o=0;o<st.length;o++){for(var k=st[o],d=0,g=0,ft=0;ft<k.tokens.length;ft++){var f=(i=k.tokens[ft]).styleName&&t.rich[i.styleName]||{},c=i.textPadding=f.textPadding,nt=i.font=f.font||t.font,tt=i.textHeight=oi(f.textHeight,bdt(nt));if(c&&(tt+=c[0]+c[2]),i.height=tt,i.lineHeight=th(f.textLineHeight,t.textLineHeight,tt),i.textAlign=f&&f.textAlign||t.textAlign,i.textVerticalAlign=f&&f.textVerticalAlign||"middle",null!=b&&rt+i.lineHeight>b)return{lines:[],width:0,height:0};i.textWidth=sf(i.text,nt);r=f.textWidth;et=null==r||"auto"===r;"string"==typeof r&&"%"===r.charAt(r.length-1)?(i.percentWidth=r,ut.push(i),r=0):(et&&(r=i.textWidth,ot=f.textBackgroundColor,l=ot&&ot.image,l&&fk(l=gtr(l))&&(r=Math.max(r,l.width*tt/l.height))),a=c?c[1]+c[3]:0,r+=a,v=null!=w?w-g:null,null!=v&&v<r&&(!et||v<a?(i.text="",i.textWidth=r=0):(i.text=ydt(i.text,v-a,nt,h.ellipsis,{minChar:h.minChar}),i.textWidth=sf(i.text,nt),r=i.textWidth+a)));g+=i.width=r;f&&(d=Math.max(d,i.lineHeight))}k.width=g;k.lineHeight=d;rt+=d;p=Math.max(p,g)}for(u.outerWidth=u.width=oi(t.textWidth,p),u.outerHeight=u.height=oi(t.textHeight,rt),e&&(u.outerWidth+=e[1]+e[3],u.outerHeight+=e[0]+e[2]),o=0;o<ut.length;o++)i=ut[o],ht=i.percentWidth,i.width=parseInt(ht,10)/100*p;return u}function hft(n,t,i){for(var e,o,r,s,h=""===t,c=t.split("\n"),u=n.lines,f=0;f<c.length;f++)e=c[f],o={styleName:i,text:e,isLineHolder:!e&&!h},f?u.push({tokens:[o]}):(r=(u[u.length-1]||(u[0]={tokens:[]})).tokens,s=r.length,1===s&&r[0].isLineHolder?r[0]=o:(e||!s||h)&&r.push(o))}function ddt(n){var t=(n.fontSize||n.fontFamily)&&[n.fontStyle,n.fontWeight,(n.fontSize||12)+"px",n.fontFamily||"sans-serif"].join(" ");return t&&yut(t)||n.textFont||n.font}function gdt(n,t){var i,r,u,f,h=t.x,c=t.y,o=t.width,s=t.height,e=t.r,l;o<0&&(h+=o,o=-o);s<0&&(c+=s,s=-s);"number"==typeof e?i=r=u=f=e:e instanceof Array?1===e.length?i=r=u=f=e[0]:2===e.length?(i=u=e[0],r=f=e[1]):3===e.length?(i=e[0],r=f=e[1],u=e[2]):(i=e[0],r=e[1],u=e[2],f=e[3]):i=r=u=f=0;i+r>o&&(i*=o/(l=i+r),r*=o/l);u+f>o&&(u*=o/(l=u+f),f*=o/l);r+u>s&&(r*=s/(l=r+u),u*=s/l);i+f>s&&(i*=s/(l=i+f),f*=s/l);n.moveTo(h+i,c);n.lineTo(h+o-r,c);0!==r&&n.arc(h+o-r,c+r,r,-Math.PI/2,0);n.lineTo(h+o,c+s-u);0!==u&&n.arc(h+o-u,c+s-u,u,0,Math.PI/2);n.lineTo(h+f,c+s);0!==f&&n.arc(h+f,c+s-f,f,Math.PI/2,Math.PI);n.lineTo(h,c+i);0!==i&&n.arc(h+i,c+i,i,Math.PI,1.5*Math.PI)}function hy(n){return ngt(n),t(n.rich,ngt),n}function ngt(n){var t,i;n&&(n.font=ddt(n),t=n.textAlign,"middle"===t&&(t="center"),n.textAlign=null==t||vgr[t]?t:"left",i=n.textVerticalAlign||n.textBaseline,"center"===i&&(i="middle"),n.textVerticalAlign=null==i||ygr[i]?i:"top",n.textPadding&&(n.textPadding=vut(n.textPadding)))}function tgt(n,t,i,r,u){r.rich?eir(n,t,i,r,u):fir(n,t,i,r,u)}function fir(n,t,i,r,u){var k=lt(t,"font",r.font||fw),f=r.textPadding,e=n.__textCotentBlock,l,it,s;e&&!n.__dirty||(e=n.__textCotentBlock=kdt(i,k,f,r.truncate));var a=e.outerHeight,v=e.lines,d=e.lineHeight,h=rgt(a,r,u),c=h.baseX,g=h.baseY,y=h.textAlign,ut=h.textVerticalAlign;igt(t,r,u,c,g);var nt=sy(g,a,ut),p=c,o=nt,tt=lft(r);(tt||f)&&(l=sf(i,k),f&&(l+=f[1]+f[3]),it=oy(c,l,y),tt&&aft(n,t,r,it,nt,l,a),f&&(p=egt(c,y,f),o+=f[0]));lt(t,"textAlign",y||"left");lt(t,"textBaseline","middle");lt(t,"shadowBlur",r.textShadowBlur||0);lt(t,"shadowColor",r.textShadowColor||"transparent");lt(t,"shadowOffsetX",r.textShadowOffsetX||0);lt(t,"shadowOffsetY",r.textShadowOffsetY||0);o+=d/2;var rt=r.textStrokeWidth,w=vft(r.textStroke,rt),b=ugt(r.textFill);for(w&&(lt(t,"lineWidth",rt),lt(t,"strokeStyle",w)),b&&lt(t,"fillStyle",b),s=0;s<v.length;s++)w&&t.strokeText(v[s],p,o),b&&t.fillText(v[s],p,o),o+=d}function eir(n,t,i,r,u){var f=n.__textCotentBlock;f&&!n.__dirty||(f=n.__textCotentBlock=sft(i,r));oir(n,t,f,r,u)}function oir(n,t,i,r,u){var nt=i.width,tt=i.outerWidth,p=i.outerHeight,w=r.textPadding,h=rgt(p,r,u),it=h.baseX,rt=h.baseY,ot=h.textAlign,st=h.textVerticalAlign,b,l;igt(t,r,u,it,rt);var ut=oy(it,tt,ot),ft=sy(rt,p,st),c=ut,s=ft;for(w&&(c+=w[3],s+=w[0]),b=c+nt,lft(r)&&aft(n,t,r,ut,ft,tt,p),l=0;l<i.lines.length;l++){for(var f,k=i.lines[l],a=k.tokens,et=a.length,v=k.lineHeight,d=k.width,e=0,o=c,g=b,y=et-1;e<et&&(!(f=a[e]).textAlign||"left"===f.textAlign);)cft(n,t,f,r,v,s,o,"left"),d-=f.width,o+=f.width,e++;for(;y>=0&&"right"===(f=a[y]).textAlign;)cft(n,t,f,r,v,s,g,"right"),d-=f.width,g-=f.width,y--;for(o+=(nt-(o-c)-(b-g)-d)/2;e<=y;)cft(n,t,f=a[e],r,v,s,o+f.width/2,"center"),o+=f.width,e++;s+=v}}function igt(n,t,i,r,u){if(i&&t.textRotation){var f=t.textOrigin;"center"===f?(r=i.width/2+i.x,u=i.height/2+i.y):f&&(r=f[0]+i.x,u=f[1]+i.y);n.translate(r,u);n.rotate(-t.textRotation);n.translate(-r,-u)}}function cft(n,t,i,r,u,f,e,o){var s=r.rich[i.styleName]||{},l=i.textVerticalAlign,h=f+u/2,c;"top"===l?h=f+i.height/2:"bottom"===l&&(h=f+u-i.height/2);!i.isLineHolder&&lft(s)&&aft(n,t,s,"right"===o?e-i.width:"center"===o?e-i.width/2:e,h-i.height/2,i.width,i.height);c=i.textPadding;c&&(e=egt(e,o,c),h-=i.height/2-c[2]-i.textHeight/2);lt(t,"shadowBlur",th(s.textShadowBlur,r.textShadowBlur,0));lt(t,"shadowColor",s.textShadowColor||r.textShadowColor||"transparent");lt(t,"shadowOffsetX",th(s.textShadowOffsetX,r.textShadowOffsetX,0));lt(t,"shadowOffsetY",th(s.textShadowOffsetY,r.textShadowOffsetY,0));lt(t,"textAlign",o);lt(t,"textBaseline","middle");lt(t,"font",i.font||fw);var a=vft(s.textStroke||r.textStroke,y),v=ugt(s.textFill||r.textFill),y=oi(s.textStrokeWidth,r.textStrokeWidth);a&&(lt(t,"lineWidth",y),lt(t,"strokeStyle",a),t.strokeText(i.text,e,h));v&&(lt(t,"fillStyle",v),t.fillText(i.text,e,h))}function lft(n){return n.textBackgroundColor||n.textBorderWidth&&n.textBorderColor}function aft(n,t,i,r,u,f,e){var o=i.textBackgroundColor,h=i.textBorderWidth,c=i.textBorderColor,v=yt(o),l,s;(lt(t,"shadowBlur",i.textBoxShadowBlur||0),lt(t,"shadowColor",i.textBoxShadowColor||"transparent"),lt(t,"shadowOffsetX",i.textBoxShadowOffsetX||0),lt(t,"shadowOffsetY",i.textBoxShadowOffsetY||0),v||h&&c)&&(t.beginPath(),l=i.textBorderRadius,l?gdt(t,{x:r,y:u,width:f,height:e,r:l}):t.rect(r,u,f,e),t.closePath());v?(lt(t,"fillStyle",o),t.fill()):a(o)&&(s=o.image,(s=vdt(s,null,n,sir,o))&&fk(s)&&t.drawImage(s,r,u,f,e));h&&c&&(lt(t,"lineWidth",h),lt(t,"strokeStyle",c),t.stroke())}function sir(n,t){t.image=n}function rgt(n,t,i){var f=t.x||0,e=t.y||0,s=t.textAlign,h=t.textVerticalAlign,r,u,o;return i&&(r=t.textPosition,r instanceof Array?(f=i.x+fgt(r[0],i.width),e=i.y+fgt(r[1],i.height)):(u=oft(r,i,t.textDistance),f=u.x,e=u.y,s=s||u.textAlign,h=h||u.textVerticalAlign),o=t.textOffset,o&&(f+=o[0],e+=o[1])),{baseX:f,baseY:e,textAlign:s,textVerticalAlign:h}}function lt(n,t,i){return n[t]=dvi(n,t,i),n[t]}function vft(n,t){return null==n||t<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function ugt(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function fgt(n,t){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function egt(n,t,i){return"right"===t?n-i[1]:"center"===t?n+i[3]/2-i[1]/2:n+i[3]}function ogt(n,t){return null!=n&&(n||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}function or(n){n=n||{};pf.call(this,n);for(var t in n)n.hasOwnProperty(t)&&"style"!==t&&(this[t]=n[t]);this.style=new tc(n.style,this);this._rect=null;this.__clipPaths=[]}function gi(n){or.call(this,n)}function ek(n){return parseInt(n,10)}function hir(n){return!!n&&(!!n.__builtin__||"function"==typeof n.resize&&"function"==typeof n.refresh)}function cir(n,t,i){return wat.copy(n.getBoundingRect()),n.transform&&wat.applyTransform(n.transform),bat.width=t,bat.height=i,!wat.intersect(bat)}function lir(n,t){if(n==t)return!1;if(!n||!t||n.length!==t.length)return!0;for(var i=0;i<n.length;i++)if(n[i]!==t[i])return!0}function air(n,t){for(var i,r=0;r<n.length;r++)i=n[r],i.setTransform(t),t.beginPath(),i.buildPath(t,i.shape),t.clip(),i.restoreTransform(t)}function vir(n,t){var i=document.createElement("div");return i.style.cssText=["position:relative","overflow:hidden","width:"+n+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}function yir(n){return n.getBoundingClientRect?n.getBoundingClientRect():{left:0,top:0}}function yft(n,t,i,r){return i=i||{},r||!k.canvasSupported?sgt(n,t,i):k.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(i.zrX=t.layerX,i.zrY=t.layerY):null!=t.offsetX?(i.zrX=t.offsetX,i.zrY=t.offsetY):sgt(n,t,i),i}function sgt(n,t,i){var r=yir(n);i.zrX=t.clientX-r.left;i.zrY=t.clientY-r.top}function uh(n,t,i){var u,f,r;return null!=(t=t||window.event).zrX?t:(u=t.type,u&&u.indexOf("touch")>=0?(f="touchend"!=u?t.targetTouches[0]:t.changedTouches[0],f&&yft(n,f,t,i)):(yft(n,t,t,i),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),r=t.button,null==t.which&&void 0!==r&&pgr.test(t.type)&&(t.which=1&r?1:2&r?3:4&r?2:0),t)}function ok(n,t,i){dat?n.addEventListener(t,i):n.attachEvent("on"+t,i)}function pir(n,t,i){dat?n.removeEventListener(t,i):n.detachEvent("on"+t,i)}function pft(n){return n.which>1}function hgt(n){var t=n[1][0]-n[0][0],i=n[1][1]-n[0][1];return Math.sqrt(t*t+i*i)}function wir(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}function cgt(n){return"mousewheel"===n&&k.browser.firefox?"DOMMouseScroll":n}function wft(n,t,i){var u=n._gestureMgr,r,f;"start"===i&&u.clear();r=u.recognize(t,n.handler.findHover(t.zrX,t.zrY,null).target,n.dom);("end"===i&&u.clear(),r)&&(f=r.type,t.gestureEvent=f,n.handler.dispatchToElement({target:r.target},f,r.event))}function bft(n){n._touching=!0;clearTimeout(n._touchTimer);n._touchTimer=setTimeout(function(){n._touching=!1},700)}function lgt(n){var t=n.pointerType;return"pen"===t||"touch"===t}function bir(n){function i(n,t){return function(){if(!t._touching)return n.apply(t,arguments)}}t(nvt,function(t){n._handlers[t]=c(kr[t],n)});t(gvi,function(t){n._handlers[t]=c(kr[t],n)});t(ttt,function(t){n._handlers[t]=i(kr[t],n)})}function kft(n){function i(i,r){t(i,function(t){ok(n,cgt(t),r._handlers[t])},r)}ei.call(this);this.dom=n;this._touching=!1;this._touchTimer;this._gestureMgr=new ntt;this._handlers={};bir(this);k.pointerEventsSupported?i(gvi,this):(k.touchEventsSupported&&i(nvt,this),i(ttt,this))}function dft(n,t){var i=new ivt(hvi(),n,t);return ic[i.id]=i,i}function gft(n,t){itt[n]=t}function kir(n){delete ic[n]}function bi(n){return n instanceof Array?n:null==n?[]:[n]}function fh(n,t,i){var u,f,r;if(n)for(n[t]=n[t]||{},n.emphasis=n.emphasis||{},n.emphasis[t]=n.emphasis[t]||{},u=0,f=i.length;u<f;u++)r=i[u],!n.emphasis[t].hasOwnProperty(r)&&n[t].hasOwnProperty(r)&&(n.emphasis[t][r]=n[t][r])}function cy(n){return!wa(n)||dgr(n)||n instanceof Date?n:n.value}function dir(n){return wa(n)&&!(n instanceof Array)}function net(n,t){t=(t||[]).slice();var i=r(n||[],function(n){return{exist:n}});return pa(t,function(n,r){var u,f;if(wa(n)){for(u=0;u<i.length;u++)if(!i[u].option&&null!=n.id&&i[u].exist.id===n.id+"")return i[u].option=n,void(t[r]=null);for(u=0;u<i.length;u++)if(f=i[u].exist,!(i[u].option||null!=f.id&&null!=n.id||null==n.name||sk(n)||sk(f)||f.name!==n.name+""))return i[u].option=n,void(t[r]=null)}}),pa(t,function(n){var t,r;if(wa(n)){for(t=0;t<i.length;t++)if(r=i[t].exist,!i[t].option&&!sk(r)&&null==n.id){i[t].option=n;break}t>=i.length&&i.push({option:n})}}),i}function agt(n){var t=y();pa(n,function(n){var i=n.exist;i&&t.set(i.id,n)});pa(n,function(n){var i=n.option;co(!i||null==i.id||!t.get(i.id)||t.get(i.id)===n,"id duplicates: "+(i&&i.id));i&&null!=i.id&&t.set(i.id,n);!n.keyInfo&&(n.keyInfo={})});pa(n,function(n,i){var f=n.exist,u=n.option,r=n.keyInfo,e;if(wa(u)){if(r.name=null!=u.name?u.name+"":f?f.name:nyi+i,f)r.id=f.id;else if(null!=u.id)r.id=u.id+"";else{e=0;do r.id="\0"+r.name+"\0"+e++;while(t.get(r.id))}t.set(r.id,n)}})}function tet(n){var t=n.name;return!(!t||!t.indexOf(nyi))}function sk(n){return wa(n)&&n.id&&0===(n.id+"").indexOf("\0_ec_\0")}function gir(n,t){function u(n,t,i){for(var u,r=0,s=n.length;r<s;r++)for(var f=n[r].seriesId,h=bi(n[r].dataIndex),e=i&&i[f],o=0,c=h.length;o<c;o++)u=h[o],e&&e[u]?e[u]=null:(t[f]||(t[f]={}))[u]=1}function i(n,t){var u=[],r,f;for(r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t?u.push(+r):(f=i(n[r],!0),f.length&&u.push({seriesId:r,dataIndex:f})));return u}var r={},f={};return u(n||[],r),u(t||[],f,r),[i(r),i(f)]}function hk(n,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?i(t.dataIndex)?r(t.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(t.dataIndex):null!=t.name?i(t.name)?r(t.name,function(t){return n.indexOfName(t)}):n.indexOfName(t.name):void 0}function wu(){var n="__\0ec_inner_"+ggr+++"_"+Math.random().toFixed(5);return function(t){return t[n]||(t[n]={})}}function ck(n,t,i){var f,r,u;return yt(t)&&(f={},f[t+"Index"]=0,t=f),r=i&&i.defaultMainType,!r||iet(t,r+"Index")||iet(t,r+"Id")||iet(t,r+"Name")||(t[r+"Index"]=0),u={},pa(t,function(r,f){var r=t[f],s,h;if("dataIndex"!==f&&"dataIndexInside"!==f){var c=f.match(/^(\w+)(Index|Id|Name)$/)||[],e=c[1],o=(c[2]||"").toLowerCase();!e||!o||null==r||"index"===o&&"none"===r||i&&i.includeMainTypes&&b(i.includeMainTypes,e)<0||(s={mainType:e},"index"===o&&"all"===r||(s[o]=r),h=n.queryComponents(s),u[e+"Models"]=h,u[e+"Model"]=h[0])}else u[f]=r}),u}function iet(n,t){return n&&n.hasOwnProperty(t)}function vgt(n,t,i){n.setAttribute?n.setAttribute(t,i):n[t]=i}function nrr(n,t){return n.getAttribute?n.getAttribute(t):n[t]}function yo(n){var t={main:"",sub:""};return n&&(n=n.split(nnr),t.main=n[0]||"",t.sub=n[1]||""),t}function trr(n){co(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function ly(n){n.$constructor=n;n.extend=function(n){var i=this,t=function(){n.$constructor?n.$constructor.apply(this,arguments):i.apply(this,arguments)};return e(t.prototype,n),t.extend=this.extend,t.superCall=irr,t.superApply=rrr,ot(t,this),t.superClass=i,t}}function lk(n){var t=["__\0is_clz",tnr++,Math.random().toFixed(3)].join("_");n.prototype[t]=!0;n.isInstance=function(n){return!(!n||!n[t])}}function irr(n,t){var i=aut(arguments,2);return this.superClass.prototype[t].apply(n,i)}function rrr(n,t,i){return this.superClass.prototype[t].apply(n,i)}function ak(n,i){function f(n){var t=r[n.main];return t&&t[rc]||((t=r[n.main]={})[rc]=!0),t}var r,u;return i=i||{},r={},(n.registerClass=function(n,t){return t&&(trr(t),(t=yo(t)).sub?t.sub!==rc&&(f(t)[t.sub]=n):r[t.main]=n),n},n.getClass=function(n,t,i){var u=r[n];if(u&&u[rc]&&(u=t?u[t]:null),i&&!u)throw new Error(t?"Component "+n+"."+(t||"")+" not exists. Load it first.":n+".type should be specified.");return u},n.getClassesByMainType=function(n){n=yo(n);var u=[],i=r[n.main];return i&&i[rc]?t(i,function(n,t){t!==rc&&u.push(n)}):u.push(i),u},n.hasClass=function(n){return n=yo(n),!!r[n.main]},n.getAllClassMainTypes=function(){var n=[];return t(r,function(t,i){n.push(i)}),n},n.hasSubTypes=function(n){n=yo(n);var t=r[n.main];return t&&t[rc]},n.parseClassType=yo,i.registerWhenExtend)&&(u=n.extend,u&&(n.extend=function(t){var i=u.call(this,t);return n.registerClass(i,t.type)})),n}function po(n){return n>-utt&&n<utt}function ygt(n){return n>utt||n<-utt}function ur(n,t,i,r,u){var f=1-u;return f*f*(f*n+3*u*t)+u*u*(u*r+3*f*i)}function pgt(n,t,i,r,u){var f=1-u;return 3*(((t-n)*f+2*(i-t)*u)*f+(r-i)*u*u)}function urr(n,t,i,r,u,f){var s=r+3*(t-i)-n,e=3*(i-2*t+n),v=3*(t-n),tt=n-u,h=e*e-3*s*v,l=e*v-9*s*tt,rt=v*v-3*e*tt,c=0,y,b,a;if(po(h)&&po(l))po(e)?f[0]=0:(o=-v/e)>=0&&o<=1&&(f[c++]=o);else if(y=l*l-4*h*rt,po(y))b=l/h,a=-b/2,(o=-e/s+b)>=0&&o<=1&&(f[c++]=o),a>=0&&a<=1&&(f[c++]=a);else if(y>0){var it=es(y),p=h*e+1.5*s*(-l+it),w=h*e+1.5*s*(-l-it);(o=(-e-((p=p<0?-rtt(-p,ftt):rtt(p,ftt))+(w=w<0?-rtt(-w,ftt):rtt(w,ftt))))/(3*s))>=0&&o<=1&&(f[c++]=o)}else{var ut=(2*h*e-3*s*l)/(2*es(h*h*h)),k=Math.acos(ut)/3,d=es(h),g=Math.cos(k),o=(-e-2*d*g)/(3*s),a=(-e+d*(g+ryi*Math.sin(k)))/(3*s),nt=(-e+d*(g-ryi*Math.sin(k)))/(3*s);o>=0&&o<=1&&(f[c++]=o);a>=0&&a<=1&&(f[c++]=a);nt>=0&&nt<=1&&(f[c++]=nt)}return c}function wgt(n,t,i,r,u){var f=6*i-12*t+6*n,o=9*t+3*r-3*n-9*i,l=3*t-3*n,s=0,h;if(po(o))ygt(f)&&(e=-l/f)>=0&&e<=1&&(u[s++]=e);else if(h=f*f-4*o*l,po(h))u[0]=-f/(2*o);else if(h>0){var a=es(h),e=(-f+a)/(2*o),c=(-f-a)/(2*o);e>=0&&e<=1&&(u[s++]=e);c>=0&&c<=1&&(u[s++]=c)}return s}function bgt(n,t,i,r,u,f){var e=(t-n)*u+n,o=(i-t)*u+t,h=(r-i)*u+i,s=(o-e)*u+e,c=(h-o)*u+o,l=(c-s)*u+s;f[0]=n;f[1]=e;f[2]=s;f[3]=l;f[4]=l;f[5]=c;f[6]=h;f[7]=r}function frr(n,t,i,r,u,f,e,o,s,h,c){var a,y,p,w,k,b=.005,l=1/0,v,d;for(wf[0]=s,wf[1]=h,v=0;v<1;v+=.05)ou[0]=ur(n,i,u,e,v),ou[1]=ur(t,r,f,o,v),(w=rs(wf,ou))<l&&(a=v,l=w);for(l=1/0,d=0;d<32&&!(b<iyi);d++)y=a-b,p=a+b,ou[0]=ur(n,i,u,e,y),ou[1]=ur(t,r,f,o,y),w=rs(ou,wf),y>=0&&w<l?(a=y,l=w):(ka[0]=ur(n,i,u,e,p),ka[1]=ur(t,r,f,o,p),k=rs(ka,wf),p<=1&&k<l?(a=p,l=k):b*=.5);return c&&(c[0]=ur(n,i,u,e,a),c[1]=ur(t,r,f,o,a)),es(l)}function nr(n,t,i,r){var u=1-r;return u*(u*n+2*r*t)+r*r*i}function ret(n,t,i,r){return 2*((1-r)*(t-n)+r*(i-t))}function err(n,t,i,r,u){var o=n-2*t+i,e=2*(t-n),l=n-r,s=0,h;if(po(o))ygt(e)&&(f=-l/e)>=0&&f<=1&&(u[s++]=f);else if(h=e*e-4*o*l,po(h))(f=-e/(2*o))>=0&&f<=1&&(u[s++]=f);else if(h>0){var a=es(h),f=(-e+a)/(2*o),c=(-e-a)/(2*o);f>=0&&f<=1&&(u[s++]=f);c>=0&&c<=1&&(u[s++]=c)}return s}function kgt(n,t,i){var r=n+i-2*t;return 0===r?.5:(n-t)/r}function uet(n,t,i,r,u){var f=(t-n)*r+n,e=(i-t)*r+t,o=(e-f)*r+f;u[0]=n;u[1]=f;u[2]=o;u[3]=o;u[4]=e;u[5]=i}function orr(n,t,i,r,u,f,e,o,s){var c,p=.005,h=1/0,l,w,a,v,y,b;for(wf[0]=e,wf[1]=o,l=0;l<1;l+=.05)ou[0]=nr(n,i,u,l),ou[1]=nr(t,r,f,l),(y=rs(wf,ou))<h&&(c=l,h=y);for(h=1/0,w=0;w<32&&!(p<iyi);w++)a=c-p,v=c+p,ou[0]=nr(n,i,u,a),ou[1]=nr(t,r,f,a),y=rs(ou,wf),a>=0&&y<h?(c=a,h=y):(ka[0]=nr(n,i,u,v),ka[1]=nr(t,r,f,v),b=rs(ka,wf),v<=1&&b<h?(c=v,h=b):p*=.5);return s&&(s[0]=nr(n,i,u,c),s[1]=nr(t,r,f,c)),es(h)}function dgt(n,t,i){if(0!==n.length){for(var r=n[0],f=r[0],e=r[0],o=r[1],s=r[1],u=1;u<n.length;u++)r=n[u],f=sr(f,r[0]),e=hr(e,r[0]),o=sr(o,r[1]),s=hr(s,r[1]);t[0]=f;t[1]=o;i[0]=e;i[1]=s}}function ggt(n,t,i,r,u,f){u[0]=sr(n,i);u[1]=sr(t,r);f[0]=hr(n,i);f[1]=hr(t,r)}function srr(n,t,i,r,u,f,e,o,s,h){var c,y=wgt,p=ur,l=y(n,i,u,e,uyi),a,v;for(s[0]=1/0,s[1]=1/0,h[0]=-1/0,h[1]=-1/0,c=0;c<l;c++)a=p(n,i,u,e,uyi[c]),s[0]=sr(a,s[0]),h[0]=hr(a,h[0]);for(l=y(t,r,f,o,fyi),c=0;c<l;c++)v=p(t,r,f,o,fyi[c]),s[1]=sr(v,s[1]),h[1]=hr(v,h[1]);s[0]=sr(n,s[0]);h[0]=hr(n,h[0]);s[0]=sr(e,s[0]);h[0]=hr(e,h[0]);s[1]=sr(t,s[1]);h[1]=hr(t,h[1]);s[1]=sr(o,s[1]);h[1]=hr(o,h[1])}function hrr(n,t,i,r,u,f,e,o){var s=kgt,h=nr,a=hr(sr(s(n,i,u),1),0),v=hr(sr(s(t,r,f),1),0),c=h(n,i,u,a),l=h(t,r,f,v);e[0]=sr(n,u,c);e[1]=sr(t,f,l);o[0]=hr(n,u,c);o[1]=hr(t,f,l)}function crr(n,t,i,r,u,f,e,o,s){var c=ce,l=le,a=Math.abs(u-f),v,h;if(a%uc<.0001&&a>.0001)return o[0]=n-i,o[1]=t-r,s[0]=n+i,void(s[1]=t+r);for((ett[0]=uvt(u)*i+n,ett[1]=rvt(u)*r+t,ott[0]=uvt(f)*i+n,ott[1]=rvt(f)*r+t,c(o,ett,ott),l(s,ett,ott),(u%=uc)<0&&(u+=uc),(f%=uc)<0&&(f+=uc),u>f&&!e?f+=uc:u<f&&e&&(u+=uc),e)&&(v=f,f=u,u=v),h=0;h<f;h+=Math.PI/2)h>u&&(stt[0]=uvt(h)*i+n,stt[1]=rvt(h)*r+t,c(o,stt,o),l(s,stt,s))}function wo(n,t,i,r,u,f,e){var h;if(0===u)return!1;var o=u,s=0,c=n;return e>t+o&&e>r+o||e<t-o&&e<r-o||f>n+o&&f>i+o||f<n-o&&f<i-o?!1:n===i?Math.abs(f-n)<=o/2:(h=(s=(t-r)/(n-i))*f-e+(c=(n*r-i*t)/(n-i)),h*h/(s*s+1)<=o/2*o/2)}function lrr(n,t,i,r,u,f,e,o,s,h,c){if(0===s)return!1;var l=s;return!(c>t+l&&c>r+l&&c>f+l&&c>o+l||c<t-l&&c<r-l&&c<f-l&&c<o-l||h>n+l&&h>i+l&&h>u+l&&h>e+l||h<n-l&&h<i-l&&h<u-l&&h<e-l)&&frr(n,t,i,r,u,f,e,o,h,c,null)<=l/2}function nnt(n,t,i,r,u,f,e,o,s){if(0===e)return!1;var h=e;return!(s>t+h&&s>r+h&&s>f+h||s<t-h&&s<r-h&&s<f-h||o>n+h&&o>i+h&&o>u+h||o<n-h&&o<i-h&&o<u-h)&&orr(n,t,i,r,u,f,o,s,null)<=h/2}function bo(n){return(n%=syi)<0&&(n+=syi),n}function arr(n,t,i,r,u,f,e,o,s){var c,l,a,h;return 0===e?!1:(c=e,o-=n,s-=t,l=Math.sqrt(o*o+s*s),l-c>i||l+c<i)?!1:Math.abs(r-u)%sw<.0001?!0:(f?(a=r,r=bo(u),u=bo(a)):(r=bo(r),u=bo(u)),r>u&&(u+=sw),h=Math.atan2(s,o),h<0&&(h+=sw),h>=r&&h<=u||h+sw>=r&&h+sw<=u)}function ye(n,t,i,r,u,f){var o,e,s;return f>t&&f>r||f<t&&f<r?0:r===t?0:(o=r<t?1:-1,e=(f-t)/(r-t),1!==e&&0!==e||(o=r<t?.5:-.5),s=e*(i-n)+n,s===u?1/0:s>u?o:0)}function vrr(n,t){return Math.abs(n-t)<enr}function yrr(){var n=su[0];su[0]=su[1];su[1]=n}function prr(n,t,i,r,u,f,e,o,s,h){var y,l,c;if(h>t&&h>r&&h>f&&h>o||h<t&&h<r&&h<f&&h<o||(y=urr(t,r,f,o,h,er),0===y))return 0;for(var a,p,b=0,v=-1,w=0;w<y;w++)l=er[w],c=0===l||1===l?.5:1,ur(n,i,u,e,l)<s||(v<0&&(v=wgt(t,r,f,o,su),su[1]<su[0]&&v>1&&yrr(),a=ur(t,r,f,o,su[0]),v>1&&(p=ur(t,r,f,o,su[1]))),b+=2==v?l<su[0]?a<t?c:-c:l<su[1]?p<a?c:-c:o<p?c:-c:l<su[0]?a<t?c:-c:o<a?c:-c);return b}function wrr(n,t,i,r,u,f,e,o){var l,c,s,a;if(o>t&&o>r&&o>f||o<t&&o<r&&o<f||(l=err(t,r,f,o,er),0===l))return 0;if(c=kgt(t,r,f),c>=0&&c<=1){for(var v=0,y=nr(t,r,f,c),h=0;h<l;h++)s=0===er[h]||1===er[h]?.5:1,(a=nr(n,i,u,er[h]))<e||(v+=er[h]<c?y<t?s:-s:f<y?s:-s);return v}return s=0===er[0]||1===er[0]?.5:1,a=nr(n,i,u,er[0]),a<e?0:f<t?s:-s}function brr(n,t,i,r,u,f,e,o){var a,c,v,l,y,s,h;if((o-=t)>i||o<-i||(c=Math.sqrt(i*i-o*o),er[0]=-c,er[1]=c,a=Math.abs(r-u),a<.0001))return 0;if(a%ga<.0001)return r=0,u=ga,h=f?1:-1,e>=er[0]+n&&e<=er[1]+n?h:0;for(f?(c=r,r=bo(u),u=bo(c)):(r=bo(r),u=bo(u)),r>u&&(u+=ga),v=0,l=0;l<2;l++)y=er[l],y+n>e&&(s=Math.atan2(o,y),h=f?1:-1,s<0&&(s=ga+s),(s>=r&&s<=u||s+ga>=r&&s+ga<=u)&&(s>Math.PI/2&&s<1.5*Math.PI&&(h=-h),v+=h));return v}function tnt(n,t,i,r,u){for(var k,g,l,a,c=0,o=0,e=0,h=0,s=0,f=0;f<n.length;){k=n[f++];switch(k===ss.M&&f>1&&(i||(c+=ye(o,e,h,s,r,u))),1==f&&(h=o=n[f],s=e=n[f+1]),k){case ss.M:o=h=n[f++];e=s=n[f++];break;case ss.L:if(i){if(wo(o,e,n[f],n[f+1],t,r,u))return!0}else c+=ye(o,e,n[f],n[f+1],r,u)||0;o=n[f++];e=n[f++];break;case ss.C:if(i){if(lrr(o,e,n[f++],n[f++],n[f++],n[f++],n[f],n[f+1],t,r,u))return!0}else c+=prr(o,e,n[f++],n[f++],n[f++],n[f++],n[f],n[f+1],r,u)||0;o=n[f++];e=n[f++];break;case ss.Q:if(i){if(nnt(o,e,n[f++],n[f++],n[f],n[f+1],t,r,u))return!0}else c+=wrr(o,e,n[f++],n[f++],n[f],n[f+1],r,u)||0;o=n[f++];e=n[f++];break;case ss.A:var y=n[f++],w=n[f++],d=n[f++],p=n[f++],v=n[f++],b=n[f++],nt=(n[f++],1-n[f++]),l=Math.cos(v)*d+y,a=Math.sin(v)*p+w;if(f>1?c+=ye(o,e,l,a,r,u):(h=l,s=a),g=(r-y)*p/d+y,i){if(arr(y,w,p,v,v+b,nt,t,g,u))return!0}else c+=brr(y,w,p,v,v+b,nt,g,u);o=Math.cos(v+b)*d+y;e=Math.sin(v+b)*p+w;break;case ss.R:if(h=o=n[f++],s=e=n[f++],l=h+n[f++],a=s+n[f++],i){if(wo(h,s,l,s,t,r,u)||wo(l,s,l,a,t,r,u)||wo(l,a,h,a,t,r,u)||wo(h,a,h,s,t,r,u))return!0}else c+=ye(l,s,l,a,r,u),c+=ye(h,a,h,s,r,u);break;case ss.Z:if(i){if(wo(o,e,h,s,t,r,u))return!0}else c+=ye(o,e,h,s,r,u);o=h;e=s}}return i||vrr(e,s)||(c+=ye(o,e,h,s,r,u)||0),0!==c}function krr(n,t,i){return tnt(n,0,!1,t,i)}function drr(n,t,i,r){return tnt(n,t,!0,i,r)}function g(n){or.call(this,n);this.path=null}function int(n,t,i,r,u,f,e,o,s,h,c){var v=s*(att/180),l=ltt(v)*(n-i)/2+ctt(v)*(t-r)/2,a=-1*ctt(v)*(n-i)/2+ltt(v)*(t-r)/2,b=l*l/(e*e)+a*a/(o*o);b>1&&(e*=svt(b),o*=svt(b));var g=(u===f?-1:1)*svt((e*e*o*o-e*e*a*a-o*o*l*l)/(e*e*a*a+o*o*l*l))||0,p=g*e*a/o,w=g*-o*l/e,nt=(n+i)/2+ltt(v)*p-ctt(v)*w,tt=(t+r)/2+ctt(v)*p+ltt(v)*w,it=ayi([1,0],[(l-p)/e,(a-w)/o]),k=[(l-p)/e,(a-w)/o],d=[(-1*l-p)/e,(-1*a-w)/o],y=ayi(k,d);hvt(k,d)<=-1&&(y=att);hvt(k,d)>=1&&(y=0);0===f&&y>0&&(y-=2*att);1===f&&y<0&&(y+=2*att);c.addData(h,nt,tt,e,o,it,y,v,f)}function grr(n){var y,k,b,s,h,d,g,nt,tt,it,a,v,c,l;if(!n)return[];for(k=n.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,","),y=0;y<ovt.length;y++)k=k.replace(new RegExp(ovt[y],"g"),"|"+ovt[y]);var p,rt=k.split("|"),r=0,u=0,e=new dr,o=dr.CMD;for(y=1;y<rt.length;y++){var f,ut=rt[y],w=ut.charAt(0),i=0,t=ut.slice(1).replace(/e,-/g,"e-").split(",");for(t.length>0&&""===t[0]&&t.shift(),b=0;b<t.length;b++)t[b]=parseFloat(t[b]);for(;i<t.length&&!isNaN(t[i])&&!isNaN(t[0]);){a=r;v=u;switch(w){case"l":r+=t[i++];u+=t[i++];f=o.L;e.addData(f,r,u);break;case"L":r=t[i++];u=t[i++];f=o.L;e.addData(f,r,u);break;case"m":r+=t[i++];u+=t[i++];f=o.M;e.addData(f,r,u);w="l";break;case"M":r=t[i++];u=t[i++];f=o.M;e.addData(f,r,u);w="L";break;case"h":r+=t[i++];f=o.L;e.addData(f,r,u);break;case"H":r=t[i++];f=o.L;e.addData(f,r,u);break;case"v":u+=t[i++];f=o.L;e.addData(f,r,u);break;case"V":u=t[i++];f=o.L;e.addData(f,r,u);break;case"C":f=o.C;e.addData(f,t[i++],t[i++],t[i++],t[i++],t[i++],t[i++]);r=t[i-2];u=t[i-1];break;case"c":f=o.C;e.addData(f,t[i++]+r,t[i++]+u,t[i++]+r,t[i++]+u,t[i++]+r,t[i++]+u);r+=t[i-2];u+=t[i-1];break;case"S":s=r;h=u;c=e.len();l=e.data;p===o.C&&(s+=r-l[c-4],h+=u-l[c-3]);f=o.C;a=t[i++];v=t[i++];r=t[i++];u=t[i++];e.addData(f,s,h,a,v,r,u);break;case"s":s=r;h=u;c=e.len();l=e.data;p===o.C&&(s+=r-l[c-4],h+=u-l[c-3]);f=o.C;a=r+t[i++];v=u+t[i++];r+=t[i++];u+=t[i++];e.addData(f,s,h,a,v,r,u);break;case"Q":a=t[i++];v=t[i++];r=t[i++];u=t[i++];f=o.Q;e.addData(f,a,v,r,u);break;case"q":a=t[i++]+r;v=t[i++]+u;r+=t[i++];u+=t[i++];f=o.Q;e.addData(f,a,v,r,u);break;case"T":s=r;h=u;c=e.len();l=e.data;p===o.Q&&(s+=r-l[c-4],h+=u-l[c-3]);r=t[i++];u=t[i++];f=o.Q;e.addData(f,s,h,r,u);break;case"t":s=r;h=u;c=e.len();l=e.data;p===o.Q&&(s+=r-l[c-4],h+=u-l[c-3]);r+=t[i++];u+=t[i++];f=o.Q;e.addData(f,s,h,r,u);break;case"A":d=t[i++];g=t[i++];nt=t[i++];tt=t[i++];it=t[i++];int(a=r,v=u,r=t[i++],u=t[i++],tt,it,d,g,nt,f=o.A,e);break;case"a":d=t[i++];g=t[i++];nt=t[i++];tt=t[i++];it=t[i++];int(a=r,v=u,r+=t[i++],u+=t[i++],tt,it,d,g,nt,f=o.A,e)}}"z"!==w&&"Z"!==w||(f=o.Z,e.addData(f));p=f}return e.toStatic(),e}function rnt(n,t){var i=grr(n);return t=t||{},t.buildPath=function(n){if(n.setData)n.setData(i.data),(t=n.getContext())&&n.rebuildPath(t);else{var t=n;i.rebuildPath(t)}},t.applyTransform=function(n){cnr(i,n);this.dirty(!0)},t}function nur(n,t){return new g(rnt(n,t))}function tur(n,t){return g.extend(rnt(n,t))}function unt(n,t,i,r,u,f,e){var o=.5*(i-n),s=.5*(r-t);return(2*(t-i)+o+s)*e+(-3*(t-i)-2*o-s)*f+o*u+t}function fnt(n,t,i){var r=t.points,f=t.smooth,o,e,u,l;if(r&&r.length>=2){if(f&&"spline"!==f)for(o=anr(r,f,i,t.smoothConstraint),n.moveTo(r[0][0],r[0][1]),e=r.length,u=0;u<(i?e:e-1);u++){var s=o[2*u],h=o[2*u+1],c=r[(u+1)%e];n.bezierCurveTo(s[0],s[1],h[0],h[1],c[0],c[1])}else for("spline"===f&&(r=lnr(r,i)),n.moveTo(r[0][0],r[0][1]),u=1,l=r.length;u<l;u++)n.lineTo(r[u][0],r[u][1]);i&&n.closePath()}}function ent(n,t,i){var r=n.cpx2,u=n.cpy2;return null===r||null===u?[(i?pgt:ur)(n.x1,n.cpx1,n.cpx2,n.x2,t),(i?pgt:ur)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(i?ret:nr)(n.x1,n.cpx1,n.x2,t),(i?ret:nr)(n.y1,n.cpy1,n.y2,t)]}function yr(n){or.call(this,n);this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.notClear=!0}function hf(n){return g.extend(n)}function ay(n,t,i,r){var u=nur(n,t),f=u.getBoundingRect();return i&&("center"===r&&(i=snt(i,f)),hnt(u,i)),u}function ont(n,t,i){var r=new gi({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(n){if("center"===i){var u={width:n.width,height:n.height};r.setStyle(snt(t,u))}}});return r}function snt(n,t){var r,u=t.width/t.height,i=n.height*u;return r=i<=n.width?n.height:(i=n.width)/u,{x:n.x+n.width/2-i/2,y:n.y+n.height/2-r/2,width:i,height:r}}function hnt(n,t){if(n.applyTransform){var i=n.getBoundingRect().calculateTransform(t);n.applyTransform(i)}}function eh(n){var t=n.shape,i=n.style.lineWidth;return tv(2*t.x1)===tv(2*t.x2)&&(t.x1=t.x2=cf(t.x1,i,!0)),tv(2*t.y1)===tv(2*t.y2)&&(t.y1=t.y2=cf(t.y1,i,!0)),n}function fet(n){var t=n.shape,i=n.style.lineWidth,f=t.x,e=t.y,r=t.width,u=t.height;return t.x=cf(t.x,i,!0),t.y=cf(t.y,i,!0),t.width=Math.max(cf(f+r,i,!1)-t.x,0===r?0:1),t.height=Math.max(cf(e+u,i,!1)-t.y,0===u?0:1),n}function cf(n,t,i){var r=tv(2*n);return(r+tv(t))%2==0?r/2:(r+(i?1:-1))/2}function cnt(n){return null!=n&&"none"!=n}function lnt(n){return"string"==typeof n?tdt(n,-.1):n}function ant(n){var r,i;if(n.__hoverStlDirty){var u=n.style.stroke,f=n.style.fill,t=n.__hoverStl;t.fill=t.fill||(cnt(f)?lnt(f):null);t.stroke=t.stroke||(cnt(u)?lnt(u):null);r={};for(i in t)null!=t[i]&&(r[i]=n.style[i]);n.__normalStl=r;n.__hoverStlDirty=!1}}function vnt(n){if(!n.__isHover){if(ant(n),n.useHoverLayer)n.__zr&&n.__zr.addHover(n,n.__hoverStl);else{var t=n.style,i=t.insideRollbackOpt;i&&our(t);t.extendFrom(n.__hoverStl);i&&(gnt(t,t.insideOriginalTextPosition,i),null==t.textFill&&(t.textFill=i.autoColor));n.dirty(!1);n.z2+=1}n.__isHover=!0}}function ynt(n){if(n.__isHover){var t=n.__normalStl;n.useHoverLayer?n.__zr&&n.__zr.removeHover(n):(t&&n.setStyle(t),n.z2-=1);n.__isHover=!1}}function pnt(n){"group"===n.type?n.traverse(function(n){"group"!==n.type&&vnt(n)}):vnt(n)}function wnt(n){"group"===n.type?n.traverse(function(n){"group"!==n.type&&ynt(n)}):ynt(n)}function bnt(n,t){n.__hoverStl=n.hoverStyle||t||{};n.__hoverStlDirty=!0;n.__isHover&&ant(n)}function iur(n){this.__hoverSilentOnTouch&&n.zrByTouch||!this.__isEmphasis&&pnt(this)}function rur(n){this.__hoverSilentOnTouch&&n.zrByTouch||!this.__isEmphasis&&wnt(this)}function uur(){this.__isEmphasis=!0;pnt(this)}function fur(){this.__isEmphasis=!1;wnt(this)}function at(n,t,i){n.__hoverSilentOnTouch=i&&i.hoverSilentOnTouch;"group"===n.type?n.traverse(function(n){"group"!==n.type&&bnt(n,t)}):bnt(n,t);n.on("mouseover",iur).on("mouseout",rur);n.on("emphasis",uur).on("normal",fur)}function uu(n,t,i,r,u,f,e){var o,s=(u=u||ptt).labelFetcher,h=u.labelDataIndex,a=u.labelDimIndex,v=i.getShallow("show"),y=r.getShallow("show"),c,l;(v||y)&&(s&&(o=s.getFormattedLabel(h,"normal",null,a)),null==o&&(o=vr(u.defaultText)?u.defaultText(h,u):u.defaultText));c=v?o:null;l=y?oi(s?s.getFormattedLabel(h,"emphasis",null,a):null,o):null;null==c&&null==l||(kt(n,i,f,u),kt(t,r,e,u,!0));n.text=c;t.text=l}function kt(n,t,i,r,u){return knt(n,t,r,u),i&&e(n,i),n.host&&n.host.dirty&&n.host.dirty(!1),n}function knt(n,t,i,r){var u,f,e,l;(i=i||ptt).isRectText&&(u=t.getShallow("position")||(r?null:"inside"),"outside"===u&&(u="top"),n.textPosition=u,n.textOffset=t.getShallow("offset"),f=t.getShallow("rotate"),null!=f&&(f*=Math.PI/180),n.textRotation=f,n.textDistance=oi(t.getShallow("distance"),r?null:5));var o,h=t.ecModel,c=h&&h.option.textStyle,s=eur(t);if(s){o={};for(e in s)s.hasOwnProperty(e)&&(l=t.getModel(["rich",e]),dnt(o[e]={},l,c,i,r))}return n.rich=o,dnt(n,t,c,i,r,!0),i.forceRich&&!i.textStyle&&(i.textStyle={}),n}function eur(n){for(var t,i,r;n&&n!==n.ecModel;){if(i=(n.option||ptt).rich,i){t=t||{};for(r in i)i.hasOwnProperty(r)&&(t[r]=1)}n=n.parentModel}return t}function dnt(n,t,i,r,u,f){if(i=!u&&i||ptt,n.textFill=vk(t.getShallow("color"),r)||i.color,n.textStroke=vk(t.getShallow("textBorderColor"),r)||i.textBorderColor,n.textStrokeWidth=oi(t.getShallow("textBorderWidth"),i.textBorderWidth),!u){if(f){var e=n.textPosition;n.insideRollback=gnt(n,e,r);n.insideOriginalTextPosition=e;n.insideRollbackOpt=r}null==n.textFill&&(n.textFill=r.autoColor)}n.fontStyle=t.getShallow("fontStyle")||i.fontStyle;n.fontWeight=t.getShallow("fontWeight")||i.fontWeight;n.fontSize=t.getShallow("fontSize")||i.fontSize;n.fontFamily=t.getShallow("fontFamily")||i.fontFamily;n.textAlign=t.getShallow("align");n.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline");n.textLineHeight=t.getShallow("lineHeight");n.textWidth=t.getShallow("width");n.textHeight=t.getShallow("height");n.textTag=t.getShallow("tag");f&&r.disableBox||(n.textBackgroundColor=vk(t.getShallow("backgroundColor"),r),n.textPadding=t.getShallow("padding"),n.textBorderColor=vk(t.getShallow("borderColor"),r),n.textBorderWidth=t.getShallow("borderWidth"),n.textBorderRadius=t.getShallow("borderRadius"),n.textBoxShadowColor=t.getShallow("shadowColor"),n.textBoxShadowBlur=t.getShallow("shadowBlur"),n.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),n.textBoxShadowOffsetY=t.getShallow("shadowOffsetY"));n.textShadowColor=t.getShallow("textShadowColor")||i.textShadowColor;n.textShadowBlur=t.getShallow("textShadowBlur")||i.textShadowBlur;n.textShadowOffsetX=t.getShallow("textShadowOffsetX")||i.textShadowOffsetX;n.textShadowOffsetY=t.getShallow("textShadowOffsetY")||i.textShadowOffsetY}function vk(n,t){return"auto"!==n?n:t&&t.autoColor?t.autoColor:null}function gnt(n,t,i){var r,u=i.useInsideStyle;return null==n.textFill&&!1!==u&&(!0===u||i.isRectText&&t&&"string"==typeof t&&t.indexOf("inside")>=0)&&(r={textFill:null,textStroke:n.textStroke,textStrokeWidth:n.textStrokeWidth},n.textFill="#fff",null==n.textStroke&&(n.textStroke=i.autoColor,null==n.textStrokeWidth&&(n.textStrokeWidth=2))),r}function our(n){var t=n.insideRollback;t&&(n.textFill=t.textFill,n.textStroke=t.textStroke,n.textStrokeWidth=t.textStrokeWidth)}function eet(n,t){var i=t||t.getModel("textStyle");return yut([n.fontStyle||i&&i.getShallow("fontStyle")||"",n.fontWeight||i&&i.getShallow("fontWeight")||"",(n.fontSize||i&&i.getShallow("fontSize")||12)+"px",n.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}function nti(n,t,i,r,u,f){if("function"==typeof u&&(f=u,u=null),r&&r.isAnimationEnabled()){var s=n?"Update":"",e=r.getShallow("animationDuration"+s),h=r.getShallow("animationEasing"+s),o=r.getShallow("animationDelay"+s);"function"==typeof o&&(o=o(u,r.getAnimationDelayParams?r.getAnimationDelayParams(t,u):null));"function"==typeof e&&(e=e(u));e>0?t.animateTo(i,e,o||0,h,f,!!f):(t.stopAnimation(),t.attr(i),f&&f())}else t.stopAnimation(),t.attr(i),f&&f()}function p(n,t,i,r,u){nti(!0,n,t,i,r,u)}function tr(n,t,i,r,u){nti(!1,n,t,i,r,u)}function oh(n,t){for(var i=fy([]);n&&n!==t;)ih(i,n.getLocalTransform(),i),n=n.parent;return i}function lf(n,t,i){return t&&!se(t)&&(t=vf.getLocalTransform(t)),i&&(t=tk([],t)),ct([],n,t)}function oet(n,t,i){var u=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),f=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),r=["left"===n?-u:"right"===n?u:0,"top"===n?-f:"bottom"===n?f:0];return r=lf(r,t,i),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"}function set(n,t,i){function r(n){var t={position:yu(n.position),rotation:n.rotation};return n.shape&&(t.shape=e({},n.shape)),t}if(n&&t){var u=function(n){var t={};return n.traverse(function(n){!n.isGroup&&n.anid&&(t[n.anid]=n)}),t}(n);t.traverse(function(n){var t,f;!n.isGroup&&n.anid&&(t=u[n.anid],t&&(f=r(n),n.attr(r(t)),p(n,f,i,n.dataIndex)))})}}function tti(n,t){return r(n,function(n){var r=n[0],i;return r=vtt(r,t.x),r=ytt(r,t.x+t.width),i=n[1],i=vtt(i,t.y),i=ytt(i,t.y+t.height),[r,i]})}function vy(n,t,i){var r=(t=e({rectHover:!0},t)).style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(r.image=n.slice(8),o(r,i),new gi(t)):ay(n.replace("path://",""),t,i,"center")}function tt(n,t,i){this.parentModel=t;this.ecModel=i;this.option=n}function iti(n,t,i){for(var r=0;r<t.length&&(!t[r]||null!=(n=n&&"object"==typeof n?n[t[r]]:null));r++);return null==n&&i&&(n=i.get(t)),n}function het(n,t){var i=byi(n).getParent;return i?i.call(n,t):n.parentModel}function yk(n){return[n||"",bnr++,Math.random().toFixed(5)].join("_")}function sur(n){return n.replace(/^\s+/,"").replace(/\s+$/,"")}function dt(n,t,i,r){var u=t[1]-t[0],f=i[1]-i[0];if(0===u)return 0===f?i[0]:(i[0]+i[1])/2;if(r)if(u>0){if(n<=t[0])return i[0];if(n>=t[1])return i[1]}else{if(n>=t[0])return i[0];if(n<=t[1])return i[1]}else{if(n===t[0])return i[0];if(n===t[1])return i[1]}return(n-t[0])/u*f+i[0]}function u(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return"string"==typeof n?sur(n).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):null==n?NaN:+n}function ai(n,t,i){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),n=(+n).toFixed(t),i?n:+n}function sh(n){return n.sort(function(n,t){return n-t}),n}function rti(n){if(n=+n,isNaN(n))return 0;for(var t=1,i=0;Math.round(n*t)/t!==n;)t*=10,i++;return i}function pk(n){var t=n.toString(),u=t.indexOf("e"),i,r;return u>0?(i=+t.slice(u+1),i<0?-i:0):(r=t.indexOf("."),r<0?0:t.length-1-r)}function cet(n,t){var i=Math.log,r=Math.LN10,f=Math.floor(i(n[1]-n[0])/r),e=Math.round(i(Math.abs(t[1]-t[0]))/r),u=Math.min(Math.max(-f+e,0),20);return isFinite(u)?u:20}function uti(n,t,i){var o;if(!n[t]||(o=cl(n,function(n,t){return n+(isNaN(t)?0:t)},0),0===o))return 0;for(var s=Math.pow(10,i),c=r(n,function(n){return(isNaN(n)?0:n)/o*s*100}),v=100*s,f=r(c,function(n){return Math.floor(n)}),l=cl(f,function(n,t){return n+t},0),e=r(c,function(n,t){return n-f[t]});l<v;){for(var a=Number.NEGATIVE_INFINITY,h=null,u=0,y=e.length;u<y;++u)e[u]>a&&(a=e[u],h=u);++f[h];e[h]=0;++l}return f[t]/s}function aet(n){var t=2*Math.PI;return(n%t+t)%t}function yy(n){return n>-kyi&&n<kyi}function py(n){var t,i;return n instanceof Date?n:"string"==typeof n?(t=knr.exec(n),!t)?new Date(NaN):t[8]?(i=+t[4]||0,"Z"!==t[8].toUpperCase()&&(i-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,i,+(t[5]||0),+t[6]||0,+t[7]||0))):new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0):null==n?new Date(NaN):new Date(Math.round(n))}function fti(n){return Math.pow(10,eti(n))}function eti(n){return Math.floor(Math.log(n)/Math.LN10)}function vet(n,t){var u,r=eti(n),f=Math.pow(10,r),i=n/f;return u=t?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10,n=u*f,r>=-20?+n.toFixed(r<0?-r:0):n}function yet(n){function e(n,t,i){return n.interval[i]<t.interval[i]||n.interval[i]===t.interval[i]&&(n.close[i]-t.close[i]==(i?-1:1)||!i&&e(n,t,1))}n.sort(function(n,t){return e(n,t,0)?-1:1});for(var f=-1/0,o=1,i=0;i<n.length;){for(var r=n[i].interval,u=n[i].close,t=0;t<2;t++)r[t]<=f&&(r[t]=f,u[t]=t?1:1-o),f=r[t],o=u[t];r[0]===r[1]&&u[0]*u[1]!=1?n.splice(i,1):i++}return n}function oti(n){return n-parseFloat(n)>=0}function hh(n){return isNaN(n)?"-":(n=(n+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function sti(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(n,t){return t.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}function wt(n){return null==n?"":(n+"").replace(gnr,function(n,t){return ntu[t]})}function pet(n,t,r){var s,e,o,h,u,f,c;if(i(t)||(t=[t]),s=t.length,!s)return"";for(e=t[0].$vars||[],o=0;o<e.length;o++)h=dyi[o],n=n.replace(vvt(h),vvt(h,0));for(u=0;u<s;u++)for(f=0;f<e.length;f++)c=t[u][e[f]],n=n.replace(vvt(dyi[f],u),r?wt(c):c);return n}function hti(n,i,r){return t(i,function(t,i){n=n.replace("{"+i+"}",r?wt(t):t)}),n}function wk(n,t){var i=(n=yt(n)?{color:n,extraCssText:t}:n||{}).color,r=n.type,t=n.extraCssText;return i?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+wt(i)+";"+(t||"")+'"><\/span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+wt(i)+";"+(t||"")+'"><\/span>':""}function bl(n,t){return n+="","0000".substr(0,t-n.length)+n}function wet(n,t,i){"week"!==n&&"month"!==n&&"quarter"!==n&&"half-year"!==n&&"year"!==n||(n="MM-dd\nyyyy");var r=py(t),u=i?"UTC":"",f=r["get"+u+"FullYear"](),e=r["get"+u+"Month"]()+1,o=r["get"+u+"Date"](),s=r["get"+u+"Hours"](),h=r["get"+u+"Minutes"](),c=r["get"+u+"Seconds"](),l=r["get"+u+"Milliseconds"]();return n.replace("MM",bl(e,2)).replace("M",e).replace("yyyy",f).replace("yy",f%100).replace("dd",bl(o,2)).replace("d",o).replace("hh",bl(s,2)).replace("h",s).replace("mm",bl(h,2)).replace("m",h).replace("ss",bl(c,2)).replace("s",c).replace("SSS",bl(l,3))}function bk(n){return n?n.charAt(0).toUpperCase()+n.substr(1):n}function bet(n,t,i,r,u){var e=0,o=0,f;null==r&&(r=1/0);null==u&&(u=1/0);f=0;t.eachChild(function(s,h){var a,v,w=s.position,c=s.getBoundingRect(),b=t.childAt(h+1),l=b&&b.getBoundingRect(),y,p;"horizontal"===n?(y=c.width+(l?-l.x+c.x:0),(a=e+y)>r||s.newline?(e=0,a=y,o+=f+i,f=c.height):f=Math.max(f,c.height)):(p=c.height+(l?-l.y+c.y:0),(v=o+p)>u||s.newline?(e+=f+i,o=0,v=p,f=c.width):f=Math.max(f,c.width));s.newline||(w[0]=e,w[1]=o,"horizontal"===n?e=a+i:o=v+i)})}function hur(n,t,i){var r=t.width,f=t.height,e=u(n.x,r),o=u(n.y,f),s=u(n.x2,r),h=u(n.y2,f);return(isNaN(e)||isNaN(parseFloat(n.x)))&&(e=0),(isNaN(s)||isNaN(parseFloat(n.x2)))&&(s=r),(isNaN(o)||isNaN(parseFloat(n.y)))&&(o=0),(isNaN(h)||isNaN(parseFloat(n.y2)))&&(h=f),i=oc(i||0),{width:Math.max(s-e-i[1]-i[3],0),height:Math.max(h-o-i[0]-i[2],0)}}function fi(n,t,i){var p;i=oc(i||0);var e=t.width,o=t.height,s=u(n.left,e),h=u(n.top,o),v=u(n.right,e),y=u(n.bottom,o),r=u(n.width,e),f=u(n.height,o),c=i[2]+i[0],l=i[1]+i[3],a=n.aspect;switch(isNaN(r)&&(r=e-v-l-s),isNaN(f)&&(f=o-y-c-h),null!=a&&(isNaN(r)&&isNaN(f)&&(a>e/o?r=.8*e:f=.8*o),isNaN(r)&&(r=a*f),isNaN(f)&&(f=r/a)),isNaN(s)&&(s=e-v-r-l),isNaN(h)&&(h=o-y-f-c),n.left||n.right){case"center":s=e/2-r/2-i[3];break;case"right":s=e-r-l}switch(n.top||n.bottom){case"middle":case"center":h=o/2-f/2-i[0];break;case"bottom":h=o-f-c}return s=s||0,h=h||0,isNaN(r)&&(r=e-l-s-(v||0)),isNaN(f)&&(f=o-c-h-(y||0)),p=new w(s+i[3],h+i[0],r,f),p.margin=i,p}function kk(n,t,i,r,u){var e=!u||!u.hv||u.hv[0],s=!u||!u.hv||u.hv[1],h=u&&u.boundingMode||"all",f,c;if(e||s){"raw"===h?f="group"===n.type?new w(0,0,+t.width||0,+t.height||0):n.getBoundingRect():(f=n.getBoundingRect(),n.needLocalTransform())&&(c=n.getLocalTransform(),(f=f.clone()).applyTransform(c));t=fi(o({width:f.width,height:f.height},t),i,r);var l=n.position,a=e?t.x-f.x:0,v=s?t.y-f.y:0;n.attr("position","raw"===h?[a,v]:[l[0]+a,l[1]+v])}}function cur(n,t){return null!=n[sc[t][0]]||null!=n[sc[t][1]]&&null!=n[sc[t][2]]}function ko(n,t,r){function o(i,r){var s={},l=0,o={},a=0,c,h;if(btt(i,function(t){o[t]=n[t]}),btt(i,function(n){e(t,n)&&(s[n]=o[n]=t[n]);f(s,n)&&l++;f(o,n)&&a++}),u[r])return f(t,i[1])?o[i[2]]=null:f(t,i[2])&&(o[i[1]]=null),o;if(2!==a&&l){if(l>=2)return s;for(c=0;c<i.length;c++)if(h=i[c],!e(s,h)&&e(n,h)){s[h]=n[h];break}return s}return o}function e(n,t){return n.hasOwnProperty(t)}function f(n,t){return null!=n[t]&&"auto"!==n[t]}function s(n,t,i){btt(n,function(n){t[n]=i[n]})}var u,h,c;a(r)||(r={});u=r.ignoreSize;i(u)||(u=[u,u]);h=o(sc[0],0);c=o(sc[1],1);s(sc[0],n,h);s(sc[1],n,c)}function kl(n){return cti({},n)}function cti(n,t){return t&&n&&btt(npi,function(i){t.hasOwnProperty(i)&&(n[i]=t[i])}),n}function lur(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i].length>t)return n[i];return n[r-1]}function lti(n){var i=n.get("coordinateSystem"),t={coordSysName:i,coordSysDims:[],axisMap:y(),categoryAxisMap:y()},r=etu[i];if(r)return r(n,t,t.axisMap,t.categoryAxisMap),t}function dl(n){return"category"===n.get("type")}function bu(n){this.fromDataset=n.fromDataset;this.data=n.data||(n.sourceFormat===gtt?{}:[]);this.sourceFormat=n.sourceFormat||tpi;this.seriesLayoutBy=n.seriesLayoutBy||ipi;this.dimensionsDefine=n.dimensionsDefine;this.encodeDefine=n.encodeDefine&&y(n.encodeDefine);this.startIndex=n.startIndex||0;this.dimensionsDetectCount=n.dimensionsDetectCount}function aur(n){var t=n.option.source,r=tpi,u,o,f,e;if(ff(t))r=nit;else if(i(t)){for(u=0,o=t.length;u<o;u++)if(f=t[u],null!=f){if(i(f)){r=ktt;break}if(a(f)){r=dtt;break}}}else if(a(t)){for(e in t)if(t.hasOwnProperty(e)&&se(t[e])){r=gtt;break}}else if(null!=t)throw new Error("Invalid data");iv(n).sourceFormat=r}function vur(n){return iv(n).source}function yur(n){iv(n).datasetMap=y()}function ati(n){var t=n.option,i=t.data,o=ff(i)?nit:hc,l=!1,r=t.seriesLayoutBy,h=t.sourceHeader,c=t.dimensions,u=kur(n),f,e,s;u&&(f=u.option,i=f.source,o=iv(u).sourceFormat,l=!0,r=r||f.seriesLayoutBy,null==h&&(h=f.sourceHeader),c=c||f.dimensions);e=pur(i,o,r,h,c);s=t.encode;!s&&u&&(s=bur(n,u,i,o,r,e));iv(n).source=new bu({data:i,fromDataset:l,seriesLayoutBy:r,sourceFormat:o,dimensionsDefine:e.dimensionsDefine,startIndex:e.startIndex,dimensionsDetectCount:e.dimensionsDetectCount,encodeDefine:s})}function pur(n,r,u,f,e){var s,o,h,c,l;return n?(r===ktt?("auto"===f||null==f?yti(function(n){null!=n&&"-"!==n&&(yt(n)?null==o&&(o=1):o=0)},u,n,10):o=f?1:0,e||1!==o||(e=[],yti(function(n,t){e[t]=null!=n?n:""},u,n)),s=e?e.length:u===bvt?n.length:n[0]?n[0].length:null):r===dtt?e||(e=wur(n),h=!0):r===gtt?e||(e=[],h=!0,t(n,function(n,t){e.push(t)})):r===hc&&(c=cy(n[0]),s=i(c)&&c.length||1),h&&t(e,function(n,t){"name"===(a(n)?n.name:n)&&(l=t)}),{startIndex:o,dimensionsDefine:vti(e),dimensionsDetectCount:s,potentialNameDimIndex:l}):{dimensionsDefine:vti(e)}}function vti(n){if(n){var t=y();return r(n,function(n){if(null==(n=e({},a(n)?n:{name:n})).name)return n;n.name+="";null==n.displayName&&(n.displayName=n.name);var i=t.get(n.name);return i?n.name+="-"+i.count++:t.set(n.name,{count:1}),n})}}function yti(n,t,i,r){if(null==r&&(r=1/0),t===bvt)for(u=0;u<i.length&&u<r;u++)n(i[u]?i[u][0]:null,u);else for(var f=i[0]||[],u=0;u<f.length&&u<r;u++)n(f[u],u)}function wur(n){for(var i,u,r=0;r<n.length&&!(i=n[r++]););if(i)return u=[],t(i,function(n,t){u.push(t)}),u}function bur(n,i,r,u,f,e){var l=lti(n),o={},a=[],s=[],p=n.subType,d=y(["pie","map","funnel"]),g=y(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]),h,c,v;if(l&&null!=g.get(p)){var nt=n.ecModel,w=iv(nt).datasetMap,b=i.uid+"_"+f,k=w.get(b)||w.set(b,{categoryWayDim:1,valueWayDim:0});t(l.coordSysDims,function(n){if(null==l.firstCategoryDimIndex)t=k.valueWayDim++,o[n]=t,s.push(t);else if(l.categoryAxisMap.get(n))o[n]=0,a.push(0);else{var t=k.categoryWayDim++;o[n]=t;s.push(t)}})}else if(null!=d.get(p)){for(c=0;c<5&&null==h;c++)pti(r,u,f,e.dimensionsDefine,e.startIndex,c)||(h=c);null!=h&&(o.value=h,v=e.potentialNameDimIndex||Math.max(h-1,0),s.push(v),a.push(v))}return a.length&&(o.itemName=a),s.length&&(o.seriesName=s),o}function kur(n){var t=n.option;if(!t.data)return n.ecModel.getComponent("dataset",t.datasetIndex||0)}function dur(n,t){return pti(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,t)}function pti(n,t,r,u,f,e){function l(n){return(null==n||!isFinite(n)||""===n)&&(!(!yt(n)||"-"===n)||void 0)}var s,h,c,o,y,v,p;if(ff(n))return!1;if(u&&(h=a(h=u[e])?h.name:h),t===ktt){if(r===bvt){for(c=n[e],o=0;o<(c||[]).length&&o<5;o++)if(null!=(s=l(c[f+o])))return s}else for(o=0;o<n.length&&o<5;o++)if(y=n[f+o],y&&null!=(s=l(y[e])))return s}else if(t===dtt){if(!h)return;for(o=0;o<n.length&&o<5;o++)if((v=n[o])&&null!=(s=l(v[h])))return s}else if(t===gtt){if(!h)return;if(!(c=n[h])||ff(c))return!1;for(o=0;o<c.length&&o<5;o++)if(null!=(s=l(c[o])))return s}else if(t===hc)for(o=0;o<n.length&&o<5;o++){if(v=n[o],p=cy(v),!i(p))return!1;if(null!=(s=l(p[e])))return s}return!1}function gur(n,t){if(t){var i=t.seiresIndex,r=t.seriesId,u=t.seriesName;return null!=i&&n.componentIndex!==i||null!=r&&n.id!==r||null!=u&&n.name!==u}}function nfr(n,i){var r=n.color&&!n.colorLayer;t(i,function(t,i){"colorLayer"===i&&r||nt.hasClass(i)||("object"==typeof t?n[i]=n[i]?v(n[i],t,!1):h(t):null==n[i]&&(n[i]=t))})}function tfr(n){n=n;this.option={};this.option[kvt]=1;this._componentsMap=y({series:[]});this._seriesIndices;this._seriesIndicesMap;nfr(n,this._theme.option);v(n,ftu,!1);this.mergeOption(n)}function ifr(n,r){i(r)||(r=r?[r]:[]);var u={};return t(r,function(t){u[t]=(n.get(t)||[]).slice()}),u}function rfr(n,t,i){return t.type?t.type:i?i.subType:nt.determineSubType(n,t)}function ket(n,t){n._seriesIndicesMap=y(n._seriesIndices=r(t,function(n){return n.componentIndex})||[])}function wti(n,t){return t.hasOwnProperty("subType")?ui(n,function(n){return n.subType===t.subType}):n}function bti(n){t(rpi,function(t){this[t]=c(n[t],n)},this)}function ir(){this._coordinateSystems=[]}function det(n){this._api=n;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newBaseOption}function ufr(n,t,i){var f,u,e=[],o=[],s=n.timeline,h;return(n.baseOption&&(u=n.baseOption),(s||n.options)&&(u=u||{},e=(n.options||[]).slice()),n.media)&&(u=u||{},h=n.media,iit(h,function(n){n&&n.option&&(n.query?o.push(n):f||(f=n))})),u||(u=n),u.timeline||(u.timeline=s),iit([u].concat(e).concat(r(o,function(n){return n.option})),function(n){iit(t,function(t){t(n,i)})}),{baseOption:u,timelineOptions:e,mediaDefault:f,mediaList:o}}function ffr(n,i,r){var f={width:i,height:r,aspectratio:i/r},u=!0;return t(n,function(n,t){var i=t.match(otu),r,e;i&&i[1]&&i[2]&&(r=i[1],e=i[2].toLowerCase(),efr(f[e],n,r)||(u=!1))}),u}function efr(n,t,i){return"min"===i?n>=t:"max"===i?n<=t:n===t}function ofr(n,t){return n.join(",")===t.join(",")}function sfr(n,t){iit(t=t||{},function(t,i){var r,u;null!=t&&(r=n[i],nt.hasClass(i)?(t=bi(t),u=net(r=bi(r),t),n[i]=rit(u,function(n){return n.option&&n.exist?upi(n.exist,n.option,!0):n.exist||n.option})):n[i]=upi(r,t,!0))})}function get(n){var f=n&&n.itemStyle,u,e;if(f)for(u=0,e=fpi.length;u<e;u++){var t=fpi[u],i=f.normal,r=f.emphasis;i&&i[t]&&(n[t]=n[t]||{},n[t].normal?v(n[t].normal,i[t]):n[t].normal=i[t],i[t]=null);r&&r[t]&&(n[t]=n[t]||{},n[t].emphasis?v(n[t].emphasis,r[t]):n[t].emphasis=r[t],r[t]=null)}}function rr(n,t,i){if(n&&n[t]&&(n[t].normal||n[t].emphasis)){var r=n[t].normal,u=n[t].emphasis;r&&(i?(n[t].normal=n[t].emphasis=null,o(n[t],r)):n[t]=r);u&&(n.emphasis=n.emphasis||{},n.emphasis[t]=u)}}function wy(n){rr(n,"itemStyle");rr(n,"lineStyle");rr(n,"areaStyle");rr(n,"label");rr(n,"labelLine");rr(n,"upperLabel");rr(n,"edgeLabel")}function ti(n,t){var r=lw(n)&&n[t],u=lw(r)&&r.textStyle,i,f,t;if(u)for(i=0,f=tyi.length;i<f;i++)t=tyi[i],u.hasOwnProperty(t)&&(r[t]=u[t])}function fu(n){n&&(wy(n),ti(n,"label"),n.emphasis&&ti(n.emphasis,"label"))}function hfr(n){var u,f,h,e,s,c,o,r;if(lw(n)){if(get(n),wy(n),ti(n,"label"),ti(n,"upperLabel"),ti(n,"edgeLabel"),n.emphasis&&(ti(n.emphasis,"label"),ti(n.emphasis,"upperLabel"),ti(n.emphasis,"edgeLabel")),u=n.markPoint,u&&(get(u),fu(u)),f=n.markLine,f&&(get(f),fu(f)),h=n.markArea,h&&fu(h),e=n.data,"graph"===n.type){if(e=e||n.nodes,s=n.links||n.edges,s&&!ff(s))for(r=0;r<s.length;r++)fu(s[r]);t(n.categories,function(n){wy(n)})}if(e&&!ff(e))for(r=0;r<e.length;r++)fu(e[r]);if((u=n.markPoint)&&u.data)for(c=u.data,r=0;r<c.length;r++)fu(c[r]);if((f=n.markLine)&&f.data)for(o=f.data,r=0;r<o.length;r++)i(o[r])?(fu(o[r][0]),fu(o[r][1])):fu(o[r]);"gauge"===n.type?(ti(n,"axisLabel"),ti(n,"title"),ti(n,"detail")):"treemap"===n.type?(rr(n.breadcrumb,"itemStyle"),t(n.levels,function(n){wy(n)})):"tree"===n.type&&wy(n.leaves)}}function pe(n){return i(n)?n:n?[n]:[]}function kti(n){return(i(n)?n[0]:n)||{}}function cfr(n,t){t=t.split(",");for(var i=n,r=0;r<t.length&&null!=(i=i&&i[t[r]]);r++);return i}function lfr(n,t,i,r){t=t.split(",");for(var e,u=n,f=0;f<t.length-1;f++)null==u[e=t[f]]&&(u[e]={}),u=u[e];(r||null==u[t[f]])&&(u[t[f]]=i)}function dti(n){t(htu,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}function afr(n){t(n,function(t,i){var u=[],o=[NaN,NaN],s=[t.stackResultDimension,t.stackedOverDimension],r=t.data,f=t.isStackedByIndex,e=r.map(s,function(e,s,h){var c=r.get(t.stackedDimension,h),w,v,p,y,l,a;if(isNaN(c))return o;for(f?v=r.getRawIndex(h):w=r.get(t.stackedByDimension,h),p=NaN,y=i-1;y>=0;y--)if(l=n[y],(f||(v=l.data.rawIndexOf(l.stackedByDimension,w)),v>=0)&&(a=l.data.getByRawIndex(l.stackResultDimension,v),c>=0&&a>0||c<=0&&a<0)){c+=a;p=a;break}return u[0]=c,u[1]=p,u});r.hostModel.setData(e);t.data=e})}function gti(n,t){bu.isInstance(n)||(n=bu.seriesDataToSource(n));this._source=n;var r=this._data=n.data,i=n.sourceFormat;i===nit&&(this._offset=0,this._dimSize=t,this._data=r);e(this,ltu[i===ktt?i+"_"+n.seriesLayoutBy:i])}function nii(){return this._data.length}function tii(n){return this._data[n]}function not(n){for(var t=0;t<n.length;t++)this._data.push(n[t])}function tot(n,t,i){return null!=i?n[i]:n}function iii(n,t,i,r){return iot(n[r],this._dimensionInfos[t])}function iot(n,t){var r=t&&t.type,i;return"ordinal"===r?(i=t&&t.ordinalMeta,i?i.parseAndCollect(n):n):("time"===r&&"number"!=typeof n&&null!=n&&"-"!==n&&(n=+py(n)),null==n||""===n?NaN:+n)}function ch(n,t,i){var u,f,e,o,r;if(n&&(u=n.getRawDataItem(t),null!=u))return o=n.getProvider().getSource().sourceFormat,r=n.getDimensionInfo(i),r&&(f=r.name,e=r.index),atu[o](u,t,e,f)}function rii(n,t,i){var u,r;if(n&&(u=n.getProvider().getSource().sourceFormat,u===hc||u===dtt))return r=n.getRawDataItem(t),u!==hc||a(r)||(r=null),r?r[i]:void 0}function by(n){return new uii(n)}function uii(n){n=n||{};this._reset=n.reset;this._plan=n.plan;this._count=n.count;this._onDirty=n.onDirty;this._dirty=!0;this.context}function fii(n,t,i,r,u,f){tyt.reset(i,r,u,f);n._callingProgress=t;n._callingProgress({start:i,end:r,count:r-i,next:tyt.next},n.context)}function vfr(n,t){var r,f,u;return n._dueIndex=n._outputDueEnd=n._dueEnd=0,n._settedOutputEnd=null,!t&&n._reset&&((r=n._reset(n.context))&&r.progress&&(f=r.forceFirstProgress,r=r.progress),i(r)&&!r.length&&(r=null)),n._progress=r,n._modBy=n._modDataCount=null,u=n._downstream,u&&u.dirty(),f}function eii(n){var t=n.name;tet(n)||(n.name=yfr(n)||t)}function yfr(n){var i=n.getRawData(),r=[];return t(i.mapDimension("seriesName",!0),function(n){var t=i.getDimensionInfo(n);t.displayName&&r.push(t.displayName)}),r.join(" ")}function pfr(n){return n.model.getRawData().count()}function wfr(n){var t=n.model;return t.setData(t.getRawData().cloneShallow()),bfr}function bfr(n,t){n.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function oii(n,i){t(n.CHANGABLE_METHODS,function(t){n.wrapMethod(t,l(kfr,i))})}function kfr(n){var t=rot(n);t&&t.setOutputEnd(this.count())}function rot(n){var r=(n.ecModel||{}).scheduler,u=r&&r.getPipeline(n.uid),t,i;if(u)return t=u.currentTask,t&&(i=t.agentStubMap,i&&(t=i.get(n.uid))),t}function vi(){this.group=new f;this.uid=yk("viewChart");this.renderTask=by({plan:dfr,reset:gfr});this.renderTask.context={view:this}}function uot(n,t){if(n&&(n.trigger(t),"group"===n.type))for(var i=0;i<n.childCount();i++)uot(n.childAt(i),t)}function sii(n,i,r){var u=hk(n,i);null!=u?t(bi(u),function(t){uot(n.getItemGraphicEl(t),r)}):n.eachItemGraphicEl(function(n){uot(n,r)})}function dfr(n){return ptu(n.model)}function gfr(n){var u=n.model,e=n.ecModel,o=n.api,t=n.payload,s=u.pipelineContext.progressiveRender,f=n.view,i=t&&opi(t).updateMethod,r=s?"incrementalPrepareRender":i&&f[i]?i:"render";return"render"!==r&&f[r](u,e,o,t),wtu[r]}function fot(n,t,i){function e(){a=(new Date).getTime();r=null;n.apply(h,c||[])}var o,s,h,c,u,l=0,a=0,r=null,f;return t=t||0,f=function(){o=(new Date).getTime();h=this;c=arguments;var n=u||t,f=u||i;u=null;s=o-(f?l:a)-n;clearTimeout(r);f?r=setTimeout(e,n):s>=0?e():r=setTimeout(e,-s);l=o},f.clear=function(){r&&(clearTimeout(r),r=null)},f.debounceNextCall=function(n){u=n},f}function ky(n,t,i,r){var u=n[t],f,e;if(u){if(f=u[eit]||u,e=u[hpi],u[spi]!==i||e!==r){if(null==i||!r)return n[t]=f;(u=n[t]=fot(f,i,"debounce"===r))[eit]=f;u[hpi]=r;u[spi]=i}return u}}function hii(n,t){var i=n[t];i&&i[eit]&&(n[t]=i[eit])}function dk(n,t,i,r){this.ecInstance=n;this.api=t;this.unfinished;var i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice();this._allHandlers=i.concat(r);this._stageTaskMap=y()}function cii(n,i,r,u,f){function o(n,t){return n.setDirty&&(!n.dirtyMap||n.dirtyMap.get(t.__pipeline.id))}f=f||{};var e;t(i,function(t){var a,s,h;if(!f.visualType||f.visualType===t.visualType){var c=n._stageTaskMap.get(t.uid),l=c.seriesTaskMap,i=c.overallTask;i?(s=i.agentStubMap,s.each(function(n){o(f,n)&&(n.dirty(),a=!0)}),a&&i.dirty(),iyt(i,u),h=n.getPerformArgs(i,f.block),s.each(function(n){n.perform(h)}),e|=i.perform(h)):l&&l.each(function(i){o(f,i)&&i.dirty();var s=n.getPerformArgs(i,f.block);s.skip=!t.performRawSeries&&r.isSeriesFiltered(i.context.model);iyt(i,u);e|=i.perform(s)})}});n.unfinished|=e}function ner(n,t,i,r,u){function e(i){var e=i.uid,o=f.get(e)||f.set(e,by({plan:eer,reset:oer,count:ser}));o.context={model:i,ecModel:r,api:u,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:n};gk(n,i,o)}var f=i.seriesTaskMap||(i.seriesTaskMap=y()),o=t.seriesType,s=t.getTargetSeries,h;t.createOnAllSeries?r.eachRawSeries(e):o?r.eachRawSeriesByType(o,e):s&&s(r,u).each(e);h=n._pipelineMap;f.each(function(n,t){h.get(t)||(n.dispose(),f.removeKey(t))})}function ter(n,i,r,u,f){function s(t){var r=t.uid,i=o.get(r);i||(i=o.set(r,by({reset:rer,onDirty:fer})),e.dirty());i.context={model:t,overallProgress:h,modifyOutputEnd:v};i.agent=e;i.__block=h;gk(n,t,i)}var e=r.overallTask=r.overallTask||by({reset:ier}),a;e.context={ecModel:u,api:f,overallReset:i.overallReset,scheduler:n};var o=e.agentStubMap=e.agentStubMap||y(),c=i.seriesType,l=i.getTargetSeries,h=!0,v=i.modifyOutputEnd;c?u.eachRawSeriesByType(c,s):l?l(u,f).each(s):(h=!1,t(u.getSeries(),s));a=n._pipelineMap;o.each(function(n,t){a.get(t)||(n.dispose(),e.dirty(),o.removeKey(t))})}function ier(n){n.overallReset(n.ecModel,n.api,n.payload)}function rer(n){return n.overallProgress&&uer}function uer(){this.agent.dirty();this.getDownstream().dirty()}function fer(){this.agent&&this.agent.dirty()}function eer(n){return n.plan&&n.plan(n.model,n.ecModel,n.api,n.payload)}function oer(n){n.useClearVisual&&n.data.clearAllVisual();var t=n.resetDefines=bi(n.reset(n.model,n.ecModel,n.api,n.payload));return t.length>1?r(t,function(n,t){return lii(t)}):cpi}function lii(n){return function(t,i){var f=i.data,r=i.resetDefines[n],u;if(r&&r.dataEach)for(u=t.start;u<t.end;u++)r.dataEach(f,u);else r&&r.progress&&r.progress(t,f)}}function ser(n){return n.data.count()}function gk(n,t,i){var u=t.uid,r=n._pipelineMap.get(u);r.head||(r.head=i);r.tail&&r.tail.pipe(i);r.tail=i;i.__idxInPipeline=r.count++;i.__pipeline=r}function her(n){sit=null;try{n(fv,ryt)}catch(n){}return sit}function aii(n,t){for(var i in t.prototype)n[i]=pi}function gl(n){return function(t,i,r){t=t&&t.toLowerCase();ei.prototype[n].call(this,t,i,r)}}function dy(){ei.call(this)}function gy(n,t,i){function u(n,t){return n.__prio-t.__prio}var r,f;i=i||{};"string"==typeof t&&(t=nwi[t]);this.id;this.group;this._dom=n;r=this._zr=dft(n,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=fot(c(r.flush,r),17);(t=h(t))&&epi(t,!0);this._theme=t;this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new ir;f=this._api=yer(this);uk(lit,u);uk(fyt,u);this._scheduler=new dk(this,f,fyt,lit);ei.call(this);this._messageCenter=new dy;this._initEvents();this.resize=c(this.resize,this);this._pendingActions=[];r.animation.on("frame",this._onframe,this);cer(r,this);put(this)}function vii(n,t,i){var f,e=this._model,o=this._coordSysMgr.getCoordinateSystems(),r,u;for(t=ck(e,t),r=0;r<o.length;r++)if(u=o[r],u[n]&&null!=(f=u[n](e,t,i)))return f}function np(n){var i=n._model,t=n._scheduler;t.restorePipelines(i);t.prepareStageTasks();bii(n,"component",i,t);bii(n,"chart",i,t);t.plan()}function yii(n,t,i,r,u){function h(r){r&&r.__alive&&r[t]&&r[t](r.__model,o,n._api,i)}var o=n._model,e,s,f;r?(e={},e[r+"Id"]=i[r+"Id"],e[r+"Index"]=i[r+"Index"],e[r+"Name"]=i[r+"Name"],s={mainType:r,query:e},u&&(s.subType=u),f=i.excludeSeriesId,null!=f&&(f=y(bi(f))),o&&o.eachComponent(s,function(t){f&&null!=f.get(t.id)||h(n["series"===r?"_chartsMap":"_componentsMap"][t.__viewId])},n)):yi(n._componentsViews.concat(n._chartsViews),h)}function pii(n,t){var i=n._chartsMap,r=n._scheduler;t.eachSeries(function(n){r.updateStreamModes(n,i[n.__viewId])})}function wii(n,t){var f=n.type,p=n.escapeConnect,y=hit[f],c=y.actionInfo,i=(c.update||"update").split(":"),s=i.pop(),l,a,u,h,v;i=null!=i[0]&&vpi(i[0]);this[te]=!0;l=[n];a=!1;n.batch&&(a=!0,l=r(n.batch,function(t){return t=o(e({},t),n),t.batch=null,t}));h=[];v="highlight"===f||"downplay"===f;yi(l,function(n){u=y.action(n,this._model,this._api);(u=u||e({},n)).type=c.event||u.type;h.push(u);v?yii(this,s,n,"series"):i&&yii(this,s,n,i.main,i.sub)},this);"none"===s||v||i||(this[as]?(np(this),ro.update.call(this,n),this[as]=!1):ro[s].call(this,n));u=a?{type:c.event||f,escapeConnect:p,batch:h}:h[0];this[te]=!1;!t&&this._messageCenter.trigger(u.type,u)}function nd(n){for(var i,t=this._pendingActions;t.length;)i=t.shift(),wii.call(this,i,n)}function td(n){n||this.trigger("updated")}function cer(n,t){n.on("rendered",function(){t.trigger("rendered");!n.animation.isFinished()||t[as]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")})}function bii(n,t,i,r){function c(n){var f="_ec_"+n.id+"_"+n.type,t=s[f],u;t||(u=vpi(n.type),(t=new(e?rf.getClass(u.main,u.sub):vi.getClass(u.sub))).init(i,h),s[f]=t,o.push(t),l.add(t.group));n.__viewId=t.__id=f;t.__alive=!0;t.__model=n;t.group.__ecComponentInfo={mainType:n.mainType,index:n.componentIndex};!e&&r.prepareView(t,n,i,h)}for(var f,e="component"===t,o=e?n._componentsViews:n._chartsViews,s=e?n._componentsMap:n._chartsMap,l=n._zr,h=n._api,u=0;u<o.length;u++)o[u].__alive=!1;for(e?i.eachComponent(function(n,t){"series"!==n&&c(t)}):i.eachSeries(c),u=0;u<o.length;)f=o[u],f.__alive?u++:(!e&&f.renderTask.dispose(),l.remove(f.group),f.dispose(i,h),o.splice(u,1),delete s[f.__id],f.__id=f.group.__ecComponentInfo=null)}function eot(n){n.clearColorPalette();n.eachSeries(function(n){n.clearColorPalette()})}function kii(n,t,i,r){ler(n,t,i,r);yi(n._chartsViews,function(n){n.__alive=!1});oot(n,t,i,r);yi(n._chartsViews,function(n){n.__alive||n.remove(t,i)})}function ler(n,t,i,r,u){yi(u||n._componentsViews,function(n){var u=n.__model;n.render(u,t,i,r);dii(u,n)})}function oot(n,t,i,r,u){var e,f=n._scheduler;t.eachSeries(function(t){var i=n._chartsMap[t.__viewId],o;i.__alive=!0;o=i.renderTask;f.updatePayload(o,r);u&&u.get(t.uid)&&o.dirty();e|=o.perform(f.getPerformArgs(o));i.group.silent=!!t.get("silent");dii(t,i);ver(t,i)});f.unfinished|=e;aer(n._zr,t);ktu(n._zr.dom,t)}function sot(n,t){yi(gpi,function(i){i(n,t)})}function aer(n,t){var i=n.storage,r=0;i.traverse(function(n){n.isGroup||r++});r>t.get("hoverLayerThreshold")&&!k.node&&i.traverse(function(n){n.isGroup||(n.useHoverLayer=!0)})}function ver(n,t){var i=n.get("blendMode")||null;t.group.traverse(function(n){n.isGroup||n.style.blend!==i&&n.setStyle("blend",i);n.eachPendingDisplayable&&n.eachPendingDisplayable(function(n){n.setStyle("blend",i)})})}function dii(n,t){var i=n.get("z"),r=n.get("zlevel");t.group.traverse(function(n){"group"!==n.type&&(null!=i&&(n.z=i),null!=r&&(n.zlevel=r))})}function yer(n){var t=n._coordSysMgr;return e(new bti(n),{getCoordinateSystems:c(t.getCoordinateSystems,t),getComponentByElement:function(t){for(;t;){var i=t.__ecComponentInfo;if(null!=i)return n._model.getComponent(i.mainType,i.index);t=t.parent}}})}function per(n){function i(n,i){for(var r=0;r<n.length;r++)n[r][t]=i}var t="__connectUpdateStatus";yi(cit,function(r,u){n._messageCenter.on(u,function(r){if(ait[n.group]&&0!==n[t]){if(r&&r.escapeConnect)return;var f=n.makeActionFromEvent(r),u=[];yi(lc,function(t){t!==n&&t.group===n.group&&u.push(t)});i(u,0);yi(u,function(n){1!==n[t]&&n.dispatchAction(f)});i(u,2)}})})}function gii(n){ait[n]=!1}function hot(n){return lc[nrr(n,oyt)]}function cot(n,t){nwi[n]=t}function ki(n){dpi.push(n)}function pr(n,t){aot(fyt,n,t,ypi)}function it(n,t,i){"function"==typeof t&&(i=t,t="");var r=aw(n)?n.type:[n,n={event:t}][0];n.event=(n.event||r).toLowerCase();t=n.event;gtu(bpi.test(r)&&bpi.test(t));hit[r]||(hit[r]={action:i,actionInfo:n});cit[t]=r}function lot(n,t){ir.register(n,t)}function bt(n,t){aot(lit,n,t,ppi,"layout")}function vt(n,t){aot(lit,n,t,wpi,"visual")}function aot(n,t,i,r,u){(niu(t)||aw(t))&&(i=t,t=r);var f=dk.wrapStageHandler(i,u);return f.__prio=t,f.__raw=i,n.push(f),f}function nri(n,t){eyt[n]=t}function wr(n){return nt.extend(n)}function si(n){return rf.extend(n)}function tp(n){return gt.extend(n)}function fr(n){return vi.extend(n)}function id(n){return twi[n]}function tri(n){return n}function we(n,t,i,r,u){this._old=n;this._new=t;this._oldKeyGetter=i||tri;this._newKeyGetter=r||tri;this.context=u}function iri(n,t,i,r,u){for(var o,e,f=0;f<n.length;f++)o="_ec_"+u[r](n[f],f),e=t[o],null==e?(i.push(o),t[o]=f):(e.length||(t[o]=e=[e]),e.push(f))}function wer(n){var u={},i=u.encode={},c=y(),f=[],r=[],e,h,o,s;return t(n.dimensions,function(t){var u=n.getDimensionInfo(t),e=u.coordDim,o;e&&(o=i[e],i.hasOwnProperty(e)||(o=i[e]=[]),o[u.coordDimIndex]=t,u.isExtraCoord||(c.set(e,1),ber(u.type)&&(f[0]=t)),u.defaultTooltip&&r.push(t));rwi.each(function(n,t){var f=i[t],r;i.hasOwnProperty(t)||(f=i[t]=[]);r=u.otherDims[t];null!=r&&!1!==r&&(f[r]=u.name)})}),e=[],h={},c.each(function(n,t){var r=i[t];h[t]=r[0];e=e.concat(r)}),u.dataDimsOnCoord=e,u.encodeFirstDimNotExtra=h,o=i.label,o&&o.length&&(f=o.slice()),s=i.tooltip,s&&s.length?r=s.slice():r.length||(r=f.slice()),i.defaultedLabel=f,i.defaultedTooltip=r,u}function rd(n){return"category"===n?"ordinal":"time"===n?"time":"float"}function ber(n){return!("ordinal"===n||"time"===n)}function ud(n){return n._rawCount>65535?uwi:eiu}function ker(n){var t=n.constructor;return t===Array?n.slice():new t(n)}function rri(n,i){t(oiu.concat(i.__wrappedMethods||[]),function(t){i.hasOwnProperty(t)&&(n[t]=i[t])});n.__wrappedMethods=i.__wrappedMethods;t(siu,function(t){n[t]=h(i[t])});n._calculationInfo=e(i._calculationInfo)}function der(n){var i=n._invertedIndicesMap;t(i,function(t,r){var f=n._dimensionInfos[r].ordinalMeta,u;if(f){for(t=i[r]=new uwi(f.categories.length),u=0;u<t.length;u++)t[u]=NaN;for(u=0;u<n._count;u++)t[n.get(r,u)]=u}})}function uri(n,t,i){var r,u;if(null!=t){var f=n._chunkSize,s=Math.floor(i/f),h=i%f,e=n.dimensions[t],o=n._storage[e][s];o&&(r=o[h],u=n._dimensionInfos[e].ordinalMeta,u&&u.categories.length&&(r=u.categories[r]))}return r}function ip(n){return n}function rp(n){return n<this._count&&n>=0?this._indices[n]:-1}function vot(n,t){var i=n._idList[t];return null==i&&(i=uri(n,n._idDimIdx,t)),null==i&&(i=uiu+t),i}function yot(n){return i(n)||(n=[n]),n}function fri(n,t){var f=n.dimensions,u=new hi(r(f,n.getDimensionInfo,n),n.hostModel),i;rri(u,n);for(var s=u._storage={},e=n._storage,o=0;o<f.length;o++)i=f[o],e[i]&&(b(t,i)>=0?(s[i]=ger(e[i]),u._rawExtent[i]=nor(),u._extent[i]=null):s[i]=e[i]);return u}function ger(n){for(var i=new Array(n.length),t=0;t<n.length;t++)i[t]=ker(n[t]);return i}function nor(){return[1/0,-1/0]}function eri(n,i,r){function tt(n,t,i){null!=rwi.get(t)?n.otherDims[t]=i:(n.coordDim=t,n.coordDimIndex=i,it.set(t,!0))}var c,rt,l;bu.isInstance(i)||(i=bu.seriesDataToSource(i));r=r||{};n=(n||[]).slice();for(var v=(r.dimsDef||[]).slice(),d=y(r.encodeDef),b=y(),it=y(),f=[],g=tor(i,n,v,r.dimCount),s=0;s<g;s++){var p=v[s]=e({},a(v[s])?v[s]:{name:v[s]}),k=p.name,u=f[s]={otherDims:{}};null!=k&&null==b.get(k)&&(u.name=u.displayName=k,b.set(k,s));null!=p.type&&(u.type=p.type);null!=p.displayName&&(u.displayName=p.displayName)}d.each(function(n,i){n=bi(n).slice();var r=d.set(i,[]);t(n,function(n,t){yt(n)&&(n=b.get(n));null!=n&&n<g&&(r[t]=n,tt(f[n],i,t))})});c=0;t(n,function(n){var r,n,i,e,l,u,s;if(yt(n)?(r=n,n={}):(r=n.name,l=n.ordinalMeta,n.ordinalMeta=null,(n=h(n)).ordinalMeta=l,i=n.dimsDef,e=n.otherDims,n.name=n.coordDim=n.coordDimIndex=n.dimsDef=n.otherDims=null),u=bi(d.get(r)),!u.length)for(s=0;s<(i&&i.length||1);s++){for(;c<f.length&&null!=f[c].coordDim;)c++;c<f.length&&u.push(c++)}t(u,function(t,u){var s=f[t],h;(tt(o(s,n),r,u),null==s.name&&i)&&(h=i[u],a(h)||(h={name:h}),s.name=s.displayName=h.name,s.defaultTooltip=h.defaultTooltip);e&&o(s.otherDims,e)})});var nt=r.generateCoord,w=r.generateCoordCount,ut=null!=w;for(w=nt?w||1:0,rt=nt||"value",l=0;l<g;l++)null==(u=f[l]=f[l]||{}).coordDim&&(u.coordDim=ori(rt,it,ut),u.coordDimIndex=0,(!nt||w<=0)&&(u.isExtraCoord=!0),w--),null==u.name&&(u.name=ori(u.coordDim,b)),null==u.type&&dur(i,l,u.name)&&(u.type="ordinal");return f}function tor(n,i,r,u){var f=Math.max(n.dimensionsDetectCount||1,i.length,r.length,u||0);return t(i,function(n){var t=n.dimsDef;t&&(f=Math.max(f,t.length))}),f}function ori(n,t,i){if(i||null!=t.get(n)){for(var r=0;null!=t.get(n+r);)r++;n+=r}return t.set(n,!0),n}function sri(n,i,r){var f,u,h,e,o=(r=r||{}).byIndex,c=r.stackedCoordDimension,v=!(!n||!n.get("stack"));if(t(i,function(n,t){yt(n)&&(i[t]=n={name:n});v&&!n.isExtraCoord&&(o||f||!n.ordinalMeta||(f=n),u||"ordinal"===n.type||"time"===n.type||c&&c!==n.coordDim||(u=n))}),!u||o||f||(o=!0),u){h="__\0ecstackresult";e="__\0ecstackedover";f&&(f.createInvertedIndices=!0);var l=u.coordDim,a=u.type,s=0;t(i,function(n){n.coordDim===l&&s++});i.push({name:h,coordDim:l,coordDimIndex:s,type:a,isExtraCoord:!0,isCalculationCoord:!0});s++;i.push({name:e,coordDim:e,coordDimIndex:s,type:a,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:u&&u.name,stackedByDimension:f&&f.name,isStackedByIndex:o,stackedOverDimension:e,stackResultDimension:h}}function be(n,t){return!!t&&t===n.getCalculationInfo("stackedDimension")}function fd(n,t){return be(n,t)?n.getCalculationInfo("stackResultDimension"):t}function ke(n,i,u){var f,l,o,a,s,v;u=u||{};bu.isInstance(n)||(n=bu.seriesDataToSource(n));var h,y=i.get("coordinateSystem"),c=ir.get(y),e=lti(i);return e&&(h=r(e.coordSysDims,function(n){var t={name:n},i=e.axisMap.get(n),r;return i&&(r=i.get("type"),t.type=rd(r)),t})),h||(h=c&&(c.getDimensionsInfo?c.getDimensionsInfo():c.dimensions.slice())||["x","y"]),o=ac(n,{coordDimensions:h,generateCoord:u.generateCoord}),e&&t(o,function(n,t){var r=n.coordDim,i=e.categoryAxisMap.get(r);i&&(null==f&&(f=t),n.ordinalMeta=i.getOrdinalMeta());null!=n.otherDims.itemName&&(l=!0)}),l||null==f||(o[f].otherDims.itemName=0),a=sri(i,o),s=new hi(o,i),s.setCalculationInfo(a),v=null!=f&&ior(n)?function(n,t,i,r){return r===f?i:this.defaultDimValueGetter(n,t,i,r)}:null,s.hasItemOption=!1,s.initData(n,null,v),s}function ior(n){if(n.sourceFormat===hc){var t=ror(n.data||[]);return null!=t&&!i(cy(t))}}function ror(n){for(var t=0;t<n.length&&null==n[t];)t++;return n[t]}function ii(n){this._setting=n||{};this._extent=[1/0,-1/0];this._interval=0;this.init&&this.init.apply(this,arguments)}function up(n){this.categories=n.categories||[];this._needCollect=n.needCollect;this._deduplication=n.deduplication;this._map}function hri(n){return n._map||(n._map=y(n.categories))}function uor(n){return a(n)&&null!=n.value?n.value:n+""}function eor(n,t,i,r){var f={},o=n[1]-n[0],u=f.interval=vet(o/t,!0),e;return null!=i&&u<i&&(u=f.interval=i),null!=r&&u>r&&(u=f.interval=r),e=f.intervalPrecision=cri(u),ari(f.niceTickExtent=[hyt(Math.ceil(n[0]/u)*u,e),hyt(Math.floor(n[1]/u)*u,e)],n),f}function cri(n){return pk(n)+2}function lri(n,t,i){n[t]=Math.max(Math.min(n[t],i[1]),i[0])}function ari(n,t){isFinite(n[0])||(n[0]=t[0]);!isFinite(n[1])&&(n[1]=t[1]);lri(n,0,t);lri(n,1,t);n[0]>n[1]&&(n[0]=n[1])}function oor(n,t,i,r){var u=[],f;if(!n)return u;for(t[0]<i[0]&&u.push(t[0]),f=i[0];f<=i[1]&&(u.push(f),(f=hyt(f+n,r))!==u[u.length-1]);)if(u.length>1e4)return[];return t[1]>(u.length?u[u.length-1]:i[1])&&u.push(t[1]),u}function pot(n){return n.get("stack")||lyt+n.seriesIndex}function wot(n){return n.dim+n.index}function sor(n){var r=[],u=n.axis,f,t,i;if("category"===u.type){for(f=u.getBandWidth(),t=0;t<n.count;t++)r.push(o({bandWidth:f,axisKey:"axis0",stackId:lyt+t},n));for(var s=yri(r),e=[],t=0;t<n.count;t++)i=s.axis0[lyt+t],i.offsetCenter=i.offset+i.width/2,e.push(i);return e}}function vri(n,t){var i=[];return t.eachSeriesByType(n,function(n){bri(n)&&!kri(n)&&i.push(n)}),i}function bot(n){var i=[];return t(n,function(n){var e=n.getData(),t=n.coordinateSystem.getBaseAxis(),f=t.getExtent(),r="category"===t.type?t.getBandWidth():Math.abs(f[1]-f[0])/e.count(),o=u(n.get("barWidth"),r),s=u(n.get("barMaxWidth"),r),h=n.get("barGap"),c=n.get("barCategoryGap");i.push({bandWidth:r,barWidth:o,barMaxWidth:s,barGap:h,barCategoryGap:c,axisKey:wot(t),stackId:pot(n)})}),yri(i)}function yri(n){var r={},i;return t(n,function(n){var h=n.axisKey,c=n.bandWidth,t=r[h]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=t.stacks,i,f,e,o,s;r[h]=t;i=n.stackId;u[i]||t.autoWidthCount++;u[i]=u[i]||{width:0,maxWidth:0};f=n.barWidth;f&&!u[i].width&&(u[i].width=f,f=Math.min(t.remainedWidth,f),t.remainedWidth-=f);e=n.barMaxWidth;e&&(u[i].maxWidth=e);o=n.barGap;null!=o&&(t.gap=o);s=n.barCategoryGap;null!=s&&(t.categoryGap=s)}),i={},t(r,function(n,r){var l,h,a;i[r]={};var c=n.stacks,y=n.bandWidth,v=u(n.categoryGap,y),e=u(n.gap,1),s=n.remainedWidth,o=n.autoWidthCount,f=(s-v)/(o+(o-1)*e);f=Math.max(f,0);t(c,function(n){var t=n.maxWidth;t&&t<f&&(t=Math.min(t,s),n.width&&(t=Math.min(t,n.width)),s-=t,n.width=t,o--)});f=(s-v)/(o+(o-1)*e);f=Math.max(f,0);h=0;t(c,function(n){n.width||(n.width=f);l=n;h+=n.width*(1+e)});l&&(h-=l.width*e);a=-h/2;t(c,function(n,t){i[r][t]=i[r][t]||{offset:a,width:n.width};a+=n.width*(1+e)})}),i}function pri(n,t,i){if(n&&t){var r=n[wot(t)];return null!=r&&null!=i&&(r=r[pot(i)]),r}}function wri(n,i){var u=vri(n,i),f=bot(u),r={};t(u,function(n){var t=n.getData(),a=n.coordinateSystem,v=a.getBaseAxis(),i=pot(n),it=f[wot(v)][i],k=it.offset,d=it.width,g=a.getOtherAxis(v),y=n.get("barMinHeight")||0,c,u,w,b,nt,tt,e,o,l;r[i]=r[i]||[];t.setLayout({offset:k,size:d});for(var rt=t.mapDimension(g.dim),ut=t.mapDimension(v.dim),p=be(t,rt),ft=g.isHorizontal(),s=dri(v,g,p),h=0,et=t.count();h<et;h++)c=t.get(rt,h),u=t.get(ut,h),isNaN(c)||(w=c>=0?"p":"n",b=s,p&&(r[i][u]||(r[i][u]={p:s,n:s}),b=r[i][u][w]),ft?(nt=b,tt=(l=a.dataToPoint([c,u]))[1]+k,e=l[0]-s,o=d,Math.abs(e)<y&&(e=(e<0?-1:1)*y),p&&(r[i][u][w]+=e)):(l=a.dataToPoint([u,c]),nt=l[0]+k,tt=b,e=d,o=l[1]-s,Math.abs(o)<y&&(o=(o<=0?-1:1)*y),p&&(r[i][u][w]+=o)),t.setItemLayout(h,{x:nt,y:tt,width:e,height:o}))},this)}function bri(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function kri(n){return n.pipelineContext&&n.pipelineContext.large}function dri(n,t,i){return b(n.getAxesOnZeroOf(),t)>=0||i?t.toGlobalCoord(t.dataToCoord(0)):t.getGlobalExtent()[0]}function ed(n,t){return yiu(n,viu(t))}function gri(n,r){var c,o,l,h=n.type,f=r.getMin(),e=r.getMax(),b=null!=f,k=null!=e,s=n.getExtent(),a,p,v,w,y;return"ordinal"===h?c=r.getCategories().length:(i(o=r.get("boundaryGap"))||(o=[o||0,o||0]),"boolean"==typeof o[0]&&(o=[0,0]),o[0]=u(o[0],1),o[1]=u(o[1],1),l=s[1]-s[0]||Math.abs(s[0])),null==f&&(f="ordinal"===h?c?0:NaN:s[0]-o[0]*l),null==e&&(e="ordinal"===h?c?c-1:NaN:s[1]+o[1]*l),"dataMin"===f?f=s[0]:"function"==typeof f&&(f=f({min:s[0],max:s[1]})),"dataMax"===e?e=s[1]:"function"==typeof e&&(e=e({min:s[0],max:s[1]})),(null==f||!isFinite(f))&&(f=NaN),(null==e||!isFinite(e))&&(e=NaN),n.setBlank(ty(f)||ty(e)||"ordinal"===h&&!n.getOrdinalMeta().categories.length),r.getNeedCrossZero()&&(f>0&&e>0&&!b&&(f=0),f<0&&e<0&&!k&&(e=0)),a=r.ecModel,a&&"time"===h&&(v=vri("bar",a),(t(v,function(n){p|=n.getBaseAxis()===r.axis}),p)&&(w=bot(v),y=hor(f,e,r,w),f=y.min,e=y.max)),[f,e]}function hor(n,i,r,u){var s=r.axis.getExtent(),a=s[1]-s[0],o=pri(u,r.axis),f,e;if(void 0===o)return{min:n,max:i};f=1/0;t(o,function(n){f=Math.min(n.offset,f)});e=-1/0;t(o,function(n){e=Math.max(n.offset+n.width,e)});f=Math.abs(f);e=Math.abs(e);var h=f+e,c=i-n,l=c/(1-(f+e)/a)-c;return i+=l*(e/h),n-=l*(f/h),{min:n,max:i}}function go(n,t){var u=gri(n,t),f=null!=t.getMin(),e=null!=t.getMax(),o=t.get("splitNumber"),i,r;"log"===n.type&&(n.base=t.get("logBase"));i=n.type;n.setExtent(u[0],u[1]);n.niceExtent({splitNumber:o,fixMin:f,fixMax:e,minInterval:"interval"===i||"time"===i?t.get("minInterval"):null,maxInterval:"interval"===i||"time"===i?t.get("maxInterval"):null});r=t.get("interval");null!=r&&n.setInterval&&n.setInterval(r)}function na(n,t){if(t=t||n.get("type"))switch(t){case"category":return new pit(n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),[1/0,-1/0]);case"value":return new ie;default:return(ii.getClass(t)||ie).create(n)}}function cor(n){var t=n.scale.getExtent(),i=t[0],r=t[1];return!(i>0&&r>0||i<0&&r<0)}function fp(n){var t=n.getLabelModel().get("formatter"),i="category"===n.type?n.scale.getExtent()[0]:null;return"string"==typeof t?t=function(n){return function(t){return n.replace("{value}",null!=t?t:"")}}(t):"function"==typeof t?function(r,u){return null!=i&&(u=r-i),t(kot(n,r),u)}:function(t){return n.scale.getLabel(t)}}function kot(n,t){return"category"===n.type?n.scale.getLabel(t):t}function lor(n){var a=n.model,i=n.scale,f,r,o,s,t,l,e;if(a.get("axisLabel.show")&&!i.isBlank()){o="category"===n.type;s=i.getExtent();r=o?i.count():(f=i.getTicks()).length;var u,h=n.getLabelModel(),v=fp(n),c=1;for(r>40&&(c=Math.ceil(r/40)),t=0;t<r;t+=c)l=v(f?f[t]:s[0]+t),e=aor(h.getTextRect(l),h.get("rotate")||0),u?u.union(e):u=e;return u}}function aor(n,t){var i=t*Math.PI/180,r=n.plain(),u=r.width,f=r.height,e=u*Math.cos(i)+f*Math.sin(i),o=u*Math.sin(i)+f*Math.cos(i);return new w(r.x,r.y,e,o)}function vor(n,t){if("image"!==this.type){var i=this.style,r=this.shape;r&&"line"===r.symbolType?i.stroke=n:this.__isEmptyBrush?(i.stroke=n,i.fill=t||"#fff"):(i.fill&&(i.fill=n),i.stroke&&(i.stroke=n));this.dirty(!1)}}function br(n,t,i,r,u,f,e){var s=0===n.indexOf("empty"),o;return s&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),o=0===n.indexOf("image://")?ont(n.slice(8),new w(t,i,r,u),e?"center":"cover"):0===n.indexOf("path://")?ay(n.slice(7),{},new w(t,i,r,u),e?"center":"cover"):new tru({shape:{symbolType:n,x:t,y:i,width:r,height:u}}),o.__isEmptyBrush=s,o.setColor=vor,o.setColor(f),o}function nui(n,t){return Math.abs(n-t)<uru}function lh(n,t,i){var o=0,r=n[0],f,e,u;if(!r)return!1;for(f=1;f<n.length;f++)e=n[f],o+=ye(r[0],r[1],e[0],e[1],t,i),r=e;return u=n[0],nui(r[0],u[0])&&nui(r[1],u[1])||(o+=ye(r[0],r[1],u[0],u[1],t,i)),0!==o}function od(n,t,i){if(this.name=n,this.geometries=t,i)i=[i[0],i[1]];else{var r=this.getBoundingRect();i=[r.x+r.width/2,r.y+r.height/2]}this.center=i}function yor(n){var r,o,f,u,i,c;if(!n.UTF8Encoding)return n;for(r=n.UTF8Scale,null==r&&(r=1024),o=n.features,f=0;f<o.length;f++)for(var e=o[f].geometry,s=e.coordinates,h=e.encodeOffsets,t=0;t<s.length;t++)if(u=s[t],"Polygon"===e.type)s[t]=tui(u,h[t],r);else if("MultiPolygon"===e.type)for(i=0;i<u.length;i++)c=u[i],u[i]=tui(c,h[t][i],r);return n.UTF8Encoding=!1,n}function tui(n,t,i){for(var r,u,e=[],o=t[0],s=t[1],f=0;f<n.length;f+=2)r=n.charCodeAt(f)-64,u=n.charCodeAt(f+1)-64,r=r>>1^-(1&r),u=u>>1^-(1&u),o=r+=o,s=u+=s,e.push([r/i,u/i]);return e}function por(n){return"category"===n.type?bor(n):dor(n)}function wor(n,t){return"category"===n.type?kor(n,t):{ticks:n.scale.getTicks()}}function bor(n){var t=n.getLabelModel(),i=iui(n,t);return!t.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}function iui(n,t){var r=rui(n,"labels"),i=sui(t),u=uui(r,i),f,e;return u?u:(f=vr(i)?oui(n,i):eui(n,e="auto"===i?gor(n):i),fui(r,i,{labels:f,labelCategoryInterval:e}))}function kor(n,t){var o=rui(n,"ticks"),i=sui(t),s=uui(o,i),u,f,e;return s?s:((t.get("show")&&!n.scale.isBlank()||(u=[]),vr(i))?u=oui(n,i,!0):"auto"===i?(e=iui(n,n.getLabelModel()),f=e.labelCategoryInterval,u=r(e.labels,function(n){return n.tickValue})):u=eui(n,f=i,!0),fui(o,i,{ticks:u,tickCategoryInterval:f}))}function dor(n){var t=n.scale.getTicks(),i=fp(n);return{labels:r(t,function(t,r){return{formattedLabel:i(t,r),rawLabel:n.scale.getLabel(t),tickValue:t}})}}function rui(n,t){return vw(n)[t]||(vw(n)[t]=[])}function uui(n,t){for(var i=0;i<n.length;i++)if(n[i].key===t)return n[i].value}function fui(n,t,i){return n.push({key:t,value:i}),i}function gor(n){var t=vw(n).autoInterval;return null!=t?t:vw(n).autoInterval=n.calculateCategoryInterval()}function nsr(n){var h=tsr(n),g=fp(n),v=(h.axisRotate-h.labelRotate)/180*Math.PI,y=n.scale,r=y.getExtent(),u=y.count(),c,f,e;if(r[1]-r[0]<1)return 0;c=1;u>40&&(c=Math.max(1,Math.floor(u/40)));for(var t=r[0],p=n.dataToCoord(t+1)-n.dataToCoord(t),nt=Math.abs(p*Math.cos(v)),tt=Math.abs(p*Math.sin(v)),l=0,a=0;t<=r[1];t+=c){var w=0,b=0,k=ve(g(t),h.font,"center","top");w=1.3*k.width;b=1.3*k.height;l=Math.max(l,w,7);a=Math.max(a,b,7)}f=l/nt;e=a/tt;isNaN(f)&&(f=1/0);isNaN(e)&&(e=1/0);var i=Math.max(0,Math.floor(Math.min(f,e))),o=vw(n.model),s=o.lastAutoInterval,d=o.lastTickCount;return null!=s&&null!=d&&Math.abs(s-i)<=1&&Math.abs(d-u)<=1&&s>i?i=s:(o.lastTickCount=u,o.lastAutoInterval=i),i}function tsr(n){var t=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function eui(n,t,i){function o(n){l.push(i?n:{formattedLabel:a(n),rawLabel:s.getLabel(n),tickValue:n})}var a=fp(n),s=n.scale,r=s.getExtent(),c=n.getLabelModel(),l=[],u=Math.max((t||0)+1,1),f=r[0],v=s.count(),h,e;for(0!==f&&u>1&&v/u>2&&(f=Math.round(Math.ceil(f/u)*u)),h={min:c.get("showMinLabel"),max:c.get("showMaxLabel")},h.min&&f!==r[0]&&o(r[0]),e=f;e<=r[1];e+=u)o(e);return h.max&&e!==r[1]&&o(r[1]),l}function oui(n,i,r){var u=n.scale,e=fp(n),f=[];return t(u.getTicks(),function(n){var t=u.getLabel(n);i(n,t)&&f.push(r?n:{formattedLabel:e(n),rawLabel:t,tickValue:n})}),f}function sui(n){var t=n.get("interval");return null==t?"auto":t}function hui(n,t){var i=(n[1]-n[0])/t/2;n[0]+=i;n[1]-=i}function isr(n,i,r,u,f){function s(n,t){return l?n>t:n<t}var c=i.length,o,e,h,l;n.onBand&&!u&&c&&(e=n.getExtent(),1===c?(i[0].coord=e[0],o=i[1]={coord:e[0]}):(h=i[1].coord-i[0].coord,t(i,function(n){n.coord-=h/2;var t=t||0;t%2>0&&(n.coord-=h/(2*(t+1)))}),o={coord:i[c-1].coord+h},i.push(o)),l=e[0]>e[1],s(i[0].coord,e[0])&&(f?i[0].coord=e[0]:i.shift()),f&&s(e[0],i[0].coord)&&i.unshift({coord:e[0]}),s(e[1],o.coord)&&(f?o.coord=e[1]:i.pop()),f&&s(o.coord,e[1])&&i.push({coord:e[1]}))}function sd(n,t){var i=n.mapDimension("defaultedLabel",!0),f=i.length,u,r,e;if(1===f)return ch(n,t,i[0]);if(f){for(u=[],r=0;r<i.length;r++)e=ch(n,t,i[r]),u.push(e);return u.join(" ")}}function ns(n,t,i){f.call(this);this.updateData(n,t,i)}function dot(n){return[n[0]/2,n[1]/2]}function rsr(n,t){this.parent.drift(n,t)}function ta(n){this.group=new f;this._symbolCtor=n||ns}function got(n,t,i,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(i))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&"none"!==n.getItemVisual(i,"symbol")}function cui(n){return null==n||a(n)||(n={isIgnore:n}),n||{}}function lui(n){var t=n.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}function nst(n,t,i){var e,o=n.getBaseAxis(),s=n.getOtherAxis(o),l=usr(s,i),h=o.dim,f=s.dim,a=t.mapDimension(f),v=t.mapDimension(h),y="x"===f||"radius"===f?1:0,u=r(n.dimensions,function(n){return t.mapDimension(n)}),c=t.getCalculationInfo("stackResultDimension");return(e|=be(t,u[0]))&&(u[0]=c),(e|=be(t,u[1]))&&(u[1]=c),{dataDimsForPoint:u,valueStart:l,valueAxisDim:f,baseAxisDim:h,stacked:!!e,valueDim:a,baseDim:v,baseDataOffset:y,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function usr(n,t){var r=0,i=n.scale.getExtent();return"start"===t?r=i[0]:"end"===t?r=i[1]:i[0]>0?r=i[0]:i[1]<0&&(r=i[1]),r}function tst(n,t,i,r){var u=NaN,e,f;return n.stacked&&(u=i.get(i.getCalculationInfo("stackedOverDimension"),r)),isNaN(u)&&(u=n.valueStart),e=n.baseDataOffset,f=[],f[e]=i.get(n.baseDim,r),f[1-e]=u,t.dataToPoint(f)}function fsr(n,t){var i=[];return t.diff(n).add(function(n){i.push({cmd:"+",idx:n})}).update(function(n,t){i.push({cmd:"=",idx:t,idx1:n})}).remove(function(n){i.push({cmd:"-",idx:n})}).execute(),i}function de(n){return isNaN(n[0])||isNaN(n[1])}function ist(n,t,i,r,u,f,e,o,s,h){return"none"!==h&&h?esr.apply(this,arguments):osr.apply(this,arguments)}function esr(n,t,i,r,u,f,e,o,s,h,c){for(var l,w=0,a=i,y=0;y<r;y++){if(l=t[a],a>=u||a<0)break;if(de(l)){if(c){a+=f;continue}break}if(a===i)n[f>0?"moveTo":"lineTo"](l[0],l[1]);else if(s>0){var p=t[w],v="y"===h?1:0,b=(l[v]-p[v])*s;git(au,p);au[v]=p[v]+b;git(vu,l);vu[v]=l[v]-b;n.bezierCurveTo(au[0],au[1],vu[0],vu[1],l[0],l[1])}else n.lineTo(l[0],l[1]);w=a;a+=f}return y}function osr(n,t,i,r,u,f,e,o,s,h,c){for(var l,y,a,d,w,g,b,p,nt=0,v=i,k=0;k<r;k++){if(l=t[v],v>=u||v<0)break;if(de(l)){if(c){v+=f;continue}break}if(v===i)n[f>0?"moveTo":"lineTo"](l[0],l[1]),git(au,l);else if(s>0){if(y=v+f,a=t[y],c)for(;a&&de(t[y]);)a=t[y+=f];d=.5;w=t[nt];(a=t[y])&&!de(a)?(de(a)&&!c&&(a=l),he(byt,a,w),"x"===h||"y"===h?(p="x"===h?0:1,g=Math.abs(l[p]-w[p]),b=Math.abs(l[p]-a[p])):(g=gh(l,w),b=gh(l,a)),vwi(vu,l,byt,-s*(1-(d=b/(b+g))))):git(vu,l);lwi(au,au,o);awi(au,au,e);lwi(vu,vu,o);awi(vu,vu,e);n.bezierCurveTo(au[0],au[1],vu[0],vu[1],l[0],l[1]);vwi(au,l,byt,s*d)}else n.lineTo(l[0],l[1]);nt=v;v+=f}return k}function rst(n,t){var r=[1/0,1/0],u=[-1/0,-1/0],f,i;if(t)for(f=0;f<n.length;f++)i=n[f],i[0]<r[0]&&(r[0]=i[0]),i[1]<r[1]&&(r[1]=i[1]),i[0]>u[0]&&(u[0]=i[0]),i[1]>u[1]&&(u[1]=i[1]);return{min:t?r:u,max:t?u:r}}function aui(n,t){var i,r,u;if(n.length===t.length){for(i=0;i<n.length;i++)if(r=n[i],u=t[i],r[0]!==u[0]||r[1]!==u[1])return;return!0}}function vui(n){return"number"==typeof n?n:n?.5:0}function yui(n){var t=n.getGlobalExtent(),i,r;return n.onBand&&(i=n.getBandWidth()/2-1,r=t[1]>t[0]?1:-1,t[0]+=r*i,t[1]-=r*i),t}function ssr(n,t,i){if(!i.valueDim)return[];for(var u=[],r=0,f=t.count();r<f;r++)u.push(tst(i,n,t,r));return u}function hsr(n,t,i,r){var o=yui(n.getAxis("x")),s=yui(n.getAxis("y")),a=n.getBaseAxis().isHorizontal(),h=Math.min(o[0],o[1]),c=Math.min(s[0],s[1]),u=Math.max(o[0],o[1])-h,f=Math.max(s[0],s[1])-c,v,e,l;return i?(h-=.5,u+=.5,c-=.5,f+=.5):(v=r.get("lineStyle.width")||2,e=r.get("clipOverflow")?v/2:Math.max(u,f),a?(c-=e,f+=2*e):(h-=e,u+=2*e)),l=new st({shape:{x:h,y:c,width:u,height:f}}),t&&(l.shape[a?"width":"height"]=0,tr(l,{shape:{width:u,height:f}},r)),l}function csr(n,t,i,r){var s=n.getAngleAxis(),u=n.getRadiusAxis().getExtent().slice(),f,e,o;return u[0]>u[1]&&u.reverse(),f=s.getExtent(),e=Math.PI/180,i&&(u[0]-=.5,u[1]+=.5),o=new to({shape:{cx:ai(n.cx,1),cy:ai(n.cy,1),r0:ai(u[0],1),r:ai(u[1],1),startAngle:-f[0]*e,endAngle:-f[1]*e,clockwise:s.inverse}}),t&&(o.shape.endAngle=-f[0]*e,tr(o,{shape:{endAngle:-f[1]*e}},r)),o}function hd(n,t,i,r){return"polar"===n.type?csr(n,t,i,r):hsr(n,t,i,r)}function ts(n,t,i){for(var s,o,u,l,h,c=t.getBaseAxis(),r="x"===c.dim||"radius"===c.dim?0:1,f=[],e=0;e<n.length-1;e++){s=n[e+1];o=n[e];f.push(o);u=[];switch(i){case"end":u[r]=s[r];u[1-r]=o[1-r];f.push(u);break;case"middle":l=(o[r]+s[r])/2;h=[];u[r]=h[r]=l;u[1-r]=o[1-r];h[1-r]=s[1-r];f.push(u);f.push(h);break;default:u[r]=o[r];u[1-r]=s[1-r];f.push(u)}}return n[e]&&f.push(n[e]),f}function lsr(n,i){var e=n.getVisual("visualMeta"),o,h,s,c;if(e&&e.length&&n.count()&&"cartesian2d"===i.type){for(s=e.length-1;s>=0;s--){var b=e[s].dimension,k=n.dimensions[b],v=n.getDimensionInfo(k);if("x"===(o=v&&v.coordDim)||"y"===o){h=e[s];break}}if(h){var y=i.getAxis(o),u=r(h.stops,function(n){return{coord:y.toGlobalCoord(y.dataToCoord(n.value)),color:n.color}}),f=u.length,l=h.outerColors.slice();f&&u[0].coord>u[f-1].coord&&(u.reverse(),l.reverse());var a=u[0].coord-10,p=u[f-1].coord+10,w=p-a;return w<.001?"transparent":(t(u,function(n){n.offset=(n.coord-a)/w}),u.push({offset:f?u[f-1].offset:.5,color:l[1]||"transparent"}),u.unshift({offset:f?u[0].offset:.5,color:l[0]||"transparent"}),c=new ec(0,0,0,0,u,!0),c[o]=a,c[o+"2"]=p,c)}}}function asr(n,i,r){var e=n.get("showAllSymbol"),o="auto"===e,u,s,f;if((!e||o)&&(u=r.getAxesByScale("ordinal")[0],u&&(!o||!vsr(u,i))))return s=i.mapDimension(u.dim),f={},t(u.getViewLabels(),function(n){f[n.tickValue]=1}),function(n){return!f.hasOwnProperty(i.get(s,n))}}function vsr(n,t){var u=n.getExtent(),i=Math.abs(u[1]-u[0])/n.scale.count();isNaN(i)&&(i=0);for(var f=t.count(),e=Math.max(1,Math.round(f/5)),r=0;r<f;r+=e)if(1.5*ns.getSymbolSize(t,r)[n.isHorizontal()?1:0]>i)return!1;return!0}function ysr(n){return this._axes[n]}function ep(n){nrt.call(this,n)}function pui(n,t){return t.type||(t.data?"category":"value")}function ust(n,t){return n.getCoordSysModel()===t}function ia(n,t,i){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(n,t,i);this.model=n}function wui(n,t,i){var f;i.getAxesOnZeroOf=function(){return u?[u]:[]};var u,r=n[t],o=i.model,s=o.get("axisLine.onZero"),e=o.get("axisLine.onZeroAxisIndex");if(s)if(null==e){for(f in r)if(r.hasOwnProperty(f)&&bui(r[f])){u=r[f];break}}else bui(r[e])&&(u=r[e])}function bui(n){return n&&"category"!==n.type&&"time"!==n.type&&cor(n)}function psr(n,t){var i=n.getExtent(),r=i[0]+i[1];n.toGlobalCoord="x"===n.dim?function(n){return n+t}:function(n){return r-n+t};n.toLocalCoord="x"===n.dim?function(n){return n-t}:function(n){return r-n+t}}function kui(n){return r(pwi,function(t){return n.getReferringComponents(t)[0]})}function dui(n){return"cartesian2d"===n.get("coordinateSystem")}function gui(n){var t={componentType:n.mainType};return t[n.mainType+"Index"]=n.componentIndex,t}function wsr(n,t,i,r){var f,e,u=aet(i-n.rotation),s=r[0]>r[1],o="start"===t&&!s||"start"!==t&&s;return yy(u-fo/2)?(e=o?"bottom":"top",f="center"):yy(u-1.5*fo)?(e=o?"top":"bottom",f="center"):(e="middle",f=u<1.5*fo&&u>fo/2?o?"left":"right":o?"right":"left"),{rotation:u,textAlign:f,textVerticalAlign:e}}function nfi(n){var t=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||t&&t.show)}function bsr(n,t,i){var f=n.get("axisLabel.showMinLabel"),e=n.get("axisLabel.showMaxLabel");t=t||[];i=i||[];var r=t[0],o=t[1],u=t[t.length-1],s=t[t.length-2],h=i[0],l=i[1],c=i[i.length-1],a=i[i.length-2];!1===f?(eu(r),eu(h)):tfi(r,o)&&(f?(eu(o),eu(l)):(eu(r),eu(h)));!1===e?(eu(u),eu(c)):tfi(s,u)&&(e?(eu(s),eu(a)):(eu(u),eu(c)))}function eu(n){n&&(n.ignore=!0)}function tfi(n,t){var r=n&&n.getBoundingRect().clone(),u=t&&t.getBoundingRect().clone(),i;if(r&&u)return i=fy([]),ao(i,i,-n.rotation),r.applyTransform(ih([],i,n.getLocalTransform())),u.applyTransform(ih([],i,t.getLocalTransform())),r.intersect(u)}function ifi(n){return"middle"===n||"center"===n}function ksr(n,t,i){var l=t.axis,h,c;if(t.get("axisTick.show")&&!l.scale.isBlank()){for(var a=t.getModel("axisTick"),y=a.getModel("lineStyle"),p=a.get("length"),e=l.getTicksCoords(),r=[],u=[],s=n._transform,v=[],f=0;f<e.length;f++)h=e[f].coord,r[0]=h,r[1]=0,u[0]=h,u[1]=i.tickDirection*p,s&&(ct(r,r,s),ct(u,u,s)),c=new hu(eh({anid:"tick_"+e[f].tickValue,shape:{x1:r[0],y1:r[1],x2:u[0],y2:u[1]},style:o(y.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),z2:2,silent:!0})),n.group.add(c),v.push(c);return v}}function dsr(n,i,r){var u=i.axis;if(li(r.axisLabelShow,i.get("axisLabel.show"))&&!u.scale.isBlank()){var f=i.getModel("axisLabel"),h=f.get("margin"),c=u.getViewLabels(),l=(li(r.labelRotate,f.get("rotate"))||0)*fo/180,o=bwi(r.rotation,l,r.labelDirection),e=i.getCategories(!0),s=[],a=nfi(i),v=i.get("triggerEvent");return t(c,function(t,c){var y=t.tickValue,k=t.formattedLabel,b=t.rawLabel,p=f;e&&e[y]&&e[y].textStyle&&(p=new tt(e[y].textStyle,f,i.ecModel));var w=p.getTextColor()||i.get("axisLine.lineStyle.color"),g=[u.dataToCoord(y),r.labelOffset+r.labelDirection*h],l=new d({anid:"label_"+y,position:g,rotation:o.rotation,silent:a,z2:10});kt(l.style,p,{text:k,textAlign:p.getShallow("align",!0)||o.textAlign,textVerticalAlign:p.getShallow("verticalAlign",!0)||p.getShallow("baseline",!0)||o.textVerticalAlign,textFill:"function"==typeof w?w("category"===u.type?b:"value"===u.type?y+"":y,c):w});v&&(l.eventData=gui(i),l.eventData.targetType="axisLabel",l.eventData.value=b);n._dumbGroup.add(l);l.updateTransform();s.push(l);n.group.add(l);l.decomposeTransform()}),s}}function gsr(n,t){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return nhr(i,n,t),i.seriesInvolved&&ihr(i,n),i}function nhr(n,t,i){var u=t.getComponent("tooltip"),r=t.getComponent("axisPointer"),f=r.get("link",!0)||[],e=[];hv(i.getCoordinateSystems(),function(i){function s(u,s,h){var c=h.model.getModel("axisPointer",r),w=c.get("show"),a,y;if(w&&("auto"!==w||u||ost(c))){null==s&&(s=c.get("triggerTooltip"));var b=(c=u?thr(h,o,r,t,u,s):c).get("snap"),v=op(h.model),k=s||b||"category"===h.type,p=n.axesInfo[v]={key:v,axis:h,coordSys:i,axisPointerModel:c,triggerTooltip:s,involveSeries:k,snap:b,useHandle:ost(c),seriesModels:[]};l[v]=p;n.seriesInvolved|=k;a=rhr(f,h);null!=a&&(y=e[a]||(e[a]={axesInfo:{}}),y.axesInfo[v]=p,y.mapper=f[a].mapper,p.linkGroup=y)}}var h,l,o;if(i.axisPointerEnabled&&(h=op(i.model),l=n.coordSysAxesInfo[h]={},n.coordSysMap[h]=i,o=i.model.getModel("tooltip",u),hv(i.getAxes(),gyt(s,!1,null)),i.getTooltipAxes&&u&&o.get("show"))){var a="axis"===o.get("trigger"),c="cross"===o.get("axisPointer.type"),v=i.getTooltipAxes(o.get("axisPointer.axis"));(a||c)&&hv(v.baseAxes,gyt(s,!c||"cross",a));c&&hv(v.otherAxes,gyt(s,"cross",!1))}})}function thr(n,t,i,r,u,f){var c=t.getModel("axisPointer"),e={},s,l,a;return hv(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(n){e[n]=h(c.get(n))}),e.snap="category"!==n.type&&!!f,"cross"===c.get("type")&&(e.type="line"),s=e.label||(e.label={}),(null==s.show&&(s.show=!1),"cross"===u)&&(l=c.get("label.show"),(s.show=null==l||l,f)||(a=e.lineStyle=c.get("crossStyle"),a&&o(s,a.textStyle))),n.model.getModel("axisPointer",new tt(e,i,r))}function ihr(n,t){t.eachSeries(function(t){var i=t.coordinateSystem,r=t.get("tooltip.trigger",!0),u=t.get("tooltip.show",!0);i&&"none"!==r&&!1!==r&&"item"!==r&&!1!==u&&!1!==t.get("axisPointer.show",!0)&&hv(n.coordSysAxesInfo[op(i.model)],function(n){var r=n.axis;i.getAxis(r.dim)===r&&(n.seriesModels.push(t),null==n.seriesDataCount&&(n.seriesDataCount=0),n.seriesDataCount+=t.getData().count())})},this)}function rhr(n,t){for(var r,u=t.model,f=t.dim,i=0;i<n.length;i++)if(r=n[i]||{},fst(r[f+"AxisId"],u.id)||fst(r[f+"AxisIndex"],u.componentIndex)||fst(r[f+"AxisName"],u.name))return i}function fst(n,t){return"all"===n||i(n)&&b(n,t)>=0||n===t}function uhr(n){var r=est(n),e,i;if(r){var u=r.axisPointerModel,o=r.axis.scale,f=u.option,s=u.get("status"),t=u.get("value");null!=t&&(t=o.parse(t));e=ost(u);null==s&&(f.status=e?"show":"hide");i=o.getExtent().slice();i[0]>i[1]&&i.reverse();(null==t||t>i[1])&&(t=i[1]);t<i[0]&&(t=i[0]);f.value=t;e&&(f.status=r.axis.scale.isBlank()?"hide":"show")}}function est(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[op(n)]}function fhr(n){var t=est(n);return t&&t.axisPointerModel}function ost(n){return!!n.get("handle.show")}function op(n){return n.type+"||"+n.id}function rfi(n,t,i,r,u,f){var o=gr.getAxisPointerClass(n.axisPointerClass),e;o&&(e=fhr(t),e?(n._axisPointer||(n._axisPointer=new o)).render(t,e,r,f):ufi(n,r))}function ufi(n,t,i){var r=n._axisPointer;r&&r.dispose(t,i);n._axisPointer=null}function sst(n,t,i){var p,w,y;i=i||{};var b=n.coordinateSystem,l=t.axis,r={},o=l.getAxesOnZeroOf()[0],a=l.position,v=o?"onZero":a,h=l.dim,f=b.getRect(),e=[f.x,f.x+f.width,f.y,f.y+f.height],s={left:0,right:1,top:0,bottom:1,onZero:2},c=t.get("offset")||0,u="x"===h?[e[2]-c,e[3]+c]:[e[0]-c,e[1]+c];return o&&(p=o.toGlobalCoord(o.dataToCoord(0)),u[s.onZero]=Math.max(Math.min(p,u[1]),u[0])),r.position=["y"===h?u[s[v]]:e[0],"x"===h?u[s[v]]:e[3]],r.rotation=Math.PI/2*("x"===h?0:1),w={top:-1,bottom:1,left:-1,right:1},r.labelDirection=r.tickDirection=r.nameDirection=w[a],r.labelOffset=o?u[s[a]]-u[s.onZero]:0,t.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),li(i.labelInside,t.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection),y=t.get("axisLabel.rotate"),r.labelRotate="top"===v?-y:y,r.z2=1,r}function ffi(n,t,i,r,u,f){uu(n,t,i.getModel("label"),i.getModel("emphasis.label"),{labelFetcher:u,labelDataIndex:f,defaultText:sd(u.getData(),f),isRectText:!0,autoColor:r});efi(n);efi(t)}function efi(n,t){"outside"===n.textPosition&&(n.textPosition=t)}function ofi(n,t,i){i.style.text=null;p(i,{shape:{width:0}},t,n,function(){i.parent&&i.parent.remove(i)})}function sfi(n,t,i){i.style.text=null;p(i,{shape:{r:i.shape.r0}},t,n,function(){i.parent&&i.parent.remove(i)})}function hfi(n,t,i,r,u,f,e,s){var c=t.getItemVisual(i,"color"),y=t.getItemVisual(i,"opacity"),l=r.getModel("itemStyle"),a=r.getModel("emphasis.itemStyle").getBarItemStyle(),h,v;s||n.setShape("r",l.get("barBorderRadius")||0);n.useStyle(o({fill:c,opacity:y},l.getBarItemStyle()));h=r.getShallow("cursor");h&&n.attr("cursor",h);v=e?u.height>0?"bottom":"top":u.width>0?"left":"right";s||ffi(n.style,a,r,c,f,i,v);at(n,a)}function ehr(n,t){var i=n.get(kru)||0;return Math.min(i,Math.abs(t.width),Math.abs(t.height))}function cfi(n,t,i){var r=n.getData(),f=[],e=r.getLayout("valueAxisHorizontal")?1:0,u;f[1-e]=r.getLayout("valueAxisStart");u=new dru({shape:{points:r.getLayout("largePoints")},incremental:!!i,__startPoint:f,__valueIdx:e});t.add(u);ohr(u,n,r)}function ohr(n,t,i){var r=i.getVisual("borderColor")||i.getVisual("color"),u=t.getModel("itemStyle").getItemStyle(["color","borderColor"]);n.useStyle(u);n.style.fill=null;n.style.stroke=r;n.style.lineWidth=i.getLayout("barWidth")}function shr(n,t,i,r){var u=t.getData(),f=this.dataIndex,e=u.getName(f),o=t.get("selectedOffset");r.dispatchAction({type:"pieToggleSelect",from:n,name:e,seriesId:t.id});u.each(function(n){lfi(u.getItemGraphicEl(n),u.getItemLayout(n),t.isSelected(u.getName(n)),o,i)})}function lfi(n,t,i,r,u){var f=(t.startAngle+t.endAngle)/2,s=Math.cos(f),h=Math.sin(f),e=i?r:0,o=[s*e,h*e];u?n.animate().when(200,{position:o}).start("bounceOut"):n.attr("position",o)}function hst(n,t){function u(){i.ignore=i.hoverIgnore;r.ignore=r.hoverIgnore}function e(){i.ignore=i.normalIgnore;r.ignore=r.normalIgnore}f.call(this);var o=new to({z2:2}),i=new gf,r=new d;this.add(o);this.add(i);this.add(r);this.updateData(n,t,!0);this.on("emphasis",u).on("normal",e).on("mouseover",u).on("mouseout",e)}function afi(n,t,i,r,u,f,e){function c(t,i){for(var r=t;r>=0&&(n[r].y-=i,!(r>0&&n[r].y>n[r-1].y+n[r-1].height));r--);}function l(n,t,i,r,u,f){for(var s=t?Number.MAX_VALUE:0,e=0,a=n.length;e<a;e++)if("center"!==n[e].position){var h=Math.abs(n[e].y-r),c=n[e].len,l=n[e].len2,o=h<u+c?Math.sqrt((u+c+l)*(u+c+l)-h*h):Math.abs(n[e].x-i);t&&o>=s&&(o=s-10);!t&&o<=s&&(o=s+10);n[e].x=i+o*f;s=o}}n.sort(function(n,t){return n.y-t.y});for(var a,s=0,h=n.length,v=[],y=[],o=0;o<h;o++)(a=n[o].y-s)<0&&function(t,i,r){for(var u=t;u<i;u++)if(n[u].y+=r,u>t&&u+1<i&&n[u+1].y>n[u].y+n[u].height)return void c(u,r/2);c(i-1,r/2)}(o,h,-a),s=n[o].y+n[o].height;for(e-s<0&&c(h-1,s-e),o=0;o<h;o++)n[o].y>=i?y.push(n[o]):v.push(n[o]);l(v,!1,t,i,r,u);l(y,!0,t,i,r,u)}function hhr(n,t,i,r,u,f){for(var o,c,s=[],h=[],e=0;e<n.length;e++)n[e].x<t?s.push(n[e]):h.push(n[e]);for(afi(h,t,i,r,1,u,f),afi(s,t,i,r,-1,u,f),e=0;e<n.length;e++)o=n[e].linePoints,o&&(c=o[1][0]-o[2][0],o[2][0]=n[e].x<t?n[e].x+3:n[e].x-3,o[1][1]=o[2][1]=n[e].y,o[1][0]=o[2][0]+c)}function vfi(){this.group=new f}function yfi(n,t,i){ri.call(this,n,t,i);this.type="value";this.angle=0;this.name="";this.model}function af(n,t,i){this._model=n;this.dimensions=[];this._indicatorAxes=r(n.getIndicatorModels(),function(n,t){var r="indicator_"+t,i=new yfi(r,new ie);return i.name=n.get("name"),i.model=n,n.axis=i,this.dimensions.push(r),i},this);this.resize(n,i);this.cx;this.cy;this.r;this.startAngle}function cd(n,t){return o({show:t},n)}function chr(n){return i(n)||(n=[+n,+n]),n}function cst(){vf.call(this)}function ah(n){this.name=n;this.zoomLimit;vf.call(this);this._roamTransformable=new cst;this._rawTransformable=new cst;this._center;this._zoom}function pfi(n,t,i,r){var u=i.seriesModel,f=u?u.coordinateSystem:null;return f===this?f[n](r):null}function ra(n,t,i,r,u){ah.call(this,n);this.map=t;this._nameCoordMap=y();this.loadGeoJson(i,r,u)}function wfi(n,t,i,r){var f=i.geoModel,u=i.seriesModel,e=f?f.coordinateSystem:u?u.coordinateSystem||(u.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return e===this?e[n](r):null}function bfi(n,t){var h=n.get("boundingCoords"),e,o,i;null!=h&&(e=h[0],o=h[1],isNaN(e[0])||isNaN(e[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(e[0],e[1],o[0]-e[0],o[1]-e[1]));var a,v=this.getBoundingRect(),r=n.get("layoutCenter"),f=n.get("layoutSize"),c=t.getWidth(),l=t.getHeight(),p=n.get("aspectScale")||.75,s=v.width/v.height*p,y=!1;r&&f&&(r=[u(r[0],c),u(r[1],l)],f=u(f,Math.min(c,l)),isNaN(r[0])||isNaN(r[1])||isNaN(f)||(y=!0));y?(i={},s>1?(i.width=f,i.height=f/s):(i.height=f,i.width=f*s),i.y=r[1]-i.height/2,i.x=r[0]-i.width/2):((a=n.getBoxLayoutParams()).aspect=s,i=fi(a,{width:c,height:l}));this.setViewRect(i.x,i.y,i.width,i.height);this.setCenter(n.get("center"));this.setZoom(n.get("zoom"))}function kfi(n,i){t(i.get("geoCoord"),function(t,i){n.addGeoCoord(i,t)})}function lhr(n,t,i){lst(n)[t]=i}function ahr(n,t,i){var r=lst(n);r[t]===i&&(r[t]=null)}function dfi(n,t){return!!lst(n)[t]}function lst(n){return n[ept]||(n[ept]={})}function sp(n){this.pointerChecker;this._zr=n;this._opt={};var t=c,i=t(vhr,this),r=t(yhr,this),u=t(phr,this),f=t(whr,this),e=t(bhr,this);ei.call(this);this.setPointerChecker=function(n){this.pointerChecker=n};this.enable=function(t,s){this.disable();this._opt=o(h(s)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0});null==t&&(t=!0);!0!==t&&"move"!==t&&"pan"!==t||(n.on("mousedown",i),n.on("mousemove",r),n.on("mouseup",u));!0!==t&&"scale"!==t&&"zoom"!==t||(n.on("mousewheel",f),n.on("pinch",e))};this.disable=function(){n.off("mousedown",i);n.off("mousemove",r);n.off("mouseup",u);n.off("mousewheel",f);n.off("pinch",e)};this.dispose=this.disable;this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}function vhr(n){if(!(pft(n)||n.target&&n.target.draggable)){var t=n.offsetX,i=n.offsetY;this.pointerChecker&&this.pointerChecker(n,t,i)&&(this._x=t,this._y=i,this._dragging=!0)}}function yhr(n){if(!pft(n)&&nei(this,"moveOnMouseMove",n)&&this._dragging&&"pinch"!==n.gestureEvent&&!dfi(this._zr,"globalPan")){var t=n.offsetX,i=n.offsetY,r=this._x,u=this._y,f=t-r,e=i-u;this._x=t;this._y=i;this._opt.preventDefaultMouseMove&&fs(n.event);this.trigger("pan",f,e,r,u,t,i)}}function phr(n){pft(n)||(this._dragging=!1)}function whr(n){if(nei(this,"zoomOnMouseWheel",n)&&0!==n.wheelDelta){var t=n.wheelDelta>0?1.1:1/1.1;gfi.call(this,n,t,n.offsetX,n.offsetY)}}function bhr(n){if(!dfi(this._zr,"globalPan")){var t=n.pinchScale>1?1.1:1/1.1;gfi.call(this,n,t,n.pinchX,n.pinchY)}}function gfi(n,t,i,r){this.pointerChecker&&this.pointerChecker(n,i,r)&&(fs(n.event),this.trigger("zoom",t,i,r))}function nei(n,t,i){var r=n._opt[t];return r&&(!yt(r)||i.event[r+"Key"])}function tei(n,t,i){var r=n.target,u=r.position;u[0]+=t;u[1]+=i;r.dirty()}function iei(n,t,i,r){var o=n.target,s=n.zoomLimit,e=o.position,h=o.scale,u=n.zoom=n.zoom||1,c,l,f;(u*=t,s)&&(c=s.min||0,l=s.max||1/0,u=Math.max(Math.min(l,u),c));f=u/n.zoom;n.zoom=u;e[0]-=(i-e[0])*(f-1);e[1]-=(r-e[1])*(f-1);h[0]*=f;h[1]*=f;o.dirty()}function ast(n,t,i){var r=t.getComponentByElement(n.topTarget),u=r&&r.coordinateSystem;return r&&r!==i&&!ubi[r.mainType]&&u&&u.model!==i}function rei(n){var t=n.getItemStyle(),i=n.get("areaColor");return null!=i&&(t.fill=i),t}function khr(n,t,i,u,f){i.off("click");i.off("mousedown");t.get("selectedMode")&&(i.on("mousedown",function(){n._mouseDownFlag=!0}),i.on("click",function(e){var o,s;if(n._mouseDownFlag){for(n._mouseDownFlag=!1,o=e.target;!o.__regions;)o=o.parent;o&&(s={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",batch:r(o.__regions,function(n){return{name:n.name,from:f.uid}})},s[t.mainType+"Id"]=t.id,u.dispatchAction(s),uei(t,i))}}))}function uei(n,i){i.eachChild(function(i){t(i.__regions,function(t){i.trigger(n.isSelected(t.name)?"emphasis":"normal")})})}function ld(n,t){var i=new f;this._controller=new sp(n.getZr());this._controllerHost={target:t?i:null};this.group=i;this._updateGroup=t;this._mouseDownFlag}function fei(n,t,i){var o=n.getZoom(),u=n.getCenter(),r=t.zoom,f=n.dataToPoint(u),s,h;if(null!=t.dx&&null!=t.dy&&(f[0]-=t.dx,f[1]-=t.dy,u=n.pointToData(f),n.setCenter(u)),null!=r){i&&(s=i.min||0,h=i.max||1/0,r=Math.max(Math.min(o*r,h),s)/o);n.scale[0]*=r;n.scale[1]*=r;var e=n.position,c=(t.originX-e[0])*(r-1),l=(t.originY-e[1])*(r-1);e[0]-=c;e[1]-=l;n.updateTransform();u=n.pointToData(f);n.setCenter(u);n.setZoom(r*o)}return{center:n.getCenter(),zoom:n.getZoom()}}function dhr(n,i){var r={};return t(n,function(n){n.each(n.mapDimension("value"),function(t,i){var u="ec-"+n.getName(i);r[u]=r[u]||[];isNaN(t)||r[u].push(t)})}),n[0].map(n[0].mapDimension("value"),function(t,u){for(var l,e="ec-"+n[0].getName(u),o=0,s=1/0,h=-1/0,c=r[e].length,f=0;f<c;f++)s=Math.min(s,r[e][f]),h=Math.max(h,r[e][f]),o+=r[e][f];return l="min"===i?s:"max"===i?h:"average"===i?o/c:o,0===c?NaN:l})}function eei(n){var t=n.mainData,i=n.datas;i||(i={main:t},n.datasAttr={main:"data"});n.datas=n.mainData=null;oei(t,i,n);bw(i,function(i){bw(t.TRANSFERABLE_METHODS,function(t){i.wrapMethod(t,l(ghr,n))})});t.wrapMethod("cloneShallow",l(tcr,n));bw(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,l(ncr,n))});co(i[t.dataType]===t)}function ghr(n,t){if(rcr(this)){var i=e({},this[kw]);i[this.dataType]=t;oei(t,i,n)}else vst(t,this.dataType,this[ort],n);return t}function ncr(n,t){return n.struct&&n.struct.update(this),t}function tcr(n,t){return bw(t[kw],function(i,r){i!==t&&vst(i.cloneShallow(),r,t,n)}),t}function icr(n){var t=this[ort];return null==n||null==t?t:t[kw][n]}function rcr(n){return n[ort]===n}function oei(n,t,i){n[kw]={};bw(t,function(t,r){vst(t,r,n,i)})}function vst(n,t,i,r){i[kw][t]=n;n[ort]=i;n.dataType=t;r.struct&&(n[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=n);n.getLinkedData=icr}function vh(n,t,i){this.root;this.data;this._nodes=[];this.hostModel=n;this.levelModels=r(t||[],function(t){return new tt(t,n,n.ecModel)});this.leavesModel=new tt(i||{},n,n.ecModel)}function ucr(n,t){var i=t.children;n.parentNode!==t&&(i.push(n),n.parentNode=t)}function fcr(n){var u,i,f,t,r;for(n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null},f=[n];u=f.pop();)if(i=u.children,u.isExpand&&i.length)for(t=i.length-1;t>=0;t--)r=i[t],r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:t,thread:null},f.push(r)}function ecr(n,t){var r=n.isExpand?n.children:[],f=n.parentNode.children,i=n.hierNode.i?f[n.hierNode.i-1]:null,u;r.length?(hcr(n),u=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2,i?(n.hierNode.prelim=i.hierNode.prelim+t(n,i),n.hierNode.modifier=n.hierNode.prelim-u):n.hierNode.prelim=u):i&&(n.hierNode.prelim=i.hierNode.prelim+t(n,i));n.parentNode.hierNode.defaultAncestor=ccr(n,i,n.parentNode.hierNode.defaultAncestor||f[0],t)}function ocr(n){var t=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:t},!0);n.hierNode.modifier+=n.parentNode.hierNode.modifier}function sei(n){return arguments.length?n:vcr}function hp(n,t){var i={};return n-=Math.PI/2,i.x=t*Math.cos(n),i.y=t*Math.sin(n),i}function scr(n,t){return fi(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function hcr(n){for(var t,r=n.children,u=r.length,i=0,f=0;--u>=0;)t=r[u],t.hierNode.prelim+=i,t.hierNode.modifier+=i,f+=t.hierNode.change,i+=t.hierNode.shift+f}function ccr(n,t,i,r){var s;if(t){for(var e=n,u=n,o=u.parentNode.children[0],f=t,c=e.hierNode.modifier,h=u.hierNode.modifier,a=o.hierNode.modifier,l=f.hierNode.modifier;f=yst(f),u=pst(u),f&&u;)e=yst(e),o=pst(o),e.hierNode.ancestor=n,s=f.hierNode.prelim+l-u.hierNode.prelim-h+r(f,u),s>0&&(acr(lcr(f,n,i),n,s),h+=s,c+=s),l+=f.hierNode.modifier,h+=u.hierNode.modifier,c+=e.hierNode.modifier,a+=o.hierNode.modifier;f&&!yst(e)&&(e.hierNode.thread=f,e.hierNode.modifier+=l-c);u&&!pst(o)&&(o.hierNode.thread=u,o.hierNode.modifier+=h-a,i=n)}return i}function yst(n){var t=n.children;return t.length&&n.isExpand?t[t.length-1]:n.hierNode.thread}function pst(n){var t=n.children;return t.length&&n.isExpand?t[0]:n.hierNode.thread}function lcr(n,t,i){return n.hierNode.ancestor.parentNode===t.parentNode?n.hierNode.ancestor:i}function acr(n,t,i){var r=i/(t.hierNode.i-n.hierNode.i);t.hierNode.change-=r;t.hierNode.shift+=i;t.hierNode.modifier+=i;t.hierNode.prelim+=i;n.hierNode.change+=r}function vcr(n,t){return n.parentNode===t.parentNode?1:2}function hei(n,t){var i=n.getItemLayout(t);return i&&!isNaN(i.x)&&!isNaN(i.y)&&"none"!==n.getItemVisual(t,"symbol")}function cei(n,t,i){return i.itemModel=t,i.itemStyle=t.getModel("itemStyle").getItemStyle(),i.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),i.lineStyle=t.getModel("lineStyle").getLineStyle(),i.labelModel=t.getModel("label"),i.hoverLabelModel=t.getModel("emphasis.label"),i.symbolInnerColor=!1===n.isExpand&&0!==n.children.length?i.itemStyle.fill:"#fff",i}function lei(n,t,i,r,u,f){var rt=!i,e=n.tree.getNodeByDataIndex(t),f=cei(e,e.getModel(),f),k=n.tree.root,d=e.parentNode===k?e:e.parentNode||e,v=n.getItemGraphicEl(d.dataIndex),g=d.getLayout(),w=v?{x:v.position[0],y:v.position[1],rawX:v.__radialOldRawX,rawY:v.__radialOldRawY}:g,s=e.getLayout(),nt,a,it,y;if(rt?(i=new ns(n,t,f)).attr("position",[w.x,w.y]):i.updateData(n,t,f),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=s.rawX,i.__radialRawY=s.rawY,r.add(i),n.setItemGraphicEl(t,i),p(i,{position:[s.x,s.y]},u),nt=i.getSymbolPath(),"radial"===f.layout){var h,b,l=k.children[0],c=l.getLayout(),tt=l.children.length;s.x===c.x&&!0===e.isExpand?(a={},a.x=(l.children[0].getLayout().x+l.children[tt-1].getLayout().x)/2,a.y=(l.children[0].getLayout().y+l.children[tt-1].getLayout().y)/2,(h=Math.atan2(a.y-c.y,a.x-c.x))<0&&(h=2*Math.PI+h),(b=a.x<c.x)&&(h-=Math.PI)):((h=Math.atan2(s.y-c.y,s.x-c.x))<0&&(h=2*Math.PI+h),0===e.children.length||0!==e.children.length&&!1===e.isExpand?(b=s.x<c.x)&&(h-=Math.PI):(b=s.x>c.x)||(h-=Math.PI));it=b?"left":"right";nt.setStyle({textPosition:it,textRotation:-h,textOrigin:"center",verticalAlign:"middle"})}e.parentNode&&e.parentNode!==k&&(y=i.__edge,y||(y=i.__edge=new lvt({shape:wst(f,w,w),style:o({opacity:0},f.lineStyle)})),p(y,{shape:wst(f,g,s),style:{opacity:1}},u),r.add(y))}function aei(n,t,i,r,u,f){for(var h,s,e=n.tree.getNodeByDataIndex(t),c=n.tree.root,f=cei(e,e.getModel(),f),o=e.parentNode===c?e:e.parentNode||e;null==(s=o.getLayout());)o=o.parentNode===c?o:o.parentNode||o;p(i,{position:[s.x+1,s.y+1]},u,function(){r.remove(i);n.setItemGraphicEl(t,null)});i.fadeOut(null,{keepLabel:!0});h=i.__edge;h&&p(h,{shape:wst(f,s,s),style:{opacity:0}},u,function(){r.remove(h)})}function wst(n,t,i){var s,h,c,l,o=n.orient;if("radial"===n.layout){var f=t.rawX,r=t.rawY,e=i.rawX,u=i.rawY,a=hp(f,r),v=hp(f,r+(u-r)*n.curvature),y=hp(e,u+(r-u)*n.curvature),p=hp(e,u);return{x1:a.x,y1:a.y,x2:p.x,y2:p.y,cpx1:v.x,cpy1:v.y,cpx2:y.x,cpy2:y.y}}var f=t.x,r=t.y,e=i.x,u=i.y;return"LR"!==o&&"RL"!==o||(s=f+(e-f)*n.curvature,h=r,c=e+(f-e)*n.curvature,l=u),"TB"!==o&&"BT"!==o||(s=f,h=r+(u-r)*n.curvature,c=e,l=u+(r-u)*n.curvature),{x1:f,y1:r,x2:e,y2:u,cpx1:s,cpy1:h,cpx2:c,cpy2:l}}function ycr(n,t,i){for(var r,u,f,e=[n],o=[];r=e.pop();)if((o.push(r),r.isExpand)&&(u=r.children,u.length))for(f=0;f<u.length;f++)e.push(u[f]);for(;r=o.pop();)t(r,i)}function cp(n,t){for(var i,r,u,f=[n];i=f.pop();)if((t(i),i.isExpand)&&(r=i.children,r.length))for(u=r.length-1;u>=0;u--)f.push(r[u])}function pcr(n,t){var a=scr(n,t),w,i,s;n.layoutInfo=a;var k=n.get("layout"),h=0,c=0,p=null;if("radial"===k?(h=2*Math.PI,c=Math.min(a.height,a.width)/2,p=sei(function(n,t){return(n.parentNode===t.parentNode?1:2)/n.depth})):(h=a.width,c=a.height,p=sei()),w=n.getData().tree.root,i=w.children[0],i){fcr(w);ycr(i,ecr,p);w.hierNode.modifier=-i.hierNode.prelim;cp(i,ocr);var v=i,r=i,y=i;cp(i,function(n){var t=n.getLayout().x;t<v.getLayout().x&&(v=n);t>r.getLayout().x&&(r=n);n.depth>y.depth&&(y=n)});var b=v===r?1:p(v,r)/2,l=b-v.getLayout().x,u=0,f=0,e=0,o=0;"radial"===k?(u=h/(r.getLayout().x+b+l),f=c/(y.depth-1||1),cp(i,function(n){e=(n.getLayout().x+l)*u;o=(n.depth-1)*f;var t=hp(e,o);n.setLayout({x:t.x,y:t.y,rawX:e,rawY:o},!0)})):(s=n.getOrient(),"RL"===s||"LR"===s?(f=c/(r.getLayout().x+b+l),u=h/(y.depth-1||1),cp(i,function(n){o=(n.getLayout().x+l)*f;e="LR"===s?(n.depth-1)*u:h-(n.depth-1)*u;n.setLayout({x:e,y:o},!0)})):"TB"!==s&&"BT"!==s||(u=h/(r.getLayout().x+b+l),f=c/(y.depth-1||1),cp(i,function(n){e=(n.getLayout().x+l)*u;o="TB"===s?(n.depth-1)*f:c-(n.depth-1)*f;n.setLayout({x:e,y:o},!0)})))}}function lp(n,t,i){var u,r,f;if(n&&b(t,n.type)>=0){if(u=i.getData().tree.root,r=n.targetNode,r&&u.contains(r))return{node:r};if(f=n.targetNodeId,null!=f&&(r=u.getNodeById(f)))return{node:r}}}function vei(n){for(var t=[];n;)(n=n.parentNode)&&t.push(n);return t.reverse()}function bst(n,t){return b(vei(n),t)>=0}function kst(n,t){for(var r,i=[];n;)r=n.dataIndex,i.push({name:n.name,dataIndex:r,value:t.getRawValue(r)}),n=n.parentNode;return i.reverse(),i}function yei(n){var u=0,r;t(n.children,function(n){yei(n);var t=n.value;i(t)&&(t=t[0]);u+=t});r=n.value;i(r)&&(r=r[0]);(null==r||isNaN(r))&&(r=u);r<0&&(r=0);i(n.value)?n.value[0]=r:n.value=r}function wcr(n,i){var r=i.get("color"),u;if(r)return t(n=n||[],function(n){var t=new tt(n),i=t.get("color");(t.get("itemStyle.color")||i&&"none"!==i)&&(u=!0)}),u||((n[0]||(n[0]={})).color=r.slice()),n}function dst(n){this.group=new f;n.add(this.group)}function bcr(n,t,i,r,u,f){var e=[[u?n:n-srt,t],[n+i,t],[n+i,t+r],[u?n:n-srt,t+r]];return!f&&e.splice(2,0,[n+i+srt,t+r/2]),!u&&e.push([n,t+r/2]),e}function kcr(n,t,i){n.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&kst(i,t)}}function dcr(){var t,n=[],i={};return{add:function(t,r,u,f,e){return yt(f)&&(e=f,f=0),!i[t.id]&&(i[t.id]=1,n.push({el:t,target:r,time:u,delay:f,easing:e}),!0)},done:function(n){return t=n,this},start:function(){for(var r,f=n.length,u=0,e=n.length;u<e;u++)r=n[u],r.el.animateTo(r.target,r.time,r.delay,r.easing,function(){--f||(n.length=0,i={},t&&t())});return this}}}function gcr(n,t,i,r,u,f,o,s,c,l){function it(n,t){ut?!n.invisible&&f.push(n):(t(),n.__tmWillVisible||(n.invisible=!1))}function rt(t,i,r,u,f,e){var c=o.getModel(),s=li(n.getFormattedLabel(o.dataIndex,"normal",null,null,e?"upperLabel":"label"),c.get("name")),l;!e&&a.isLeafRoot&&(l=n.get("drillDownIcon",!0),s=l?l+" "+s:s);var v=c.getModel(e?euu:uuu),p=c.getModel(e?ouu:fuu),y=v.getShallow("show");uu(t,i,v,p,{defaultText:y?s:null,autoColor:r,isRectText:!0});e&&(t.textRect=h(e));t.truncate=y&&v.get("ellipsis")?{outerWidth:u,outerHeight:f,minChar:2}:null}function w(n,r,f,e){var o=null!=d&&i[n][d],s=u[n];return o?(i[n][d]=null,ht(s,o,n)):ut||((o=new r({z:nlr(f,e)})).__tmDepth=f,o.__tmStorageName=n,ct(s,o,n)),t[n][k]=o}function ht(n,t,i){(n[k]={}).old="nodeGroup"===i?t.position.slice():e({},t.shape)}function ct(n,t,i){var s=n[k]={},h=o.parentNode;if(h&&(!r||"drillDown"===r.direction)){var c=0,e=0,f=u.background[h.getRawIndex()];!r&&f&&f.old&&(c=f.old.width,e=f.old.height);s.old="nodeGroup"===i?[0,e]:{x:c,y:e,width:0,height:0}}s.fadein="nodeGroup"!==i}var a,nt,tt;if(o&&(a=o.getLayout(),a&&a.isInView)){var p=a.width,b=a.height,y=a.borderWidth,ut=a.invisible,k=o.getRawIndex(),d=s&&s.getRawIndex(),ft=o.viewChildren,et=a.upperHeight,ot=ft&&ft.length,st=o.getModel("itemStyle"),g=o.getModel("emphasis.itemStyle"),v=w("nodeGroup",fbi);if(v)return(c.add(v),v.attr("position",[a.x||0,a.y||0]),v.__tmNodeWidth=p,v.__tmNodeHeight=b,a.isAboveViewRoot)?v:(nt=w("background",ebi,l,huu),(nt&&function(t,i,r){i.dataIndex=o.dataIndex;i.seriesIndex=n.seriesIndex;i.setShape({x:0,y:0,width:p,height:b});var u=o.getVisual("borderColor",!0),f=g.get("borderColor");it(i,function(){var t=obi(st),n,e;t.fill=u;n=spt(g);(n.fill=f,r)?(e=p-2*y,rt(t,n,u,e,et,{x:y,y:0,width:e,height:et})):t.text=n.text=null;i.setStyle(t);at(i,n)});t.add(i)}(v,nt,ot&&a.upperHeight),ot)||(tt=w("content",ebi,l,cuu),tt&&function(t,i){var r,u,f;i.dataIndex=o.dataIndex;i.seriesIndex=n.seriesIndex;r=Math.max(p-2*y,0);u=Math.max(b-2*y,0);i.culling=!0;i.setShape({x:y,y:y,width:r,height:u});f=o.getVisual("color",!0);it(i,function(){var n=obi(st),t;n.fill=f;t=spt(g);rt(n,t,f,r,u);i.setStyle(n);at(i,t)});t.add(i)}(v,tt)),v)}}function nlr(n,t){var i=n*suu+t;return(i-1)/i}function tlr(n){var i=n.pieceList;n.hasSpecialVisual=!1;t(i,function(t,i){t.originIndex=i;null!=t.visual&&(n.hasSpecialVisual=!0)})}function ilr(n){var u=n.categories,t=n.visual,e=n.categoryMap={},f,r;for((dw(u,function(n,t){e[n]=t}),i(t))||(f=[],a(t)?dw(t,function(n,t){var i=e[t];f[null!=i?i:lrt]=n}):f[lrt]=t,t=wei(n,f)),r=u.length-1;r>=0;r--)null==t[r]&&(delete e[u[r]],u.pop())}function gst(n,t){var r=n.visual,i=[],u;a(r)?dw(r,function(n){i.push(n)}):null!=r&&i.push(r);u={color:1,symbol:1};t||1!==i.length||u.hasOwnProperty(n.type)||(i[1]=i[0]);wei(n,i)}function ad(n){return{applyVisual:function(t,i,r){t=this.mapValueToVisual(t);r("color",n(i("color"),t))},_doMap:nht([0,1])}}function pei(n){var t=this.option.visual;return t[Math.round(dt(n,[0,1],[0,t.length-1],!0))]||{}}function vd(n){return function(t,i,r){r(n,this.mapValueToVisual(t))}}function yd(n){var t=this.option.visual;return t[this.option.loop&&n!==lrt?n%t.length:n]}function yh(){return this.option.visual[0]}function nht(n){return{linear:function(t){return dt(t,n,this.option.visual,!0)},category:yd,piecewise:function(t,i){var r=tht.call(this,i);return null==r&&(r=dt(t,n,this.option.visual,!0)),r},fixed:yh}}function tht(n){var i=this.option,r=i.pieceList,t;if(i.hasSpecialVisual&&(t=r[et.findPieceIndex(n,r)],t&&t.visual))return t.visual[this.type]}function wei(n,t){return n.visual=t,"color"===n.type&&(n.parsedVisual=r(t,function(n){return ru(n)})),t}function pd(n,t,i){return n?t<=i:t<i}function bei(n,i,r,u,f,e){var a=n.getModel(),s=n.getLayout(),o,p;if(s&&!s.invisible&&s.isInView){var l,h=n.getModel(cpt),c=rlr(h,i,r[n.depth],u),v=h.get("borderColor"),y=h.get("borderColorSaturation");null!=y&&(v=ulr(y,l=kei(c)));n.setVisual("borderColor",v);o=n.viewChildren;o&&o.length?(p=flr(n,a,s,h,c,o),t(o,function(n,t){(n.depth>=f.length||n===f[n.depth])&&bei(n,elr(a,c,n,t,p,e),r,u,f,e)})):(l=kei(c),n.setVisual("color",l))}}function rlr(n,i,r,u){var f=e({},i);return t(["color","colorAlpha","colorSaturation"],function(t){var e=n.get(t,!0);null==e&&r&&(e=r[t]);null==e&&(e=i[t]);null==e&&(e=u.get(t));null!=e&&(f[t]=e)}),f}function kei(n){var t=iht(n,"color"),i,r;if(t)return i=iht(n,"colorAlpha"),r=iht(n,"colorSaturation"),r&&(t=wl(t,null,null,r)),i&&(t=rk(t,i)),t}function ulr(n,t){return null!=t?wl(t,null,null,n):null}function iht(n,t){var i=n[t];if(null!=i&&"none"!==i)return i}function flr(n,t,i,r,u,f){var s,h,e,a;if(f&&f.length&&(s=rht(t,"color")||null!=u.color&&"none"!==u.color&&(rht(t,"colorAlpha")||rht(t,"colorSaturation")),s)){var c=t.get("visualMin"),l=t.get("visualMax"),o=i.dataExtent.slice();return null!=c&&c<o[0]&&(o[0]=c),null!=l&&l>o[1]&&(o[1]=l),h=t.get("colorMappingBy"),e={type:s.name,dataExtent:o,visual:s.range},"color"!==e.type||"index"!==h&&"id"!==h?e.mappingMethod="linear":(e.mappingMethod="category",e.loop=!0),a=new et(e),a.__drColorMappingBy=h,a}}function rht(n,t){var i=n.get(t);return luu(i)&&i.length?{name:t,range:i}:null}function elr(n,t,i,r,u,f){var o=e({},t);if(u){var s=u.type,h="color"===s&&u.__drColorMappingBy,c="index"===h?r:"id"===h?f.mapIdToIndex(i.getId()):i.getValue(n.get("visualDimension"));o[s]=u.mapValueToVisual(c)}return o}function dei(n,t,i,r){var o,s,y,b,e,d,g,nt,f,v;if(!n.isRemoved()){y=n.getLayout();o=y.width;s=y.height;var p=(h=n.getModel()).get(lbi),c=h.get(vuu)/2,tt=toi(h),it=Math.max(p,tt),w=p-c,rt=it-c,h=n.getModel();if(n.setLayout({borderWidth:p,upperHeight:it,upperLabelHeight:tt},!0),b=(o=gw(o-2*w,0))*(s=gw(s-w-rt,0)),e=olr(n,h,b,t,i,r),e.length){var l={x:w,y:rt,width:o,height:s},a=art(o,s),k=1/0,u=[];for(u.area=0,f=0,v=e.length;f<v;)d=e[f],u.push(d),u.area+=d.getLayout().area,g=llr(u,a,t.squareRatio),g<=k?(f++,k=g):(u.area-=u.pop().getLayout().area,gei(u,a,l,c,!1),a=art(l.width,l.height),u.length=u.area=0,k=1/0);for((u.length&&gei(u,a,l,c,!0),i)||(nt=h.get("childrenVisibleMin"),null!=nt&&b<nt&&(i=!0)),f=0,v=e.length;f<v;f++)dei(e[f],t,i,r+1)}}}function olr(n,t,i,r,u,f){var e=n.children||[],s=r.sort,c,o,h,l,a;if("asc"!==s&&"desc"!==s&&(s=null),c=null!=r.leafDepth&&r.leafDepth<=f,u&&!c)return n.viewChildren=[];if(hlr(e=ui(e,function(n){return!n.isRemoved()}),s),o=clr(t,e,s),0===o.sum)return n.viewChildren=[];if(o.sum=slr(t,i,o.sum,s,e),0===o.sum)return n.viewChildren=[];for(h=0,l=e.length;h<l;h++)a=e[h].getValue()/o.sum*i,e[h].setLayout({area:a});return c&&(e.length&&n.setLayout({isLeafRoot:!0},!0),e.length=0),n.viewChildren=e,n.setLayout({dataExtent:o.dataExtent},!0),e}function slr(n,t,i,r,u){var s;if(!r)return i;for(var h=n.get("visibleMin"),f=u.length,o=f,e=f-1;e>=0;e--)s=u["asc"===r?f-e-1:e].getValue(),s/i*t<h&&(o=e,i-=s);return"asc"===r?u.splice(0,f-o):u.splice(o,f-o),i}function hlr(n,t){return t&&n.sort(function(n,i){var r="asc"===t?n.getValue()-i.getValue():i.getValue()-n.getValue();return 0===r?"asc"===t?n.dataIndex-i.dataIndex:i.dataIndex-n.dataIndex:r}),n}function clr(n,t,i){for(var f,r,e=0,u=0,o=t.length;u<o;u++)e+=t[u].getValue();return f=n.get("visualDimension"),t&&t.length?"value"===f&&i?(r=[t[t.length-1].getValue(),t[0].getValue()],"asc"===i&&r.reverse()):(r=[1/0,-1/0],lpt(t,function(n){var t=n.getValue(f);t<r[0]&&(r[0]=t);t>r[1]&&(r[1]=t)})):r=[NaN,NaN],{sum:e,dataExtent:r}}function llr(n,t,i){for(var u,s,r,f=0,e=1/0,o=0,h=n.length;o<h;o++)(r=n[o].getLayout().area)&&(r<e&&(e=r),r>f&&(f=r));return u=n.area*n.area,s=t*t*i,u?gw(s*f/u,u/(s*e)):1/0}function gei(n,t,i,r,u){var o=t===i.width?0:1,f=1-o,s=["x","y"],h=["width","height"],a=i[s[o]],e=t?n.area/t:0,c,v;for((u||e>i[h[f]])&&(e=i[h[f]]),c=0,v=n.length;c<v;c++){var y=n[c],l={},p=e?y.getLayout().area/e:0,k=l[h[f]]=gw(e-2*r,0),w=i[s[o]]+i[h[o]]-a,b=c===v-1||w<p?w:p,d=l[h[o]]=gw(b-2*r,0);l[s[f]]=i[s[f]]+art(r,k/2);l[s[o]]=a+art(r,d/2);a+=b;y.setLayout(l,!0)}i[s[f]]+=e;i[h[f]]-=e}function alr(n,t,i,r,u){var e=(t||{}).node,y=[r,u],h,o,f,l,a,s,v;if(!e||e===i)return y;for(o=r*u,f=o*n.option.zoomToNodeRatio;h=e.parentNode;){for(var p=0,w=h.children,c=0,b=w.length;c<b;c++)p+=w[c].getValue();if(l=e.getValue(),0===l)return y;f*=p/l;a=h.getModel();s=a.get(lbi);(f+=4*s*s+(3*s+Math.max(s,toi(a)))*Math.pow(f,.5))>avt&&(f=avt);e=h}return f<o&&(f=o),v=Math.pow(f/o,.5),[r*v,u*v]}function vlr(n,t,i){var s,e,f,r,u,o;if(t)return{x:t.x,y:t.y};if((s={x:0,y:0},!i)||(e=i.node,f=e.getLayout(),!f))return s;for(r=[f.width/2,f.height/2],u=e;u;)o=u.getLayout(),r[0]+=o.x,r[1]+=o.y,u=u.parentNode;return{x:n.width/2-r[0],y:n.height/2-r[1]}}function noi(n,t,i,r,u){var f=n.getLayout(),e=i[u],o=e&&e===n,s;e&&!o||u===i.length&&n!==r||(n.setLayout({isInView:!0,invisible:!o&&!t.intersect(f),isAboveViewRoot:o},!0),s=new w(t.x-f.x,t.y-f.y,t.width,t.height),lpt(n.viewChildren||[],function(n){noi(n,s,i,r,u+1)}))}function toi(n){return n.get(yuu)?n.get(puu):0}function ua(n){return"_EC_"+n}function ku(n,t){this.id=null==n?"":n;this.inEdges=[];this.outEdges=[];this.edges=[];this.hostGraph;this.dataIndex=null==t?-1:t}function ap(n,t,i){this.node1=n;this.node2=t;this.dataIndex=null==i?-1:i}function uht(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}function ioi(n){return"_"+n+"Type"}function roi(n,t,r){var o=t.getItemVisual(r,"color"),f=t.getItemVisual(r,n),u=t.getItemVisual(r,n+"Size"),e;if(f&&"none"!==f)return i(u)||(u=[u,u]),e=br(f,-u[0]/2,-u[1]/2,u[0],u[1],o),e.name=n,e}function ylr(n){var t=new buu({name:"line"});return fht(t.shape,n),t}function fht(n,t){var r=t[0],u=t[1],i=t[2];n.x1=r[0];n.y1=r[1];n.x2=u[0];n.y2=u[1];n.percent=1;i?(n.cpx1=i[0],n.cpy1=i[1]):(n.cpx1=NaN,n.cpy1=NaN)}function vp(n,t,i){f.call(this);this._createLine(n,t,i)}function wd(n){this._ctor=n||vp;this.group=new f}function plr(n,t,i,r){if(eht(t.getItemLayout(i))){var u=new n._ctor(t,i,r);t.setItemGraphicEl(i,u);n.group.add(u)}}function wlr(n,t,i,r,u,f){var e=t.getItemGraphicEl(r);eht(i.getItemLayout(u))?(e?e.updateData(i,u,f):e=new n._ctor(i,u,f),i.setItemGraphicEl(u,e),n.group.add(e)):n.group.remove(e)}function uoi(n){var t=n.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function foi(n){return isNaN(n[0])||isNaN(n[1])}function eht(n){return!foi(n[0])&&!foi(n[1])}function eoi(n,t,i){for(var l,a,h,v,r,u=n[0],f=n[1],e=n[2],y=1/0,c=i*i,o=.1,s=.1;s<=.9;s+=.1)ppt[0]=yv(u[0],f[0],e[0],s),ppt[1]=yv(u[1],f[1],e[1],s),(h=ybi(kpt(ppt,t)-c))<y&&(y=h,r=s);for(l=0;l<32;l++){if(a=r+o,wpt[0]=yv(u[0],f[0],e[0],r),wpt[1]=yv(u[1],f[1],e[1],r),bpt[0]=yv(u[0],f[0],e[0],a),bpt[1]=yv(u[1],f[1],e[1],a),h=kpt(wpt,t)-c,ybi(h)<.01)break;v=kpt(bpt,t)-c;o/=2;h<0?v>=0?r+=o:r-=o:v>=0?r-=o:r+=o}return r}function ooi(n,t){return n.getVisual("opacity")||n.getModel().get(t)}function bd(n,t,i){var u=n.getGraphicEl(),r=ooi(n,t);null!=i&&(null==r&&(r=1),r*=i);u.downplay&&u.downplay();u.traverse(function(n){"group"!==n.type&&n.setStyle("opacity",r)})}function ph(n,t){var r=ooi(n,t),i=n.getGraphicEl();i.highlight&&i.highlight();i.traverse(function(n){"group"!==n.type&&n.setStyle("opacity",r)})}function kd(n){return n instanceof Array||(n=[n,n]),n}function soi(n){var i=n.coordinateSystem,t;i&&"view"!==i.type||(t=n.getGraph(),t.eachNode(function(n){var t=n.getModel();n.setLayout([+t.get("x"),+t.get("y")])}),hoi(t))}function hoi(n){n.eachEdge(function(n){var r=n.getModel().get("lineStyle.curveness")||0,t=yu(n.node1.getLayout()),i=yu(n.node2.getLayout()),u=[t,i];+r&&u.push([(t[0]+i[0])/2-(t[1]-i[1])*r,(t[1]+i[1])/2-(i[0]-t[0])*r]);n.setLayout(u)})}function coi(n){var u=n.coordinateSystem;if(!u||"view"===u.type){var t=u.getBoundingRect(),i=n.getData(),s=i.graph,r=0,f=i.getSum("value"),h=2*Math.PI/(f||i.count()),e=t.width/2+t.x,o=t.height/2+t.y,c=Math.min(t.width,t.height)/2;s.eachNode(function(n){var t=n.getValue("value");r+=h*(f?t:1)/2;n.setLayout([c*Math.cos(r)+e,c*Math.sin(r)+o]);r+=h*(f?t:1)/2});i.setLayout({cx:e,cy:o});s.eachEdge(function(n){var u,t=n.getModel().get("lineStyle.curveness")||0,i=yu(n.node1.getLayout()),r=yu(n.node2.getLayout()),f=(i[0]+r[0])/2,s=(i[1]+r[1])/2;+t&&(u=[e*(t*=3)+f*(1-t),o*t+s*(1-t)]);n.setLayout([i,r,u])})}}function blr(n,t,i){for(var u,r,f=i.rect,s=f.width,h=f.height,e=[f.x+s/2,f.y+h/2],c=null==i.gravity?.1:i.gravity,o=0;o<n.length;o++)u=n[o],u.p||(u.p=lo(s*(Math.random()-.5)+e[0],h*(Math.random()-.5)+e[1])),u.pp=yu(u.p),u.edges=null;return r=.6,{warmUp:function(){r=.5},setFixed:function(t){n[t].fixed=!0},setUnfixed:function(t){n[t].fixed=!1},step:function(i){for(var y,l,a,o,p,s,w,b,h,f=[],v=n.length,u=0;u<t.length;u++)y=t[u],o=y.n1,he(f,(s=y.n2).p,o.p),l=ry(f)-y.d,a=s.w/(o.w+s.w),isNaN(a)&&(a=0),al(f,f),!o.fixed&&gc(o.p,o.p,f,a*l*r),!s.fixed&&gc(s.p,s.p,f,-(1-a)*l*r);for(u=0;u<v;u++)(h=n[u]).fixed||(he(f,e,h.p),gc(h.p,h.p,f,c*r));for(u=0;u<v;u++)for(o=n[u],p=u+1;p<v;p++)s=n[p],he(f,s.p,o.p),0===(l=ry(f))&&(bkt(f,Math.random()-.5,Math.random()-.5),l=1),w=(o.rep+s.rep)/l/l,o.fixed||gc(o.pp,o.pp,f,w),s.fixed||gc(s.pp,s.pp,f,-w);for(b=[],u=0;u<v;u++)h=n[u],h.fixed||(he(b,h.p,h.pp),gc(h.p,h.p,b,r),wi(h.pp,h.p));r*=.992;i&&i(n,t,r<.01)}}}function klr(n,t,i){var r=n.getBoxLayoutParams();return r.aspect=i,fi(r,{width:t.getWidth(),height:t.getHeight()})}function dlr(n,t){var i=n.get("center"),r=t.getWidth(),f=t.getHeight(),e=Math.min(r,f);return{cx:u(i[0],t.getWidth()),cy:u(i[1],t.getHeight()),r:u(n.get("radius"),e/2)}}function loi(n,t){return t&&("string"==typeof t?n=t.replace("{value}",null!=n?n:""):"function"==typeof t&&(n=t(n))),n}function oht(n,t){function u(){i.ignore=i.hoverIgnore;r.ignore=r.hoverIgnore}function e(){i.ignore=i.normalIgnore;r.ignore=r.normalIgnore}f.call(this);var o=new gu,i=new gf,r=new d;this.add(o);this.add(i);this.add(r);this.updateData(n,t,!0);this.on("emphasis",u).on("normal",e).on("mouseover",u).on("mouseout",e)}function glr(n,t){return fi(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function nar(n,t){for(var f=n.mapDimension("value"),i=n.mapArray(f,function(n){return n}),r=[],e="ascending"===t,u=0,o=n.count();u<o;u++)r[u]=u;return"function"==typeof t?r.sort(t):"none"!==t&&r.sort(function(n,t){return e?i[n]-i[t]:i[t]-i[n]}),r}function tar(n){n.each(function(t){var f,r,e,h,v=n.getItemModel(t),o=v.getModel("label").get("position"),w=v.getModel("labelLine"),y=n.getItemLayout(t),i=y.points,p="inner"===o||"inside"===o||"center"===o,u,s,c,l,a;p?(f="center",h=[[r=(i[0][0]+i[1][0]+i[2][0]+i[3][0])/4,e=(i[0][1]+i[1][1]+i[2][1]+i[3][1])/4],[r,e]]):(l=w.get("length"),"left"===o?(u=(i[3][0]+i[0][0])/2,s=(i[3][1]+i[0][1])/2,r=(c=u-l)-5,f="right"):(u=(i[1][0]+i[2][0])/2,s=(i[1][1]+i[2][1])/2,r=(c=u+l)+5,f="left"),a=s,h=[[u,s],[c,a]],e=a);y.label={linePoints:h,x:r,y:e,verticalAlign:"middle",textAlign:f,inside:p}})}function iar(n){if(!n.parallel){var i=!1;t(n.series,function(n){n&&"parallel"===n.type&&(i=!0)});i&&(n.parallel=[{}])}}function rar(n){t(bi(n.parallelAxis),function(t){if(a(t)){var r=t.parallelIndex||0,i=bi(n.parallel)[r];i&&i.parallelAxisDefault&&v(t,i.parallelAxisDefault,!1)}})}function sht(n,t){var i=n[t]-n[1-t];return{span:Math.abs(i),sign:i>0?-1:i<0?1:t?-1:1}}function dd(n,t){return Math.min(t[1],Math.max(t[0],n))}function hht(n,t,i){this._axesMap=y();this._axesLayout={};this.dimensions=n.dimensions;this._rect;this._model=n;this._init(n,t,i)}function gd(n,t){return bbi(kbi(n,t[0]),t[1])}function uar(n,t){var i=t.layoutLength/(t.axisCount-1);return{position:i*n,axisNameAvailableWidth:i,axisLabelShow:!0}}function far(n,t){var r,u,h=t.layoutLength,f=t.axisExpandWidth,c=t.axisCount,i=t.axisCollapseWidth,e=t.winInnerIndices,o=i,s=!1;return n<e[0]?(r=n*i,u=i):n<=e[1]?(r=t.axisExpandWindow0Pos+n*f-t.axisExpandWindow[0],o=f,s=!0):(r=h-(c-1-n)*i,u=i),{position:r,axisNameAvailableWidth:o,axisLabelShow:s,nameTruncateMaxWidth:u}}function fa(n){ei.call(this);this._zr=n;this.group=new f;this._brushType;this._brushOption;this._panels;this._track=[];this._dragging;this._covers=[];this._creatingCover;this._creatingPanel;this._enableGlobalPan;this._uid="brushController_"+hfu++;this._handlers={};fe(cfu,function(n,t){this._handlers[t]=c(n,this)},this)}function ear(n,t){var i=n._zr;n._enableGlobalPan||lhr(i,tki,n._uid);fe(n._handlers,function(n,t){i.on(t,n)});n._brushType=t.brushType;n._brushOption=v(h(iki),t,!0)}function oar(n){var t=n._zr;ahr(t,tki,n._uid);fe(n._handlers,function(n,i){t.off(i,n)});n._brushType=n._brushOption=null}function aoi(n,t){var i=yrt[t.brushType].createCover(n,t);return i.__brushOption=t,poi(i,t),n.group.add(i),i}function voi(n,t){var i=lht(t);return i.endCreating&&(i.endCreating(n,t),poi(t,t.__brushOption)),t}function yoi(n,t){var i=t.__brushOption;lht(t).updateCoverShape(n,t,i.range,i)}function poi(n,t){var i=t.z;null==i&&(i=ufu);n.traverse(function(n){n.z=i;n.z2=i})}function cht(n,t){lht(t).updateCommon(n,t);yoi(n,t)}function lht(n){return yrt[n.__brushOption.brushType]}function aht(n,t,i){var r=n._panels,u,f;return r?(f=n._transform,fe(r,function(n){n.isTargetByCursor(t,i,f)&&(u=n)}),u):!0}function woi(n,t){var r=n._panels,i;return r?(i=t.__brushOption.panelId,null==i||r[i]):!0}function vht(n){var t=n._covers,i=t.length;return fe(t,function(t){n.group.remove(t)},n),t.length=0,!!i}function wh(n,t){var i=ifu(n._covers,function(n){var t=n.__brushOption,i=h(t.range);return{brushType:t.brushType,panelId:t.panelId,range:i}});n.trigger("brush",i,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function sar(n){var t=n._track;if(!t.length)return!1;var i=t[t.length-1],r=t[0],u=i[0]-r[0],f=i[1]-r[1];return rfu(u*u+f*f,.5)>ffu}function boi(n){var t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}function koi(n,t,i,r){var u=new f;return u.add(new st({name:"main",style:pht(i),silent:!0,draggable:!0,cursor:"move",drift:ps(n,t,u,"nswe"),ondragend:ps(wh,t,{isEnd:!0})})),fe(r,function(i){u.add(new st({name:i,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:ps(n,t,u,i),ondragend:ps(wh,t,{isEnd:!0})}))}),u}function doi(n,t,i,r){var f=r.brushStyle.lineWidth||0,u=wv(f,efu),s=i[0][0],h=i[1][0],e=s-f/2,o=h-f/2,a=i[0][1],v=i[1][1],c=a-u+f/2,l=v-u+f/2,y=a-s,p=v-h,w=y+f,b=p+f;ge(n,t,"main",s,h,y,p);r.transformable&&(ge(n,t,"w",e,o,u,b),ge(n,t,"e",c,o,u,b),ge(n,t,"n",e,o,w,u),ge(n,t,"s",e,l,w,u),ge(n,t,"nw",e,o,u,u),ge(n,t,"ne",c,o,u,u),ge(n,t,"sw",e,l,u,u),ge(n,t,"se",c,l,u,u))}function yht(n,t){var r=t.__brushOption,i=r.transformable,u=t.childAt(0);u.useStyle(pht(r));u.attr({silent:!i,cursor:i?"move":"default"});fe(["w","e","n","s","se","sw","ne","nw"],function(r){var u=t.childOfName(r),f=wht(n,r);u&&u.attr({silent:!i,invisible:!i,cursor:i?sfu[f]+"-resize":null})})}function ge(n,t,i,r,u,f,e){var o=t.childOfName(i);o&&o.setShape(lar(bht(n,t,[[r,u],[r+f,u+e]])))}function pht(n){return o({strokeNoScale:!0},n.brushStyle)}function goi(n,t,i,r){var u=[ib(n,i),ib(t,r)],f=[wv(n,i),wv(t,r)];return[[u[0],f[0]],[u[1],f[1]]]}function har(n){return oh(n.group)}function wht(n,t){if(t.length>1)return("e"===(i=[wht(n,(t=t.split(""))[0]),wht(n,t[1])])[0]||"w"===i[0])&&i.reverse(),i.join("");var i=oet({w:"left",e:"right",n:"top",s:"bottom"}[t],har(n));return{left:"w",right:"e",top:"n",bottom:"s"}[i]}function nsi(n,t,i,r,u,f,e){var s=r.__brushOption,o=n(s.range),h=tsi(i,f,e);fe(u.split(""),function(n){var t=ofu[n];o[t[0]][t[1]]+=h[t[0]]});s.range=t(goi(o[0][0],o[1][0],o[0][1],o[1][1]));cht(i,r);wh(i,{isEnd:!1})}function car(n,t,i,r){var f=t.__brushOption.range,u=tsi(n,i,r);fe(f,function(n){n[0]+=u[0];n[1]+=u[1]});cht(n,t);wh(n,{isEnd:!1})}function tsi(n,t,i){var r=n.group,u=r.transformCoordToLocal(t,i),f=r.transformCoordToLocal(0,0);return[u[0]-f[0],u[1]-f[1]]}function bht(n,t,i){var r=woi(n,t);return r&&!0!==r?r.clipPath(i,n._transform):h(i)}function lar(n){var t=ib(n[0][0],n[1][0]),i=ib(n[0][1],n[1][1]);return{x:t,y:i,width:wv(n[0][0],n[1][0])-t,height:wv(n[0][1],n[1][1])-i}}function aar(n,t,i){var r,e;if(n._brushType){var o=n._zr,f=n._covers,u=aht(n,t,i);if(!n._dragging)for(r=0;r<f.length;r++)if(e=f[r].__brushOption,u&&(!0===u||e.panelId===u.panelId)&&yrt[e.brushType].contain(f[r],i[0],i[1]))return;u&&o.setCursorStyle("crosshair")}}function kht(n){var t=n.event;t.preventDefault&&t.preventDefault()}function dht(n,t,i){return n.childOfName("main").contain(t,i)}function isi(n,t,i,r){var s,u=n._creatingCover,f=n._creatingPanel,o=n._brushOption,e,c;return(n._track.push(i.slice()),sar(n)||u)?(f&&!u&&("single"===o.brushMode&&vht(n),e=h(o),e.brushType=rsi(e.brushType,f),e.panelId=!0===f?null:f.panelId,u=n._creatingCover=aoi(n,e),n._covers.push(u)),u&&(c=yrt[rsi(n._brushType,f)],u.__brushOption.range=c.getCreatingRange(bht(n,u,n._track)),r&&(voi(n,u),c.updateCommon(n,u)),yoi(n,u),s={isEnd:r})):r&&"single"===o.brushMode&&o.removeOnClick&&aht(n,t,i)&&vht(n)&&(s={isEnd:r,removeOnClick:!0}),s}function rsi(n,t){return"auto"===n?t.defaultBrushType:n}function usi(n){if(this._dragging){kht(n);var t=isi(this,n,this.group.transformCoordToLocal(n.offsetX,n.offsetY),!0);this._dragging=!1;this._track=[];this._creatingCover=null;t&&wh(this,t)}}function fsi(n){return{createCover:function(t,i){return koi(ps(nsi,function(t){var i=[t,[0,100]];return n&&i.reverse(),i},function(t){return t[n]}),t,i,[["w","e"],["n","s"]][n])},getCreatingRange:function(t){var i=boi(t);return[ib(i[0][n],i[1][n]),wv(i[0][n],i[1][n])]},updateCoverShape:function(t,i,r,u){var f,e=woi(t,i),o,s;!0!==e&&e.getLinearBrushOtherExtent?f=e.getLinearBrushOtherExtent(n,t._transform):(o=t._zr,f=[0,[o.getWidth(),o.getHeight()][1-n]]);s=[r,f];n&&s.reverse();doi(t,i,s,u)},updateCommon:yht,contain:dht}}function esi(n){return n=ght(n),function(t){return tti(t,n)}}function osi(n,t){return n=ght(n),function(i){var r=null!=t?t:i,f=r?n.width:n.height,u=r?n.x:n.y;return[u,u+(f||0)]}}function ssi(n,t,i){return n=ght(n),function(r,u){return n.contain(u[0],u[1])&&!ast(r,t,i)}}function ght(n){return w.create(n)}function yar(n,t,i){return i&&"axisAreaSelect"===i.type&&t.findComponents({mainType:"parallelAxis",query:i})[0]===n}function par(n){var t=n.axis;return r(n.activeIntervals,function(n){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(n[0],!0),t.dataToCoord(n[1],!0)]}})}function war(n,t){return t.getComponent("parallel",n.get("parallelIndex"))}function nct(n,t){var i=n._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===t}function bar(n,i){var r,u;n.encodeDefine||(r=i.ecModel.getComponent("parallel",i.get("parallelIndex")),r&&(u=n.encodeDefine=y(),t(r.dimensions,function(n){var t=kar(n);u.set(n,t)})))}function kar(n){return+n.replace("dim","")}function dar(n,t,i){var f=n.model,r=n.getRect(),u=new st({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),e="horizontal"===f.get("layout")?"width":"height";return u.setShape(e,0),tr(u,{shape:{width:r.width,height:r.height}},t,i),u}function hsi(n,t,i,r){for(var f,o,e=[],u=0;u<i.length;u++)f=i[u],o=n.get(n.mapDimension(f),t),gar(o,r.getAxis(f).type)||e.push(r.dataToPoint(o,f));return e}function csi(n,t,i,r,u){var e=hsi(n,i,r,u),f=new gf({shape:{points:e},silent:!0,z2:10});return t.add(f),n.setItemGraphicEl(i,f),f}function lsi(n){var t=n.get("smooth",!0);return!0===t&&(t=twt),{lineStyle:n.getModel("lineStyle").getLineStyle(),smooth:null!=t?t:twt}}function tct(n,t,i,r){var f=r.lineStyle,u;t.hasItemOption&&(f=t.getItemModel(i).getModel("lineStyle").getLineStyle());n.useStyle(f);u=n.style;u.fill=null;u.stroke=t.getItemVisual(i,"color");u.opacity=t.getItemVisual(i,"opacity");r.smooth&&(n.shape.smooth=r.smooth)}function gar(n,t){return"category"===t?null==n:null==n||isNaN(n)}function nvr(n,t,i){var r=new st({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return tr(r,{shape:{width:n.width+20,height:n.height+20}},t,i),r}function ict(){function i(r,u){var o,s;if(u>=n.length)return r;for(var f=-1,c=r.length,l=n[u++],h={},e={};++f<c;)o=l(r[f]),s=e[o],s?s.push(r[f]):e[o]=[r[f]];return t(e,function(n,t){h[t]=i(n,u)}),h}function r(i,f){if(f>=n.length)return i;var e=[],o=u[f++];return t(i,function(n,t){e.push({key:t,values:r(n,f)})}),o?e.sort(function(n,t){return o(n.key,t.key)}):e}var n=[],u=[];return{key:function(t){return n.push(t),this},sortKeys:function(t){return u[n.length-1]=t,this},entries:function(n){return r(i(n,0),0)}}}function tvr(n,t){return fi(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ivr(n,t,i,r,u,f,e){uvr(n,t,i,u);ovr(n,t,f,r,e);vvr(n)}function rvr(n){t(n,function(n){var t=ea(n.outEdges,tg),i=ea(n.inEdges,tg),r=Math.max(t,i);n.setLayout({value:r},!0)})}function uvr(n,i,r,u){for(var s=[],h=[],e=[],c=[],o=0,f=0;f<i.length;f++)s[f]=1;for(f=0;f<n.length;f++)h[f]=n[f].inEdges.length,0===h[f]&&e.push(n[f]);for(;e.length;)t(e,function(u){u.setLayout({x:o},!0);u.setLayout({dx:r},!0);t(u.outEdges,function(t){var f=i.indexOf(t),r,u;s[f]=0;r=t.node2;u=n.indexOf(r);0==--h[u]&&c.push(r)})}),++o,e=c,c=[];for(f=0;f<s.length;f++);fvr(n,o);evr(n,(u-r)/(o-1))}function fvr(n,i){t(n,function(n){n.outEdges.length||n.setLayout({x:i-1},!0)})}function evr(n,i){t(n,function(n){var t=n.getLayout().x*i;n.setLayout({x:t},!0)})}function ovr(n,t,i,r,u){var f=ict().key(function(n){return n.getLayout().x}).sortKeys(bvr).entries(n).map(function(n){return n.values}),e;for(svr(n,f,t,i,r),rct(f,r,i),e=1;u>0;u--)hvr(f,e*=.99),rct(f,r,i),lvr(f,e),rct(f,r,i)}function svr(n,i,r,u,f){var e=[],o;t(i,function(n){var o=n.length,i=0,r;t(n,function(n){i+=n.getLayout().value});r=(u-(o-1)*f)/i;e.push(r)});e.sort(function(n,t){return n-t});o=e[0];t(i,function(n){t(n,function(n,t){n.setLayout({y:t},!0);var i=n.getLayout().value*o;n.setLayout({dy:i},!0)})});t(r,function(n){var t=+n.getValue()*o;n.setLayout({dy:t},!0)})}function rct(n,i,r){t(n,function(n){var t,f,u,e=0,s=n.length,o;for(n.sort(wvr),u=0;u<s;u++)(t=n[u],(f=e-t.getLayout().y)>0)&&(o=t.getLayout().y+f,t.setLayout({y:o},!0)),e=t.getLayout().y+t.getLayout().dy+i;if((f=e-i-r)>0)for(o=t.getLayout().y-f,t.setLayout({y:o},!0),e=t.getLayout().y,u=s-2;u>=0;--u)(f=(t=n[u]).getLayout().y+t.getLayout().dy+i-e)>0&&(o=t.getLayout().y-f,t.setLayout({y:o},!0)),e=t.getLayout().y})}function hvr(n,i){t(n.slice().reverse(),function(n){t(n,function(n){if(n.outEdges.length){var t=ea(n.outEdges,cvr)/ea(n.outEdges,tg),r=n.getLayout().y+(t-ng(n))*i;n.setLayout({y:r},!0)}})})}function cvr(n){return ng(n.node2)*n.getValue()}function lvr(n,i){t(n,function(n){t(n,function(n){if(n.inEdges.length){var t=ea(n.inEdges,avr)/ea(n.inEdges,tg),r=n.getLayout().y+(t-ng(n))*i;n.setLayout({y:r},!0)}})})}function avr(n){return ng(n.node1)*n.getValue()}function vvr(n){t(n,function(n){n.outEdges.sort(yvr);n.inEdges.sort(pvr)});t(n,function(n){var i=0,r=0;t(n.outEdges,function(n){n.setLayout({sy:i},!0);i+=n.getLayout().dy});t(n.inEdges,function(n){n.setLayout({ty:r},!0);r+=n.getLayout().dy})})}function yvr(n,t){return n.node2.getLayout().y-t.node2.getLayout().y}function pvr(n,t){return n.node1.getLayout().y-t.node1.getLayout().y}function ea(n,t){for(var r,u=0,f=n.length,i=-1;++i<f;)r=+t.call(n,n[i],i),isNaN(r)||(u+=r);return u}function ng(n){return n.getLayout().y+n.getLayout().dy/2}function wvr(n,t){return n.getLayout().y-t.getLayout().y}function bvr(n,t){return n-t}function tg(n){return n.getValue()}function asi(n,t,i,r,u){var f=n.ends,e=new pfu({shape:{points:u?kvr(f,r,n):f}});return vsi(n,e,t,i,u),e}function vsi(n,t,i,r,u){var o=i.hostModel;nf[u?"initProps":"updateProps"](t,{shape:{points:n.ends}},o,r);var e=i.getItemModel(r),s=e.getModel(vfu),h=i.getItemVisual(r,"color"),f=s.getItemStyle(["borderColor"]);f.stroke=h;f.strokeNoScale=!0;t.useStyle(f);t.z2=100;at(t,e.getModel(yfu).getItemStyle())}function kvr(n,t,i){return r(n,function(n){return n=n.slice(),n[t]=i.initBaseline,n})}function dvr(n){var t=[],i=[];return n.eachSeriesByType("boxplot",function(n){var u=n.getBaseAxis(),r=b(i,u);r<0&&(r=i.length,i[r]=u,t[r]={axis:u,seriesModels:[]});t[r].seriesModels.push(n)}),t}function gvr(n){var f,t,e=n.axis,r=n.seriesModels,o=r.length,y=n.boxWidthList=[],p=n.boxOffsetList=[],s=[],h;"category"===e.type?t=e.getBandWidth():(h=0,rb(r,function(n){h=Math.max(h,n.getData().count())}),f=e.getExtent(),Math.abs(f[1]-f[0]));rb(r,function(n){var r=n.get("boxWidth");i(r)||(r=[r,r]);s.push([u(r[0],t)||0,u(r[1],t)||0])});var c=.8*t-2,a=c/o*.3,l=(c-a*(o-1))/o,v=l/2-c/2;rb(r,function(n,t){p.push(v);v+=a+l;y.push(Math.min(Math.max(l,s[t][0]),s[t][1]))})}function nyr(n,t,i){function s(n,i,r){var s=e.get(i,r),f=[],o;return f[u]=n,f[a]=s,isNaN(n)||isNaN(s)?o=[NaN,NaN]:(o=nt.dataToPoint(f))[u]+=t,o}function v(n,t,i){var r=t.slice(),f=t.slice();r[u]+=c;f[u]-=c;i?n.push(r,f):n.push(f,r)}function l(n,t){var i=t.slice(),r=t.slice();i[u]-=c;r[u]+=c;n.push(i,r)}var nt=n.coordinateSystem,e=n.getData(),c=i/2,u="horizontal"===n.get("layout")?0:1,a=1-u,y=["x","y"],p=e.mapDimension(y[u]),o=e.mapDimension(y[a],!0),r;if(!(null==p||o.length<5))for(r=0;r<e.count();r++){var h=e.get(p,r),w=s(h,o[2],r),b=s(h,o[0],r),k=s(h,o[1],r),d=s(h,o[3],r),g=s(h,o[4],r),f=[];v(f,k,0);v(f,d,1);f.push(b,k,g,d);l(f,b);l(f,g);l(f,w);e.setItemLayout(r,{initBaseline:w[a],ends:f})}}function uct(n,t,i){var r=n.ends;return new bfu({shape:{points:i?tyr(r,n):r},z2:100})}function fct(n,t,i,r){var u=t.getItemModel(i),e=u.getModel(ski),f=t.getItemVisual(i,"color"),o=t.getItemVisual(i,"borderColor")||f,s=e.getItemStyle(hki);n.useStyle(s);n.style.strokeNoScale=!0;n.style.fill=f;n.style.stroke=o;n.__simpleBox=r;at(n,u.getModel(wfu).getItemStyle())}function tyr(n,t){return r(n,function(n){return n=n.slice(),n[1]=t.initBaseline,n})}function ysi(n,t,i){var u=n.getData(),e=u.getLayout("largePoints"),f=new cki({shape:{points:e},__sign:1}),r;t.add(f);r=new cki({shape:{points:e},__sign:-1});t.add(r);psi(1,f,n,u);psi(-1,r,n,u);i&&(f.incremental=!0,r.incremental=!0)}function psi(n,t,i,r){var u=n>0?"P":"N",f=r.getVisual("borderColor"+u)||r.getVisual("color"+u),e=i.getModel(ski).getItemStyle(hki);t.useStyle(e);t.style.fill=null;t.style.stroke=f}function wsi(n,t,i,r,u){return i>r?-1:i<r?1:t>0?n.get(u,t-1)<=r?1:-1:1}function iyr(n,t){var r,f=n.getBaseAxis(),i="category"===f.type?f.getBandWidth():(r=f.getExtent(),Math.abs(r[1]-r[0])/t.count()),o=u(oi(n.get("barMaxWidth"),i),i),s=u(oi(n.get("barMinWidth"),1),i),e=n.get("barWidth");return null!=e?u(e,i):Math.max(Math.min(i/2,o),s)}function ryr(n){return i(n)||(n=[+n,+n]),n}function bsi(n,t){n.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?t.color:null,fill:"fill"===t.brushType?t.color:null}})})}function ect(n,t){f.call(this);var i=new ns(n,t),r=new f;this.add(i);this.add(r);r.beforeUpdate=function(){this.attr(i.getScale())};this.updateData(n,t)}function ksi(n){var t=n.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(n.data=r(t,function(n){var t={coords:[n[0].coord,n[1].coord]};return n[0].name&&(t.fromName=n[0].name),n[1].name&&(t.toName=n[1].name),gv([t,n[0],n[1]])}))}function yp(n,t,i){f.call(this);this.add(this.createLine(n,t,i));this._updateEffectSymbol(n,t)}function ig(n,t,i){f.call(this);this._createPolyline(n,t,i)}function oct(n,t,i){yp.call(this,n,t,i);this._lastFrame=0;this._lastFramePercent=0}function dsi(){this.group=new f}function rg(n){return n instanceof Array||(n=[n,n]),n}function gsi(){var n=aa();this.canvas=n;this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}function uyr(n,t,i){var e=n[1]-n[0],f=(t=r(t,function(t){return{interval:[(t.interval[0]-n[0])/e,(t.interval[1]-n[0])/e]}})).length,u=0;return function(n){for(var e,r=u;r<f;r++)if((e=t[r].interval)[0]<=n&&n<=e[1]){u=r;break}if(r===f)for(r=u-1;r>=0;r--)if(e=t[r].interval,e[0]<=n&&n<=e[1]){u=r;break}return r>=0&&r<f&&i[r]}}function fyr(n,t){var i=n[1]-n[0];return t=[(t[0]-n[0])/i,(t[1]-n[0])/i],function(n){return n>=t[0]&&n<=t[1]}}function eyr(n){var t=n.dimensions;return"lng"===t[0]&&"lat"===t[1]}function nhi(n,t,r,f){var s=n.getItemLayout(t),h=r.get("symbolRepeat"),l=r.get("symbolClip"),p=r.get("symbolPosition")||"start",a=(r.get("symbolRotate")||0)*Math.PI/180||0,v=r.get("symbolPatternSize")||2,y=r.isAnimationEnabled(),e={dataIndex:t,layout:s,itemModel:r,symbolType:n.getItemVisual(t,"symbol")||"circle",color:n.getItemVisual(t,"color"),symbolClip:l,symbolRepeat:h,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:v,rotation:a,animationModel:y?r:null,hoverAnimation:y&&r.get("hoverAnimation"),z2:r.getShallow("z",!0)||0},c,o;return oyr(r,h,s,f,e),syr(n,t,s,h,l,e.boundingLength,e.pxSign,v,f,e),hyr(r,e.symbolScale,a,f,e),c=e.symbolSize,o=r.get("symbolOffset"),i(o)&&(o=[u(o[0],c[0]),u(o[1],c[1])]),cyr(r,c,s,h,l,o,p,e.valueLineWidth,e.boundingLength,e.repeatCutLength,f,e),e}function oyr(n,t,r,u,f){var e,c=u.valueDim,o=n.get("symbolBoundingData"),s=u.coordSys.getOtherAxis(u.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),a=1-+(r[c.wh]<=0),h;i(o)?(h=[sct(s,o[0])-l,sct(s,o[1])-l],h[1]<h[0]&&h.reverse(),e=h[a]):e=null!=o?sct(s,o)-l:t?u.coordSysExtent[c.index][a]-l:r[c.wh];f.boundingLength=e;t&&(f.repeatCutLength=r[c.wh]);f.pxSign=e>0?1:e<0?-1:0}function sct(n,t){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(t)))}function syr(n,t,r,f,e,o,s,h,c,l){var v=c.valueDim,y=c.categoryDim,p=Math.abs(r[y.wh]),a=n.getItemVisual(t,"symbolSize");i(a)?a=a.slice():(null==a&&(a="100%"),a=[a,a]);a[y.index]=u(a[y.index],p);a[v.index]=u(a[v.index],f?p:Math.abs(o));l.symbolSize=a;(l.symbolScale=[a[0]/h,a[1]/h])[v.index]*=(c.isHorizontal?-1:1)*s}function hyr(n,t,i,r,u){var f=n.get(oeu)||0;f&&(ewt.attr({scale:t.slice(),rotation:i}),ewt.updateTransform(),f/=ewt.getLineScale(),f*=t[r.valueDim.index]);u.valueLineWidth=f}function cyr(n,t,i,r,f,o,s,h,c,l,a,v){var w=a.categoryDim,p=a.valueDim,et=v.pxSign,g=Math.max(t[p.index]+h,0),ot=g,rt,k,ut,ft,d;if(r){var st=Math.abs(c),y=li(n.get("symbolMargin"),"15%")+"",nt=!1;y.lastIndexOf("!")===y.length-1&&(nt=!0,y=y.slice(0,y.length-1));y=u(y,t[p.index]);var tt=Math.max(g+2*y,0),it=nt?0:2*y,ht=oti(r),b=ht?r:lhi((st+it)/tt);tt=g+2*(y=(st-b*g)/2/(nt?b:b-1));it=nt?0:2*y;ht||"fixed"===r||(b=l?lhi((Math.abs(l)+it)/tt):0);ot=b*tt-it;v.repeatTimes=b;v.symbolMargin=y}rt=et*(ot/2);k=v.pathPosition=[];k[w.index]=i[w.wh]/2;k[p.index]="start"===s?rt:"end"===s?c-rt:c/2;o&&(k[0]+=o[0],k[1]+=o[1]);ut=v.bundlePosition=[];ut[w.index]=i[w.xy];ut[p.index]=i[p.xy];ft=v.barRectShape=e({},i);ft[p.wh]=et*Math.max(Math.abs(i[p.wh]),Math.abs(k[p.index]+rt));ft[w.wh]=i[w.wh];d=v.clipShape={};d[w.xy]=-i[w.xy];d[w.wh]=a.ecSize[w.wh];d[p.xy]=0;d[p.wh]=i[p.wh]}function thi(n){var t=n.symbolPatternSize,i=br(n.symbolType,-t/2,-t/2,t,t,n.color);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function ihi(n,t,i,r){function s(n){var t=c.slice(),r=i.pxSign,u=n;return("start"===i.symbolRepeatDirection?r>0:r<0)&&(u=e-1-n),t[l.index]=y*(u-e/2+.5)+c[l.index],{position:t,scale:i.symbolScale.slice(),rotation:i.rotation}}var h=n.__pictorialBundle,a=i.symbolSize,v=i.valueLineWidth,c=i.pathPosition,l=t.valueDim,e=i.repeatTimes||0,u=0,y=a[t.valueDim.index]+v+2*i.symbolMargin,f,o;for(pp(n,function(n){n.__pictorialAnimationIndex=u;n.__pictorialRepeatTimes=e;u<e?oa(n,null,s(u),i,r):oa(n,null,{scale:[0,0]},i,r,function(){h.remove(n)});hct(n,i);u++});u<e;u++)f=thi(i),f.__pictorialAnimationIndex=u,f.__pictorialRepeatTimes=e,h.add(f),o=s(u),oa(f,{position:o.position,scale:[0,0]},{scale:o.scale,rotation:o.rotation},i,r),f.on("mouseover",function(){pp(n,function(n){n.trigger("emphasis")})}).on("mouseout",function(){pp(n,function(n){n.trigger("normal")})}),hct(f,i)}function rhi(n,t,i,r){var f=n.__pictorialBundle,u=n.__pictorialMainPath;u?oa(u,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,r):(u=n.__pictorialMainPath=thi(i),f.add(u),oa(u,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,r),u.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")}));hct(u,i)}function uhi(n,t,i){var u=e({},t.barRectShape),r=n.__pictorialBarRect;r?oa(r,null,{shape:u},t,i):(r=n.__pictorialBarRect=new st({z2:2,shape:u,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),n.add(r))}function fhi(n,t,i,r){var s;if(i.symbolClip){var u=n.__pictorialClipPath,f=e({},i.clipShape),o=t.valueDim,h=i.animationModel,c=i.dataIndex;u?p(u,{shape:f},h,c):(f[o.wh]=0,u=new st({shape:f}),n.__pictorialBundle.setClipPath(u),n.__pictorialClipPath=u,s={},s[o.wh]=i.clipShape[o.wh],nf[r?"updateProps":"initProps"](u,{shape:s},h,c))}}function ehi(n,t){var i=n.getItemModel(t);return i.getAnimationDelayParams=lyr,i.isAnimationEnabled=ayr,i}function lyr(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function ayr(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function hct(n,t){n.off("emphasis").off("normal");var i=t.symbolScale.slice();t.hoverAnimation&&n.on("emphasis",function(){this.animateTo({scale:[1.1*i[0],1.1*i[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:i.slice()},400,"elasticOut")})}function ohi(n,t,i,r){var u=new f,e=new f;return u.add(e),u.__pictorialBundle=e,e.attr("position",i.bundlePosition.slice()),i.symbolRepeat?ihi(u,t,i):rhi(u,t,i),uhi(u,i,r),fhi(u,t,i,r),u.__pictorialShapeStr=hhi(n,i),u.__pictorialSymbolMeta=i,u}function vyr(n,t,i){var r=i.animationModel,u=i.dataIndex;p(n.__pictorialBundle,{position:i.bundlePosition.slice()},r,u);i.symbolRepeat?ihi(n,t,i,!0):rhi(n,t,i,!0);uhi(n,i,!0);fhi(n,t,i,!0)}function shi(n,i,r,u){var e=u.__pictorialBarRect,f;e&&(e.style.text=null);f=[];pp(u,function(n){f.push(n)});u.__pictorialMainPath&&f.push(u.__pictorialMainPath);u.__pictorialClipPath&&(r=null);t(f,function(n){p(n,{scale:[0,0]},r,i,function(){u.parent&&u.parent.remove(u)})});n.setItemGraphicEl(i,null)}function hhi(n,t){return[n.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function pp(n,i,r){t(n.__pictorialBundle.children(),function(t){t!==n.__pictorialBarRect&&i.call(r,t)})}function oa(n,t,i,r,u,f){t&&n.attr(t);r.symbolClip&&!u?i&&n.attr(i):i&&nf[u?"updateProps":"initProps"](n,i,r.animationModel,r.dataIndex,f)}function chi(n,t,i){var u=i.color,h=i.dataIndex,r=i.itemModel,c=r.getModel("itemStyle").getItemStyle(["color"]),l=r.getModel("emphasis.itemStyle").getItemStyle(),f=r.getShallow("cursor");pp(n,function(n){n.setColor(u);n.setStyle(o({fill:u,opacity:i.opacity},c));at(n,l);f&&(n.cursor=f);n.z2=i.z2});var e={},a=t.valueDim.posDesc[+(i.boundingLength>0)],s=n.__pictorialBarRect;ffi(s.style,e,r,u,t.seriesModel,h,a);at(s,e)}function lhi(n){var t=Math.round(n);return Math.abs(n-t)<.0001?t:Math.ceil(n)}function ug(n,t,i){this.dimension="single";this.dimensions=["single"];this._axis=null;this._rect;this._init(n,t,i);this.model=n}function cct(n,t){var c,l,f;t=t||{};var a=n.coordinateSystem,s=n.axis,i={},e=s.position,o=s.orient,r=a.getRect(),u=[r.x,r.x+r.width,r.y,r.y+r.height],h={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};return i.position=["vertical"===o?h.vertical[e]:u[0],"horizontal"===o?h.horizontal[e]:u[3]],c={horizontal:0,vertical:1},i.rotation=Math.PI/2*c[o],l={top:-1,bottom:1,right:1,left:-1},i.labelDirection=i.tickDirection=i.nameDirection=l[e],n.get("axisTick.inside")&&(i.tickDirection=-i.tickDirection),li(t.labelInside,n.get("axisLabel.inside"))&&(i.labelDirection=-i.labelDirection),f=t.rotate,null==f&&(f=n.get("axisLabel.rotate")),i.labelRotation="top"===e?-f:f,i.z2=1,i}function ahi(n,t,i,r,u){var o=n.axis;if(!o.scale.isBlank()&&o.containData(t))if(n.involveSeries){var s=yyr(t,n),h=s.payloadBatch,f=s.snapToValue;h[0]&&null==u.seriesIndex&&e(u,h[0]);!r&&n.snap&&o.containData(f)&&null!=f&&(t=f);i.showPointer(n,t,h,u);i.showTooltip(n,s,f)}else i.showPointer(n,t)}function yyr(n,t){var i=t.axis,o=i.dim,f=n,r=[],u=Number.MAX_VALUE,e=-1;return ee(t.seriesModels,function(t){var s,h,a=t.getData().mapDimension(o,!0),v,c,l;if(t.getAxisTooltipData)v=t.getAxisTooltipData(a,n,i),h=v.dataIndices,s=v.nestestValue;else{if(!(h=t.getData().indicesOfNearest(a[0],n,"category"===i.type?.5:null)).length)return;s=t.getData().get(a[0],h[0])}null!=s&&isFinite(s)&&(c=n-s,l=Math.abs(c),l<=u&&((l<u||c>=0&&e<0)&&(u=l,e=c,f=s,r.length=0),ee(h,function(n){r.push({seriesIndex:t.seriesIndex,dataIndexInside:n,dataIndex:t.getData().getRawIndex(n)})})))}),{payloadBatch:r,snapToValue:f}}function pyr(n,t,i,r){n[t.key]={value:i,payloadBatch:r}}function wyr(n,t,i,r){var o=i.payloadBatch,s=t.axis,e=s.model,h=t.axisPointerModel;if(t.triggerTooltip&&o.length){var u=t.coordSys.model,c=op(u),f=n.map[c];f||(f=n.map[c]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},n.list.push(f));f.dataByAxis.push({axisDim:s.dim,axisIndex:e.componentIndex,axisType:e.type,axisId:e.id,value:r,valueLabelOpt:{precision:h.get("label.precision"),formatter:h.get("label.formatter")},seriesDataIndices:o.slice()})}}function byr(n,t,i){var r=i.axesInfo=[];ee(t,function(t,i){var u=t.axisPointerModel.option,f=n[i];f?(!t.useHandle&&(u.status="show"),u.value=f.value,u.seriesDataIndices=(f.payloadBatch||[]).slice()):!t.useHandle&&(u.status="hide");"show"===u.status&&r.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:u.value})})}function kyr(n,t,i,r){if(!fg(t)&&n.list.length){var u=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:u.dataIndexInside,dataIndex:u.dataIndex,seriesIndex:u.seriesIndex,dataByCoordSys:n.list})}else r({type:"hideTip"})}function dyr(n,i,r){var o=r.getZr(),s=bki(o).axisPointerLastHighlights||{},e=bki(o).axisPointerLastHighlights={},u,f;ee(n,function(n){var t=n.axisPointerModel.option;"show"===t.status&&ee(t.seriesDataIndices,function(n){var t=n.seriesIndex+" | "+n.dataIndex;e[t]=n})});u=[];f=[];t(s,function(n,t){e[t]||f.push(n)});t(e,function(n,t){s[t]||u.push(n)});f.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,batch:f});u.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,batch:u})}function gyr(n,t){for(var r,i=0;i<(n||[]).length;i++)if(r=n[i],t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}function vhi(n){var i=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=i.componentIndex,t.axisName=t[r+"AxisName"]=i.name,t.axisId=t[r+"AxisId"]=i.id,t}function fg(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function yhi(n,t,i){if(!k.node){var r=t.getZr();oo(r).records||(oo(r).records={});npr(r,t);(oo(r).records[n]||(oo(r).records[n]={})).handler=i}}function npr(n,t){function i(i,r){n.on(i,function(i){var u=rpr(t);ceu(oo(n).records,function(n){n&&r(n,i,u.dispatchAction)});tpr(u.pendings,t)})}oo(n).initialized||(oo(n).initialized=!0,i("click",l(phi,"click")),i("mousemove",l(phi,"mousemove")),i("globalout",ipr))}function tpr(n,t){var i,r=n.showTip.length,u=n.hideTip.length;r?i=n.showTip[r-1]:u&&(i=n.hideTip[u-1]);i&&(i.dispatchAction=null,t.dispatchAction(i))}function ipr(n,t,i){n.handler("leave",null,i)}function phi(n,t,i,r){t.handler(n,i,r)}function rpr(n){var t={showTip:[],hideTip:[]},i=function(r){var u=t[r.type];u?u.push(r):(r.dispatchAction=i,n.dispatchAction(r))};return{dispatchAction:i,pendings:t}}function lct(n,t){if(!k.node){var i=t.getZr();(oo(i).records||{})[n]&&(oo(i).records[n]=null)}}function sa(){}function whi(n,t,i,r){bhi(nl(i).lastProp,r)||(nl(i).lastProp=r,t?p(i,r,n):(i.stopAnimation(),i.attr(r)))}function bhi(n,i){if(a(n)&&a(i)){var r=!0;return t(i,function(t,i){r=r&&bhi(n[i],t)}),!!r}return n===i}function khi(n,t){n[t.get("label.show")?"show":"hide"]()}function act(n){return{position:n.position.slice(),rotation:n.rotation||0}}function dhi(n,t,i){var r=t.get("z"),u=t.get("zlevel");n&&n.traverse(function(n){"group"!==n.type&&(null!=r&&(n.z=r),null!=u&&(n.zlevel=u),n.silent=i)})}function vct(n){var t,i=n.get("type"),r=n.getModel(i+"Style");return"line"===i?(t=r.getLineStyle()).fill=null:"shadow"===i&&((t=r.getAreaStyle()).stroke=null),t}function ghi(n,t,i,r,u){var a=nci(i.get("value"),t.axis,t.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),f=i.getModel("label"),s=oc(f.get("padding")||0),v=f.getFont(),y=ve(a,v),e=u.position,h=y.width+s[1]+s[3],c=y.height+s[0]+s[2],p=u.align,l,o;"right"===p&&(e[0]-=h);"center"===p&&(e[0]-=h/2);l=u.verticalAlign;"bottom"===l&&(e[1]-=c);"middle"===l&&(e[1]-=c/2);upr(e,h,c,r);o=f.get("backgroundColor");o&&"auto"!==o||(o=t.get("axisLine.lineStyle.color"));n.label={shape:{x:0,y:0,width:h,height:c,r:f.get("borderRadius")},position:e.slice(),style:{text:a,textFont:v,textFill:f.getTextColor(),textPosition:"inside",fill:o,stroke:f.get("borderColor")||"transparent",lineWidth:f.get("borderWidth")||0,shadowBlur:f.get("shadowBlur"),shadowColor:f.get("shadowColor"),shadowOffsetX:f.get("shadowOffsetX"),shadowOffsetY:f.get("shadowOffsetY")},z2:10}}function upr(n,t,i,r){var u=r.getWidth(),f=r.getHeight();n[0]=Math.min(n[0]+t,u)-t;n[1]=Math.min(n[1]+i,f)-i;n[0]=Math.max(n[0],0);n[1]=Math.max(n[1],0)}function nci(n,i,r,u,f){var o,e,s;return n=i.scale.parse(n),o=i.scale.getLabel(n,{precision:f.precision}),e=f.formatter,e&&(s={value:kot(i,n),seriesData:[]},t(u,function(n){var t=r.getSeriesByIndex(n.seriesIndex),u=n.dataIndexInside,i=t&&t.getDataParams(u);i&&s.seriesData.push(i)}),yt(e)?o=e.replace("{value}",o):vr(e)&&(o=e(s))),o}function yct(n,t,i){var r=iu();return ao(r,r,i.rotation),ef(r,r,i.position),lf([n.dataToCoord(t),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],r)}function tci(n,t,i,r,u,f){var e=uf.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=u.get("label.margin");ghi(t,r,u,f,{position:yct(r.axis,n,i),align:e.textAlign,verticalAlign:e.textVerticalAlign})}function pct(n,t,i){return i=i||0,{x1:n[i],y1:n[1-i],x2:t[i],y2:t[1-i]}}function ici(n,t,i){return i=i||0,{x:n[i],y:n[1-i],width:t[i],height:t[1-i]}}function rci(n,t,i,r,u,f){return{cx:n,cy:t,r0:i,r:r,startAngle:u,endAngle:f,clockwise:!0}}function uci(n,t){var i={};return i[t.dim+"AxisIndex"]=t.index,n.getCartesian(i)}function fci(n){return"x"===n.dim?0:1}function eg(n){return n.isHorizontal()?0:1}function wct(n,t){var i=n.getRect();return[i[tdi[t]],i[tdi[t]]+i[leu[t]]]}function fpr(n,t,i){var r=new st({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return tr(r,{shape:{width:n.width+20,height:n.height+20}},t,i),r}function eci(n,t,i){var f;if(n.count())for(var s,l=t.coordinateSystem,o=t.getLayerSeries(),a=n.mapDimension("single"),v=n.mapDimension("value"),e=r(o,function(t){return r(t.indices,function(t){var i=l.dataToPoint(n.get(a,t));return i[1]=n.get(v,t),i})}),c=epr(e),y=c.y0,h=i/c.max,p=o.length,w=o[0].indices.length,u=0;u<w;++u)for(s=y[u]*h,n.setItemLayout(o[0].indices[u],{layerIndex:0,x:e[0][u][0],y0:s,y:e[0][u][1]*h}),f=1;f<p;++f)s+=e[f-1][u][1]*h,n.setItemLayout(o[f].indices[u],{layerIndex:f,x:e[f][u][0],y0:s,y:e[f][u][1]*h})}function epr(n){for(var f,i,r,u,l,a=n.length,e=n[0].length,o=[],s=[],t=0,h={},c=0;c<e;++c){for(f=0,i=0;f<a;++f)i+=n[f][c][1];i>t&&(t=i);o.push(i)}for(r=0;r<e;++r)s[r]=(t-o[r])/2;for(t=0,u=0;u<e;++u)l=o[u]+s[u],l>t&&(t=l);return h.y0=s,h.max=t,h}function oci(n){var u=0,r;t(n.children,function(n){oci(n);var t=n.value;i(t)&&(t=t[0]);u+=t});r=n.value;i(r)&&(r=r[0]);(null==r||isNaN(r))&&(r=u);r<0&&(r=0);i(n.value)?n.value[0]=r:n.value=r}function og(n,t,i){function e(){r.ignore=r.hoverIgnore}function o(){r.ignore=r.normalIgnore}var u,r;f.call(this);u=new to({z2:yeu});u.seriesIndex=t.seriesIndex;r=new d({z2:peu,silent:n.getModel("label").get("silent")});this.add(u);this.add(r);this.updateData(!0,n,"normal",t,i);this.on("emphasis",e).on("normal",o).on("mouseover",e).on("mouseout",o)}function opr(n,t,i){var r=n.getVisual("color"),f=n.getVisual("visualMeta"),u,e;return(f&&0!==f.length||(r=null),u=n.getModel("itemStyle").get("color"),u)?u:r?r:0===n.depth?i.option.color[0]:(e=i.option.color.length,i.option.color[spr(n)%e])}function spr(n){for(var t=n;t.depth>1;)t=t.parentNode;return b(n.getAncestors()[0].children,t)}function hpr(n,t,i){return i!==prt.NONE&&(i===prt.SELF?n===t:i===prt.ANCESTOR?n===t||n.isAncestorOf(t):n===t||n.isDescendantOf(t))}function sci(n,i){var r=n.children||[];n.children=cpr(r,i);r.length&&t(n.children,function(n){sci(n,i)})}function cpr(n,t){if("function"==typeof t)return n.sort(t);var i="asc"===t;return n.sort(function(n,t){var r=(n.getValue()-t.getValue())*(i?1:-1);return 0===r?(n.dataIndex-t.dataIndex)*(i?-1:1):r})}function lpr(n,t){return t=t||[0,0],r(["x","y"],function(i,r){var u=this.getAxis(i),f=t[r],e=n[r]/2;return"category"===u.type?u.getBandWidth():Math.abs(u.dataToCoord(f-e)-u.dataToCoord(f+e))},this)}function apr(n,t){return t=t||[0,0],r([0,1],function(i){var f=t[i],e=n[i]/2,r=[],u=[];return r[i]=f-e,u[i]=f+e,r[1-i]=u[1-i]=t[1-i],Math.abs(this.dataToPoint(r)[i]-this.dataToPoint(u)[i])},this)}function vpr(n,t){var i=this.getAxis(),r=t instanceof Array?t[0]:t,u=(n instanceof Array?n[0]:n)/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(r-u)-i.dataToCoord(r+u))}function ypr(n,t){return r(["Radius","Angle"],function(i,r){var u=this["get"+i+"Axis"](),e=t[r],o=n[r]/2,s="dataTo"+i,f="category"===u.type?u.getBandWidth():Math.abs(u[s](e-o)-u[s](e+o));return"Angle"===i&&(f=f*Math.PI/180),f},this)}function ppr(n){var t,i=n.type,r;return"path"===i?(r=n.shape,(t=ay(r.pathData,null,{x:r.x||0,y:r.y||0,width:r.width||0,height:r.height||0},"center")).__customPathData=n.pathData):"image"===i?(t=new gi({})).__customImagePath=n.style.image:"text"===i?(t=new d({})).__customText=n.style.text:t=new nf[i.charAt(0).toUpperCase()+i.slice(1)],t.__customGraphicType=i,t.name=n.name,t}function wpr(n,i,r,u,f,e){var s={},o=r.style||{},c,l;(r.shape&&(s.shape=h(r.shape)),r.position&&(s.position=r.position.slice()),r.scale&&(s.scale=r.scale.slice()),r.origin&&(s.origin=r.origin.slice()),r.rotation&&(s.rotation=r.rotation),"image"===n.type&&r.style)&&(c=s.style={},t(["x","y","width","height"],function(t){hci(t,c,o,n.style,e)}));"text"===n.type&&r.style&&(c=s.style={},t(["x","y"],function(t){hci(t,c,o,n.style,e)}),!o.hasOwnProperty("textFill")&&o.fill&&(o.textFill=o.fill),!o.hasOwnProperty("textStroke")&&o.stroke&&(o.textStroke=o.stroke));"group"!==n.type&&(n.useStyle(o),e)&&(n.style.opacity=0,l=o.opacity,null==l&&(l=1),tr(n,{style:{opacity:l}},u,i));e?n.attr(s):p(n,s,u,i);n.attr({z2:r.z2||0,silent:r.silent});!1!==r.styleEmphasis&&at(n,r.styleEmphasis)}function hci(n,t,i,r,u){null==i[n]||u||(t[n]=i[n],i[n]=r[n])}function cci(n,t,i,r){function y(n){null==n&&(n=f);v&&(s=t.getItemModel(n),l=s.getModel(keu),a=s.getModel(deu),h=t.getItemVisual(n,"color"),v=!1)}var p=n.get("renderItem"),u=n.coordinateSystem,c={};u&&(c=u.prepareCustoms?u.prepareCustoms():nou[u.type](u));var f,s,l,a,h,w=o({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(n,i){return null==i&&(i=f),t.get(t.getDimension(n||0),i)},style:function(i,r){var u,o;return null==r&&(r=f),y(r),u=s.getModel(weu).getItemStyle(),null!=h&&(u.fill=h),o=t.getItemVisual(r,"opacity"),null!=o&&(u.opacity=o),kt(u,l,null,{autoColor:h,isRectText:!0}),u.text=l.getShallow("show")?oi(n.getFormattedLabel(r,"normal"),sd(t,r)):null,i&&e(u,i),u},styleEmphasis:function(i,r){null==r&&(r=f);y(r);var u=s.getModel(beu).getItemStyle();return kt(u,a,null,{isRectText:!0},!0),u.text=a.getShallow("show")?th(n.getFormattedLabel(r,"emphasis"),n.getFormattedLabel(r,"normal"),sd(t,r)):null,i&&e(u,i),u},visual:function(n,i){return null==i&&(i=f),t.getItemVisual(i,n)},barLayout:function(n){if(u.getBaseAxis)return sor(o({axis:u.getBaseAxis()},n),r)},currentSeriesIndices:function(){return i.getCurrentSeriesIndices()},font:function(n){return eet(n,i)}},c.api||{}),b={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:c.coordSys,dataInsideLength:t.count(),encode:bpr(n.getData())},v=!0;return function(n){return f=n,v=!0,p&&p(o({dataIndexInside:n,dataIndex:t.getRawIndex(n)},b),w)||{}}}function bpr(n){var i={};return t(n.dimensions,function(t,r){var u=n.getDimensionInfo(t),f;u.isExtraCoord||(f=u.coordDim,(i[f]=i[f]||[])[u.coordDimIndex]=r)}),i}function bct(n,t,i,r,u,f){return(n=kct(n,t,i,r,u,f))&&f.setItemGraphicEl(t,n),n}function kct(n,t,i,r,u,f){var o=i.type,c,s,h,e;if(!n||o===n.__customGraphicType||"path"===o&&i.pathData===n.__customPathData||"image"===o&&i.style.image===n.__customImagePath||"text"===o&&i.style.text===n.__customText||(u.remove(n),n=null),null!=o){if(c=!n,!n&&(n=ppr(i)),wpr(n,t,i,r,f,c),"group"===o)if(s=n.children()||[],h=i.children||[],i.diffChildrenByName)kpr({oldChildren:s,newChildren:h,dataIndex:t,animatableModel:r,group:n,data:f});else{for(e=0;e<h.length;e++)kct(n.childAt(e),t,h[e],r,n,f);for(;e<s.length;e++)s[e]&&n.remove(s[e])}return u.add(n),n}}function kpr(n){new we(n.oldChildren,n.newChildren,lci,lci,n).add(aci).update(aci).remove(dpr).execute()}function lci(n,t){var i=n&&n.name;return null!=i?i:geu+t}function aci(n,t){var i=this.context,r=null!=n?i.newChildren[n]:null;kct(null!=t?i.oldChildren[t]:null,i.dataIndex,r,i.animatableModel,i.group,i.data)}function dpr(n){var t=this.context,i=t.oldChildren[n];i&&t.group.remove(i)}function vci(n,t,i,r){var f=i.type,u=new nf[f.charAt(0).toUpperCase()+f.slice(1)](i);t.add(u);r.set(n,u);u.__ecGraphicId=n}function sg(n,t){var i=n&&n.parent;i&&("group"===n.type&&n.traverse(function(n){sg(n,t)}),t.removeKey(n.__ecGraphicId),i.remove(n))}function gpr(n){return n=e({},n),t(["id","parentId","$action","hv","bounding"].concat(npi),function(t){delete n[t]}),n}function yci(n,i){var r;return t(i,function(t){null!=n[t]&&"auto"!==n[t]&&(r=!0)}),r}function nwr(n,t){var i=n.exist,r;(t.id=n.keyInfo.id,!t.type&&i&&(t.type=i.type),null==t.parentId)&&(r=t.parentOption,r?t.parentId=r.id:i&&(t.parentId=i.parentId));t.parentOption=null}function twr(n,t,i){var u=e({},i),r=n[t],f=i.$action||"merge";"merge"===f?r?(v(r,u,!0),ko(r,u,{ignoreSize:!0}),cti(i,r)):n[t]=u:"replace"===f?n[t]=u:"remove"===f&&r&&(n[t]=null)}function iwr(n,t){n&&(n.hv=t.hv=[yci(t,["left","right"]),yci(t,["top","bottom"])],"group"===n.type&&(null==n.width&&(n.width=t.width=0),null==n.height&&(n.height=t.height=0)))}function dct(n,i,r){var f,u={},e="toggleSelected"===n;return r.eachComponent("legend",function(r){e&&null!=f?r[f?"select":"unSelect"](i.name):(r[n](i.name),f=r.isSelected(i.name));t(r.getData(),function(n){var t=n.get("name"),i;"\n"!==t&&""!==t&&(i=r.isSelected(t),u[t]=u.hasOwnProperty(t)?u[t]&&i:i)})}),{name:i.name,selected:u}}function rwr(n,t,i){var r=t.getBoxLayoutParams(),u=t.get("padding"),f={width:i.getWidth(),height:i.getHeight()},e=fi(r,f,u);cw(t.get("orient"),n,t.get("itemGap"),e.width,e.height);kk(n,r,f,u)}function pci(n,t){var i=oc(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),n=new st({shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[1]+i[3],height:n.height+i[0]+i[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1})}function wci(n,t){t.dispatchAction({type:"legendToggleSelect",name:n})}function bci(n,t,i,r){var u=i.getZr().storage.getDisplayList()[0];u&&u.useHoverLayer||i.dispatchAction({type:"highlight",seriesName:n.name,name:t,excludeSeriesId:r})}function kci(n,t,i,r){var u=i.getZr().storage.getDisplayList()[0];u&&u.useHoverLayer||i.dispatchAction({type:"downplay",seriesName:n.name,name:t,excludeSeriesId:r})}function dci(n,t,i){var r=[1,1];r[n.getOrient().index]=0;ko(t,i,{type:"box",ignoreSize:r})}function uwr(n){var t="left "+n+"s cubic-bezier(0.23, 1, 0.32, 1),top "+n+"s cubic-bezier(0.23, 1, 0.32, 1)";return r(uou,function(n){return n+"transition:"+t}).join(";")}function fwr(n){var t=[],i=n.get("fontSize"),r=n.getTextColor();return r&&t.push("color:"+r),t.push("font:"+n.getFont()),i&&t.push("line-height:"+Math.round(3*i/2)+"px"),odi(["decoration","align"],function(i){var r=n.get(i);r&&t.push("text-"+i+":"+r)}),t.join(";")}function ewr(n){var t=[],r=n.get("transitionDuration"),i=n.get("backgroundColor"),f=n.getModel("textStyle"),u=n.get("padding");return r&&t.push(uwr(r)),i&&(k.canvasSupported?t.push("background-Color:"+i):(t.push("background-Color:#"+idt(i)),t.push("filter:alpha(opacity=70)"))),odi(["width","color","radius"],function(i){var r="border-"+i,f=rou(r),u=n.get(f);null!=u&&t.push(r+":"+u+("color"===i?"":"px"))}),t.push(fwr(f)),null!=u&&t.push("padding:"+oc(u).join("px ")+"px"),t.join(";")+";"}function gct(n,t){var r,u,i;if(k.wxa)return null;r=document.createElement("div");u=this._zr=t.getZr();this.el=r;this._x=t.getWidth()/2;this._y=t.getHeight()/2;n.appendChild(r);this._container=n;this._show=!1;this._hideTimeout;i=this;r.onmouseenter=function(){i._enterable&&(clearTimeout(i._hideTimeout),i._show=!0);i._inContent=!0};r.onmousemove=function(t){if(t=t||window.event,!i._enterable){var r=u.handler;uh(n,t,!0);r.dispatch("mousemove",t)}};r.onmouseleave=function(){i._enterable&&i._show&&i.hideLater(i._hideDelay);i._inContent=!1}}function nlt(n){for(var t,i=n.pop();n.length;)t=n.pop(),t&&(tt.isInstance(t)&&(t=t.get("tooltip",!0)),"string"==typeof t&&(t={formatter:t}),i=new tt(t,i,i.ecModel));return i}function gci(n,t){return n.dispatchAction||c(t.dispatchAction,t)}function owr(n,t,i,r,u,f,e){var o=nli(i),s=o.width,h=o.height;return null!=f&&(n+s+f>r?n-=s+f:n+=f),null!=e&&(t+h+e>u?t-=h+e:t+=e),[n,t]}function swr(n,t,i,r,u){var f=nli(i),e=f.width,o=f.height;return n=Math.min(n+e,r)-e,t=Math.min(t+o,u)-o,n=Math.max(n,0),t=Math.max(t,0),[n,t]}function nli(n){var i=n.clientWidth,r=n.clientHeight,t;return document.defaultView&&document.defaultView.getComputedStyle&&(t=document.defaultView.getComputedStyle(n),t&&(i+=parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10)+parseInt(t.borderLeftWidth,10)+parseInt(t.borderRightWidth,10),r+=parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10)+parseInt(t.borderTopWidth,10)+parseInt(t.borderBottomWidth,10))),{width:i,height:r}}function hwr(n,t,i){var f=i[0],e=i[1],r=0,u=0,o=t.width,s=t.height;switch(n){case"inside":r=t.x+o/2-f/2;u=t.y+s/2-e/2;break;case"top":r=t.x+o/2-f/2;u=t.y-e-5;break;case"bottom":r=t.x+o/2-f/2;u=t.y+s+5;break;case"left":r=t.x-f-5;u=t.y+s/2-e/2;break;case"right":r=t.x+o+5;u=t.y+s/2-e/2}return[r,u]}function tli(n){return"center"===n||"middle"===n}function ili(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function tlt(n){return n.dim}function cwr(n){var r={},i;return t(n,function(n){var v=n.getData(),e=n.coordinateSystem.getBaseAxis(),h=e.getExtent(),s="category"===e.type?e.getBandWidth():Math.abs(h[1]-h[0])/v.count(),t=r[tlt(e)]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=t.stacks,i;r[tlt(e)]=t;i=ili(n);f[i]||t.autoWidthCount++;f[i]=f[i]||{width:0,maxWidth:0};var o=u(n.get("barWidth"),s),c=u(n.get("barMaxWidth"),s),l=n.get("barGap"),a=n.get("barCategoryGap");o&&!f[i].width&&(o=Math.min(t.remainedWidth,o),f[i].width=o,t.remainedWidth-=o);c&&(f[i].maxWidth=c);null!=l&&(t.gap=l);null!=a&&(t.categoryGap=a)}),i={},t(r,function(n,r){var l,h,a;i[r]={};var c=n.stacks,y=n.bandWidth,v=u(n.categoryGap,y),e=u(n.gap,1),s=n.remainedWidth,o=n.autoWidthCount,f=(s-v)/(o+(o-1)*e);f=Math.max(f,0);t(c,function(n){var t=n.maxWidth;t&&t<f&&(t=Math.min(t,s),n.width&&(t=Math.min(t,n.width)),s-=t,n.width=t,o--)});f=(s-v)/(o+(o-1)*e);f=Math.max(f,0);h=0;t(c,function(n){n.width||(n.width=f);l=n;h+=n.width*(1+e)});l&&(h-=l.width*e);a=-h/2;t(c,function(n,t){i[r][t]=i[r][t]||{offset:a,width:n.width};a+=n.width*(1+e)})}),i}function hg(n,t){ri.call(this,"radius",n,t);this.type="category"}function cg(n,t){t=t||[0,360];ri.call(this,"angle",n,t);this.type="category"}function rli(n,t){return t.type||(t.data?"category":"value")}function lwr(n,t,i){var f=t.get("center"),e=i.getWidth(),o=i.getHeight();n.cx=u(f[0],e);n.cy=u(f[1],o);var r=n.getRadiusAxis(),h=Math.min(e,o)/2,s=u(t.get("radius"),h);r.inverse?r.setExtent(s,0):r.setExtent(0,s)}function awr(n){var f=this,i=f.getAngleAxis(),u=f.getRadiusAxis(),r,e;(i.scale.setExtent(1/0,-1/0),u.scale.setExtent(1/0,-1/0),n.eachSeries(function(n){if(n.coordinateSystem===f){var r=n.getData();t(r.mapDimension("radius",!0),function(n){u.scale.unionExtentFromData(r,fd(r,n))});t(r.mapDimension("angle",!0),function(n){i.scale.unionExtentFromData(r,fd(r,n))})}}),go(i.scale,i.model),go(u.scale,u.model),"category"!==i.type||i.onBand)||(r=i.getExtent(),e=360/i.scale.count(),i.inverse?r[1]+=e:r[1]-=e,i.setExtent(r[0],r[1]))}function uli(n,t){if(n.type=t.get("type"),n.scale=na(t),n.onBand=t.get("boundaryGap")&&"category"===n.type,n.inverse=t.get("inverse"),"angleAxis"===t.mainType){n.inverse^=t.get("clockwise");var i=t.get("startAngle");n.setExtent(i,i+(n.inverse?-360:360))}t.axis=n;n.model=t}function fli(n,t,i){t[1]>t[0]&&(t=t.slice().reverse());var r=n.coordToPoint([t[0],i]),u=n.coordToPoint([t[1],i]);return{x1:r[0],y1:r[1],x2:u[0],y2:u[1]}}function ilt(n){return n.getRadiusAxis().inverse?0:1}function eli(n){var t=n[0],i=n[n.length-1];t&&i&&Math.abs(Math.abs(t.coord-i.coord)-360)<.0001&&n.pop()}function vwr(n,t,i){return{position:[n.cx,n.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function ywr(n,t,i,r,u){var y=t.axis,p=y.dataToCoord(n),o=r.getAngleAxis().getExtent()[0],f,h,c,w,e,b,l,s,a,v;return o=o/180*Math.PI,w=r.getRadiusAxis().getExtent(),"radius"===y.dim?(e=iu(),ao(e,e,o),ef(e,e,[r.cx,r.cy]),f=lf([p,-u],e),b=t.getModel("axisLabel").get("rotate")||0,l=uf.innerTextLayout(o,b*Math.PI/180,-1),h=l.textAlign,c=l.textVerticalAlign):(s=w[1],f=r.coordToPoint([s+u,p]),a=r.cx,v=r.cy,h=Math.abs(f[0]-a)/s<.3?"center":f[0]>a?"left":"right",c=Math.abs(f[1]-v)/s<.3?"middle":f[1]>v?"top":"bottom"),{position:f,align:h,verticalAlign:c}}function rlt(n,i){i.update="updateView";it(i,function(i,r){var u={};return r.eachComponent({mainType:"geo",query:i},function(r){r[n](i.name);t(r.coordinateSystem.regions,function(n){u[n.name]=r.isSelected(n.name)||!1})}),{selected:u,name:i.name}})}function pwr(n){var i={};t(n,function(n){i[n]=1});n.length=0;t(i,function(t,i){n.push(i)})}function oli(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!0}function ult(n,t,i){function u(){var n=function(){};return n.prototype.__hidden=n.prototype,new n}var r={};return wdi(t,function(t){var f=r[t]=u();wdi(n[t],function(n,r){if(et.isValidType(r)){var u={type:r,visual:n};i&&i(u,t);f[r]=new et(u);"opacity"===r&&((u=h(u)).type="colorAlpha",f.__hidden.__alphaForOpacity=new et(u))}})}),r}function sli(n,i,r){var u;t(r,function(n){i.hasOwnProperty(n)&&oli(i[n])&&(u=!0)});u&&t(r,function(t){i.hasOwnProperty(t)&&oli(i[t])?n[t]=h(i[t]):delete n[t]})}function wwr(n,i,r,u,f,e){function c(n){return r.getItemVisual(o,n)}function l(n,t){r.setItemVisual(o,n,t)}function s(n,t){var s,v;if(o=null==e?n:t,s=r.getRawDataItem(o),!s||!1!==s.visualMap)for(var y=u.call(f,n),p=i[y],w=h[y],a=0,b=w.length;a<b;a++)v=w[a],p[v]&&p[v].applyVisual(n,c,l)}var h={},o;t(n,function(n){var t=et.prepareVisualTypes(i[n]);h[n]=t});null==e?r.each(s):r.each([e],s)}function bwr(n,i,r,u){var f={};return t(n,function(n){var t=et.prepareVisualTypes(i[n]);f[n]=t}),{progress:function(n,t){var e,o,h;for(null!=u&&(u=t.getDimension(u));null!=(e=n.next());){if(o=t.getRawDataItem(e),o&&!1===o.visualMap)return;for(var c=null!=u?t.get(u,e,!0):e,l=r(c),a=i[l],v=f[l],s=0,y=v.length;s<y;s++)h=v[s],a[h]&&a[h].applyVisual(c,function(n){return t.getItemVisual(e,n)},function(n,i){t.setItemVisual(e,n,i)})}}}}function hli(n){var t=["x","y"],i=["width","height"];return{point:function(t,i,r){if(t){var u=r.range;return wp(t[n],u)}},rect:function(r,u,f){if(r){var o=f.range,e=[r[t[n]],r[t[n]]+r[i[n]]];return e[1]<e[0]&&e.reverse(),wp(e[0],o)||wp(e[1],o)||wp(o[0],e)||wp(o[1],e)}}}}function wp(n,t){return t[0]<=n&&n<=t[1]}function lg(n,t,i,r,u){for(var o,f=0,e=u[u.length-1];f<u.length;f++){if(o=u[f],kwr(n,t,i,r,o[0],o[1],e[0],e[1]))return!0;e=o}}function kwr(n,t,i,r,u,f,e,o){var s=flt(i-n,u-e,r-t,f-o),h,c;return dwr(s)?!1:(h=flt(u-n,u-e,f-t,f-o)/s,h<0||h>1)?!1:(c=flt(i-n,u-n,r-t,f-t)/s,!(c<0||c>1))}function dwr(n){return n<=1e-6&&n>=-1e-6}function flt(n,t,i,r){return n*r-t*i}function ag(n,t,i){var r=this._targetInfoList=[],u={},f=cli(t,n);ds(sou,function(n,t){(!i||!i.include||krt(i.include,t)>=0)&&n(f,r,u)})}function elt(n){return n[0]>n[1]&&n.reverse(),n}function cli(n,t){return ck(n,t,{includeMainTypes:oou})}function lli(n,t,i,u){var f=i.getAxis(["x","y"][n]),o=elt(r([0,1],function(n){return t?f.coordToData(f.toLocalCoord(u[n])):f.toGlobalCoord(f.dataToCoord(u[n]))})),e=[];return e[n]=o,e[1-n]=[NaN,NaN],{values:o,xyMinMax:e}}function ali(n,t,i,r){return[t[0]-r[n]*i[0],t[1]-r[n]*i[1]]}function gwr(n,t){var r=vli(n),u=vli(t),i=[r[0]/u[0],r[1]/u[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function vli(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}function nbr(n,t,i,r,u){if(u){var f=n.getZr();f[dwt]||(f[kwt]||(f[kwt]=tbr),ky(f,kwt,i,t)(n,r))}}function tbr(n,t){if(!n.isDisposed()){var i=n.getZr();i[dwt]=!0;n.dispatchAction({type:"brushSelect",batch:t});i[dwt]=!1}}function yli(n,t,i,r){for(var f,u=0,e=t.length;u<e;u++)if(f=t[u],n[f.brushType](r,i,f.selectors,f))return!0}function pli(n){var i=n.brushSelector,r,u;return yt(i)?(r=[],t(pwt,function(n,t){r[t]=function(t,r,u,f){var e=r.getItemLayout(t);return n[i](e,u,f)}}),r):vr(i)?(u={},t(pwt,function(n,t){u[t]=i}),u):i}function ibr(n,t){var r=n.option.seriesIndex;return null!=r&&"all"!==r&&(i(r)?b(r,t)<0:t!==r)}function rbr(n){var i=n.selectors={};return t(pwt[n.brushType],function(t,r){i[r]=function(r){return t(r,i,n)}}),n}function wli(n){return new w(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}function bli(n,t){return v({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new tt(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},t,!0)}function olt(n,t,i,r){r&&r.$from===n.id||this._brushController.setPanels(n.brushTargetManager.makePanelOpts(i)).enableBrush(n.brushOption).updateCovers(n.areas.slice())}function ha(n,t){gwt[n]=t}function kli(n){return gwt[n]}function slt(n,t,i){this.model=n;this.ecModel=t;this.api=i;this._brushType;this._brushMode}function no(n){this._model=n}function dli(n,t,i,r){var u=i.calendarModel,f=i.seriesModel,e=u?u.coordinateSystem:f?f.coordinateSystem:null;return e===this?e[n](r):null}function gli(n,t){var u=n.cellSize,f;i(u)?1===u.length&&(u[1]=u[0]):u=n.cellSize=[u,u];f=r([0,1],function(n){return cur(t,n)&&(u[n]="auto"),null!=u[n]&&"auto"!==u[n]});ko(n,t,{type:"box",ignoreSize:f})}function ubr(n){return b(lou,n)>=0}function fbr(n,i,r){function f(n,t){return b(t.nodes,n)>=0}function e(n,u){var f=!1;return i(function(i){t(r(n,i)||[],function(n){u.records[i.name][n]&&(f=!0)})}),f}function u(n,u){u.nodes.push(n);i(function(i){t(r(n,i)||[],function(n){u.records[i.name][n]=!0})})}return function(t){var r={nodes:[],records:{}},o;if(i(function(n){r.records[n.name]={}}),!t)return r;u(t,r);do o=!1,n(function(n){!f(n,r)&&e(n,r)&&(u(n,r),o=!0)});while(o);return r}}function ebr(n,t,i){var r=[1/0,-1/0];return gs(i,function(n){var i=n.getData();i&&gs(i.mapDimension(t,!0),function(n){var t=i.getApproximateExtent(n);t[0]<r[0]&&(r[0]=t[0]);t[1]>r[1]&&(r[1]=t[1])})}),r[1]<r[0]&&(r=[NaN,NaN]),obr(n,r),r}function obr(n,t){var i=n.getAxisModel(),u=i.getMin(!0),f="category"===i.get("type"),e=f&&i.getCategories().length,r;return null!=u&&"dataMin"!==u&&"function"!=typeof u?t[0]=u:f&&(t[0]=e>0?0:NaN),r=i.getMax(!0),null!=r&&"dataMax"!==r&&"function"!=typeof r?t[1]=r:f&&(t[1]=e>0?e-1:NaN),i.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function nai(n,t){var e=n.getAxisModel(),r=n._percentWindow,u=n._valueWindow,i,f;r&&(i=cet(u,[0,500]),i=Math.min(i,20),f=t||0===r[0]&&100===r[1],e.setRange(f?null:+u[0].toFixed(i),f?null:+u[1].toFixed(i)))}function sbr(n){var t=n._minMaxSpan={},i=n._dataZoomModel;gs(["min","max"],function(r){var u,f;t[r+"Span"]=i.get(r+"Span");u=i.get(r+"ValueSpan");null!=u&&(t[r+"ValueSpan"]=u,null!=(u=n.getAxisModel().axis.scale.parse(u)))&&(f=n._dataExtent,t[r+"Span"]=dt(f[0]+u,f,[0,100],!0))})}function tai(n){var t={};return dv(["start","end","startValue","endValue","throttle"],function(i){n.hasOwnProperty(i)&&(t[i]=n[i])}),t}function iai(n,t){var i=n._rangePropMode,r=n.get("rangeMode");dv([["start","startValue"],["end","endValue"]],function(n,u){var f=null!=t[n[0]],e=null!=t[n[1]];f&&!e?i[u]="percent":!f&&e?i[u]="value":r?i[u]=r[u]:f&&(i[u]="percent")})}function hbr(n){return{x:"y",y:"x",radius:"angle",angle:"radius"}[n]}function rai(n){return"vertical"===n?"ns-resize":"ew-resize"}function cbr(n,i){var u=fai(n),f=i.dataZoomId,e=i.coordId,r,o;t(u,function(n){var t=n.dataZoomInfos;t[f]&&b(i.allCoordIds,e)<0&&(delete t[f],n.count--)});eai(u);r=u[e];r||((r=u[e]={coordId:e,dataZoomInfos:{},count:0}).controller=abr(n,r),r.dispatchAction=l(pbr,n));!r.dataZoomInfos[f]&&r.count++;r.dataZoomInfos[f]=i;o=wbr(r.dataZoomInfos);r.controller.enable(o.controlType,o.opt);r.controller.setPointerChecker(i.containsPoint);ky(r,"dispatchAction",i.throttleRate,"fixRate")}function lbr(n,i){var r=fai(n);t(r,function(n){n.controller.dispose();var t=n.dataZoomInfos;t[i]&&(delete t[i],n.count--)});eai(r)}function uai(n){return n.type+"\0_"+n.id}function fai(n){var t=n.getZr();return t[sgi]||(t[sgi]={})}function abr(n,t){var i=new sp(n.getZr());return i.on("pan",ogi(vbr,t)),i.on("zoom",ogi(ybr,t)),i}function eai(n){t(n,function(t,i){t.count||(t.controller.dispose(),delete n[i])})}function vbr(n,t,i,r,u,f,e){oai(n,function(o){return o.panGetRange(n.controller,t,i,r,u,f,e)})}function ybr(n,t,i,r){oai(n,function(u){return u.zoomGetRange(n.controller,t,i,r)})}function oai(n,i){var r=[];t(n.dataZoomInfos,function(n){var t=i(n);!n.disabled&&t&&r.push({dataZoomId:n.dataZoomId,start:t[0],end:t[1]})});r.length&&n.dispatchAction(r)}function pbr(n,t){n.dispatchAction({type:"dataZoom",batch:t})}function wbr(n){var i,r={},u={type_true:2,type_move:1,type_false:0,type_undefined:-1};return t(n,function(n){var t=!n.disabled&&(!n.zoomLock||"move");u["type_"+t]>u["type_"+i]&&(i=t);e(r,n.roamControllerOpt)}),{controlType:i,opt:r}}function ca(n,t){return n&&n.hasOwnProperty&&n.hasOwnProperty(t)}function bbr(n,t,i,r){for(var e,o,s=t.targetVisuals[r],h=et.prepareVisualTypes(s),u={color:n.getData().getVisual("color")},f=0,c=h.length;f<c;f++)e=h[f],o=s["opacity"===e?"__alphaForOpacity":e],o&&o.applyVisual(i,function(n){return u[n]},function(n,t){u[n]=t});return u.color}function sai(n,t,i){if(i[0]===i[1])return i.slice();for(var e=(i[1]-i[0])/200,r=i[0],u=[],f=0;f<=200&&r<i[1];f++)u.push(r),r+=e;return u.push(i[1]),u}function hai(n,t,i){var f=n.option,o=f.align,u,e;if(null!=o&&"auto"!==o)return o;for(var l={width:t.getWidth(),height:t.getHeight()},s="horizontal"===f.orient?1:0,a=[["left","right","width"],["top","bottom","height"]],h=a[s],v=[0,null,10],c={},r=0;r<3;r++)c[a[1-s][r]]=v[r],c[h[r]]=2===r?i[0]:f[h[r]];return u=[["x","width",3],["y","height",0]][s],e=fi(c,l,f.padding),h[(e.margin[u[2]]||0)+e[u[0]]+.5*e[u[1]]<.5*l[u[1]]?0:1]}function vg(n){return t(n||[],function(){null!=n.dataIndex&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null)}),n}function yg(n,t,i,r){return new gu({shape:{points:n},draggable:!!i,cursor:t,drift:i,onmousemove:function(n){fs(n.event)},ondragend:r})}function kbr(n,t){return 0===n?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}function dbr(n,t,i,r){return n?[[0,-tut(t,lb(i,0))],[wgi,0],[0,tut(t,lb(r-i,0))]]:[[0,0],[5,-5],[5,5]]}function gbr(n,t,i){var r=gou/2,u=n.get("hoverLinkDataSize");return u&&(r=ho(u,t,i,!0)/2),r}function cai(n){var t=n.get("hoverLinkOnHandle");return!!(null==t?n.get("realtime"):t)}function lai(n){return"vertical"===n?"ns-resize":"ew-resize"}function aai(n,t){var i=n.inverse;("vertical"===n.orient?!i:i)&&t.reverse()}function pg(n){fh(n,"label",["show"])}function nkr(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function tkr(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}function hlt(n,t,i,r,u,f){var e=[],h=be(t,r)?t.getCalculationInfo("stackResultDimension"):r,c=clt(t,h,n),s=t.indicesOfNearest(h,c)[0],o;return e[u]=t.get(i,s),e[f]=t.get(r,s),o=rti(t.get(r,s)),(o=Math.min(o,20))>=0&&(e[f]=+e[f].toFixed(o)),e}function bp(n,t){var e=n.getData(),s=n.coordinateSystem,o,r,l,c,f,u;if(t&&!tkr(t)&&!i(t.coord)&&s)if(o=s.dimensions,r=vai(t,e,s,n),(t=h(t)).type&&ybt[t.type]&&r.baseAxis&&r.valueAxis)l=ggi(o,r.baseAxis.dim),c=ggi(o,r.valueAxis.dim),t.coord=ybt[t.type](e,r.baseDataDim,r.valueDataDim,l,c),t.value=t.coord[c];else{for(f=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],u=0;u<2;u++)ybt[f[u]]&&(f[u]=clt(e,e.mapDimension(o[u]),f[u]));t.coord=f}return t}function vai(n,t,i,r){var u={};return null!=n.valueIndex||null!=n.valueDim?(u.valueDataDim=null!=n.valueIndex?t.getDimension(n.valueIndex):n.valueDim,u.valueAxis=i.getAxis(ikr(r,u.valueDataDim)),u.baseAxis=i.getOtherAxis(u.valueAxis),u.baseDataDim=t.mapDimension(u.baseAxis.dim)):(u.baseAxis=r.getBaseAxis(),u.valueAxis=i.getOtherAxis(u.baseAxis),u.baseDataDim=t.mapDimension(u.baseAxis.dim),u.valueDataDim=t.mapDimension(u.valueAxis.dim)),u}function ikr(n,t){var r=n.getData(),f=r.dimensions,i,u;for(t=r.getDimension(t),i=0;i<f.length;i++)if(u=r.getDimensionInfo(f[i]),u.name===t)return u.coordDim}function kp(n,t){return!(n&&n.containData&&t.coord&&!nkr(t))||n.containData(t.coord)}function yai(n,t,i,r){return r<2?n.coord&&n.coord[r]:n.value}function clt(n,t,i){if("average"===i){var r=0,u=0;return n.each(t,function(n){isNaN(n)||(r+=n,u++)}),r/u}return"median"===i?n.getMedian(t):n.getDataExtent(t,!0)["max"===i?1:0]}function pai(n,t,i){var r=t.coordinateSystem;n.each(function(f){var e,h=n.getItemModel(f),o=u(h.get("x"),i.getWidth()),s=u(h.get("y"),i.getHeight()),c,l;isNaN(o)||isNaN(s)?t.getMarkerPosition?e=t.getMarkerPosition(n.getValues(n.dimensions,f)):r&&(c=n.get(r.dimensions[0],f),l=n.get(r.dimensions[1],f),e=r.dataToPoint([c,l])):e=[o,s];isNaN(o)||(e[0]=o);isNaN(s)||(e[1]=s);n.setItemLayout(f,e)})}function rkr(n,t,i){var e,f,u;return e=n?r(n&&n.dimensions,function(n){return o({name:n},t.getData().getDimensionInfo(t.getData().mapDimension(n))||{})}):[{name:"value",type:"float"}],f=new hi(e,i),u=r(i.get("data"),l(bp,t)),n&&(u=ui(u,l(kp,n))),f.initData(u,null,n?yai:function(n){return n.value}),f}function wg(n){return!isNaN(n)&&!isFinite(n)}function wai(n,t,i,r){var u=1-n,f=r.dimensions[n];return wg(t[u])&&wg(i[u])&&t[n]===i[n]&&r.getAxis(f).containData(t[n])}function ukr(n,t){if("cartesian2d"===n.type){var i=t[0].coord,r=t[1].coord;if(i&&r&&(wai(1,i,r,n)||wai(0,i,r,n)))return!0}return kp(n,t[0])&&kp(n,t[1])}function llt(n,t,i,r,f){var e,o=r.coordinateSystem,l=n.getItemModel(t),s=u(l.get("x"),f.getWidth()),h=u(l.get("y"),f.getHeight());if(isNaN(s)||isNaN(h)){if(r.getMarkerPosition)e=r.getMarkerPosition(n.getValues(n.dimensions,t));else{var c=o.dimensions,y=n.get(c[0],t),p=n.get(c[1],t);e=o.dataToPoint([y,p])}if("cartesian2d"===o.type){var a=o.getAxis("x"),v=o.getAxis("y"),c=o.dimensions;wg(n.get(c[0],t))?e[0]=a.toGlobalCoord(a.getExtent()[i?0:1]):wg(n.get(c[1],t))&&(e[1]=v.toGlobalCoord(v.getExtent()[i?0:1]))}isNaN(s)||(e[0]=s);isNaN(h)||(e[1]=h)}else e=[s,h];n.setItemLayout(t,e)}function fkr(n,t,i){var f,s;f=n?r(n&&n.dimensions,function(n){return o({name:n},t.getData().getDimensionInfo(t.getData().mapDimension(n))||{})}):[{name:"value",type:"float"}];var h=new hi(f,i),c=new hi(f,i),e=new hi([],i),u=r(i.get("data"),l(nni,t,n,i));return n&&(u=ui(u,l(ukr,n))),s=n?yai:function(n){return n.value},h.initData(r(u,function(n){return n[0]}),null,s),c.initData(r(u,function(n){return n[1]}),null,s),e.initData(r(u,function(n){return n[2]})),e.hasItemOption=!0,{from:h,to:c,line:e}}function bg(n){return!isNaN(n)&&!isFinite(n)}function bai(n,t,i){var r=1-n;return bg(t[r])&&bg(i[r])}function ekr(n,t){var i=t.coord[0],r=t.coord[1];return!("cartesian2d"!==n.type||!i||!r||!bai(1,i,r,n)&&!bai(0,i,r,n))||kp(n,{coord:i,x:t.x0,y:t.y0})||kp(n,{coord:r,x:t.x1,y:t.y1})}function kai(n,t,i,r,f){var e,o=r.coordinateSystem,l=n.getItemModel(t),s=u(l.get(i[0]),f.getWidth()),h=u(l.get(i[1]),f.getHeight()),c;if(isNaN(s)||isNaN(h)){if(r.getMarkerPosition?e=r.getMarkerPosition(n.getValues(i,t)):(c=[y=n.get(i[0],t),p=n.get(i[1],t)],o.clampData&&o.clampData(c,c),e=o.dataToPoint(c,!0)),"cartesian2d"===o.type){var a=o.getAxis("x"),v=o.getAxis("y"),y=n.get(i[0],t),p=n.get(i[1],t);bg(y)?e[0]=a.toGlobalCoord(a.getExtent()["x0"===i[0]?0:1]):bg(p)&&(e[1]=v.toGlobalCoord(v.getExtent()["y0"===i[1]?0:1]))}isNaN(s)||(e[0]=s);isNaN(h)||(e[1]=h)}else e=[s,h];return e}function okr(n,t,i){var e,u,f,s;return n?(e=r(n&&n.dimensions,function(n){var i=t.getData();return o({name:n},i.getDimensionInfo(i.mapDimension(n))||{})}),u=new hi(r(["x0","y0","x1","y1"],function(n,t){return{name:n,type:e[t%2].type}}),i)):u=new hi(e=[{name:"value",type:"float"}],i),f=r(i.get("data"),l(tni,t,n,i)),n&&(f=ui(f,l(ekr,n))),s=n?function(n,t,i,r){return n.coord[Math.floor(r/2)][r%2]}:function(n){return n.value},u.initData(f,null,s),u.hasItemOption=!0,u}function skr(n){var u=n.type,f={number:"value",time:"time"},r;(f[u]&&(n.axisType=f[u],delete n.type),dai(n),bh(n,"controlPosition"))&&(r=n.controlStyle||(n.controlStyle={}),bh(r,"position")||(r.position=n.controlPosition),"none"!==r.position||bh(r,"show")||(r.show=!1,delete r.position),delete n.controlPosition);t(n.data||[],function(n){a(n)&&!i(n)&&(!bh(n,"value")&&bh(n,"name")&&(n.value=n.name),dai(n))})}function dai(n){var u=n.itemStyle||(n.itemStyle={}),r=u.emphasis||(u.emphasis={}),i=n.label||n.label||{},f=i.normal||(i.normal={}),e={normal:1,emphasis:1};t(i,function(n,t){e[t]||bh(f,t)||(f[t]=n)});r.label&&!bh(i,"emphasis")&&(i.emphasis=r.label,delete r.label)}function bh(n,t){return n.hasOwnProperty(t)}function hkr(n,t){return fi(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},n.get("padding"))}function ckr(n,t,i,r){return ay(n.get(t).replace(/^path:\/\//,""),h(r||{}),new w(i[0],i[1],i[2],i[3]),"center")}function gai(n,t,i,r,f,e){var c=t.get("color"),l,o,s,h,a;return f?(f.setColor(c),i.add(f),e&&e.onUpdate(f)):((f=br(n.get("symbol"),-1,-1,2,2,c)).setStyle("strokeNoScale",!0),i.add(f),e&&e.onCreate(f)),l=t.getItemStyle(["color","symbol","symbolSize"]),f.setStyle(l),r=v({rectHover:!0,z2:100},r,!0),o=n.get("symbolSize"),(o=o instanceof Array?o.slice():[+o,+o])[0]/=2,o[1]/=2,r.scale=o,s=n.get("symbolOffset"),s&&(h=r.position=r.position||[0,0],h[0]+=u(s[0],o[0]),h[1]+=u(s[1],o[1])),a=n.get("symbolRotate"),r.rotation=(a||0)*Math.PI/180||0,f.attr(r),f.updateTransform(),f}function nvi(n,t,i,r,u){if(!n.dragging){var f=r.getModel("checkpointStyle"),e=i.dataToCoord(r.getData().get(["value"],t));u||!f.get("animation",!0)?n.attr({position:[e,0]}):(n.stopAnimation(!0),n.animateTo({position:[e,0]},f.get("animationDuration",!0),f.get("animationEasing",!0)))}}function lkr(n){return 0===n.indexOf("my")}function kg(n){this.model=n}function alt(n){this.model=n}function akr(n){var t={},i=[],r=[];return n.eachRawSeries(function(n){var f=n.coordinateSystem,u,e;f&&("cartesian2d"===f.type||"polar"===f.type)?(u=f.getBaseAxis(),"category"===u.type?(e=u.dim+"_"+u.index,t[e]||(t[e]={categoryAxis:u,valueAxis:f.getOtherAxis(u),series:[]},r.push({axisDim:u.dim,axisIndex:u.index})),t[e].series.push(n)):i.push(n)):i.push(n)}),{seriesGroupByCategoryAxis:t,other:i,meta:r}}function vkr(n){var i=[];return t(n,function(n){var h=n.categoryAxis,c=n.valueAxis.dim,l=[" "].concat(r(n.series,function(n){return n.name})),u=[h.model.getCategories()],o,f,s,e;for(t(n.series,function(n){u.push(n.getRawData().mapArray(c,function(n){return n}))}),o=[l.join(ul)],f=0;f<u[0].length;f++){for(s=[],e=0;e<u.length;e++)s.push(u[e][f]);o.push(s.join(ul))}i.push(o.join("\n"))}),i.join("\n\n"+rut+"\n\n")}function ykr(n){return r(n,function(n){var t=n.getRawData(),i=[n.name],r=[];return t.each(t.dimensions,function(){for(var u=arguments.length,e=arguments[u-1],f=t.getName(e),n=0;n<u-1;n++)r[n]=arguments[n];i.push((f?f+ul:"")+r.join(ul))}),i.join("\n")}).join("\n\n"+rut+"\n\n")}function pkr(n){var t=akr(n);return{value:ui([vkr(t.seriesGroupByCategoryAxis),ykr(t.other)],function(n){return n.replace(/[\n\t\s]/g,"")}).join("\n\n"+rut+"\n\n"),meta:t.meta}}function dg(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function wkr(n){if(n.slice(0,n.indexOf("\n")).indexOf(ul)>=0)return!0}function bkr(n){for(var u,t,f=n.split(/\n+/g),o=[],e=r(dg(f.shift()).split(ikt),function(n){return{name:n,data:[]}}),i=0;i<f.length;i++)for(u=dg(f[i]).split(ikt),o.push(u.shift()),t=0;t<u.length;t++)e[t]&&(e[t].data[i]=u[t]);return{series:e,categories:o}}function kkr(n){for(var f,e=n.split(/\n+/g),h=dg(e.shift()),i=[],t=0;t<e.length;t++){var r,u=dg(e[t]).split(ikt),o="",s=!1;for(isNaN(u[0])?(s=!0,o=u[0],u=u.slice(1),i[t]={name:o,value:[]},r=i[t].value):r=i[t]=[],f=0;f<u.length;f++)r.push(+u[f]);1===r.length&&(s?i[t].value=r[0]:i[t]=r[0])}return{name:h,data:i}}function dkr(n,i){var r={series:[]};return t(n.split(new RegExp("\n*"+rut+"\n*","g")),function(n,t){if(wkr(n)){var u=bkr(n),f=i[t],e=f.axisDim+"Axis";f&&(r[e]=r[e]||[],r[e][f.axisIndex]={data:u.categories},r.series=r.series.concat(u.series))}else u=kkr(n),r.series.push(u)}),r}function dp(n){this._dom=null;this.model=n}function gkr(n,t){return r(n,function(n,r){var u=t&&t[r];return a(u)&&!i(u)?(a(n)&&!i(n)&&(n=n.value),o({value:n},u)):n})}function ndr(n,t){var i=vlt(n);rkt(t,function(t,r){for(var f,e,u=i.length-1;u>=0&&!i[u][r];u--);u<0&&(f=n.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0],f&&(e=f.getPercentRange(),i[0][r]={dataZoomId:r,start:e[0],end:e[1]}))});i.push(t)}function tdr(n){var t=vlt(n),r=t[t.length-1],i;return t.length>1&&t.pop(),i={},rkt(r,function(n,r){for(var u=t.length-1;u>=0;u--)if(n=t[u][r]){i[r]=n;break}}),i}function idr(n){n[uut]=null}function rdr(n){return vlt(n).length}function vlt(n){var t=n[uut];return t||(t=n[uut]=[{}]),t}function ylt(n,t,i){(this._brushController=new fa(i.getZr())).on("brush",c(this._onBrush,this)).mount();this._isZoomActive}function tvi(n){var i={};return t(["xAxisIndex","yAxisIndex"],function(t){i[t]=n[t];null==i[t]&&(i[t]="all");(!1===i[t]||"none"===i[t])&&(i[t]=[])}),i}function udr(n,t){n.setIconStatus("back",rdr(t)>1?"emphasis":"normal")}function fdr(n,t,i,r,u){var f=i._isZoomActive,e;r&&"takeGlobalCursor"===r.type&&(f="dataZoomSelect"===r.key&&r.dataZoomSelectActive);i._isZoomActive=f;n.setIconStatus("zoom",f?"emphasis":"normal");e=new ag(tvi(n.option),t,{include:["grid"]});i._brushController.setPanels(e.makePanelOpts(u,function(n){return n.xAxisDeclared&&!n.yAxisDeclared?"lineX":!n.xAxisDeclared&&n.yAxisDeclared?"lineY":"rect"})).enableBrush(!!f&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}function plt(n){this.model=n}function wlt(n){return ukt(n)}function edr(){if(!ani&&nu){ani=!0;var n=nu.styleSheets;n.length<31?nu.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):n[0].addRule(".zrvml","behavior:url(#default#VML)")}}function la(n){return parseInt(n,10)}function gg(n,t){var r,i,u,f;edr();this.root=n;this.storage=t;r=document.createElement("div");i=document.createElement("div");r.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";i.style.cssText="position:absolute;left:0;top:0;";n.appendChild(r);this._vmlRoot=i;this._vmlViewport=r;this.resize();u=t.delFromStorage;f=t.addToStorage;t.delFromStorage=function(n){u.call(t,n);n&&n.onRemove&&n.onRemove(i)};t.addToStorage=function(n){n.onAdd&&n.onAdd(i);f.call(t,n)};this._firstPaint=!0}function odr(n){return function(){us('In IE8.0 VML mode painter not support method "'+n+'"')}}function kh(n){return document.createElementNS(lsu,n)}function du(n){return akt(1e4*n)/1e4}function blt(n){return n<ttr&&n>-ttr}function sdr(n,t){var i=t?n.textFill:n.fill;return null!=i&&i!==hl}function hdr(n,t){var i=t?n.textStroke:n.stroke;return null!=i&&i!==hl}function nn(n,t){t&&ht(n,"transform","matrix("+asu.call(t,",")+")")}function ht(n,t,i){i&&("linear"===i.type||"radial"===i.type)||("string"==typeof i&&i.indexOf("NaN")>-1&&console.log(i),n.setAttribute(t,i))}function cdr(n,t,i){n.setAttributeNS("http://www.w3.org/1999/xlink",t,i)}function ivi(n,t,i){var r,u;sdr(t,i)?(r=i?t.textFill:t.fill,r="transparent"===r?hl:r,"none"!==n.getAttribute("clip-path")&&r===hl&&(r="rgba(0, 0, 0, 0.002)"),ht(n,"fill",r),ht(n,"fill-opacity",t.opacity)):ht(n,"fill",hl);hdr(t,i)?(u=i?t.textStroke:t.stroke,ht(n,"stroke",u="transparent"===u?hl:u),ht(n,"stroke-width",(i?t.textStrokeWidth:t.lineWidth)/(!i&&t.strokeNoScale?t.host.getLineScale():1)),ht(n,"paint-order",i?"stroke":"fill"),ht(n,"stroke-opacity",t.opacity),t.lineDash?(ht(n,"stroke-dasharray",t.lineDash.join(",")),ht(n,"stroke-dashoffset",akt(t.lineDashOffset||0))):ht(n,"stroke-dasharray",""),t.lineCap&&ht(n,"stroke-linecap",t.lineCap),t.lineJoin&&ht(n,"stroke-linejoin",t.lineJoin),t.miterLimit&&ht(n,"stroke-miterlimit",t.miterLimit)):ht(n,"stroke",hl)}function ldr(n){for(var r,s,k,d,f,e,p,o=[],i=n.data,tt=n.len(),t=0;t<tt;){r="";s=0;switch(i[t++]){case sl.M:r="M";s=2;break;case sl.L:r="L";s=2;break;case sl.Q:r="Q";s=4;break;case sl.C:r="C";s=6;break;case sl.A:var w=i[t++],b=i[t++],l=i[t++],a=i[t++],h=i[t++],u=i[t++],it=i[t++],v=i[t++],c=Math.abs(u),rt=blt(c-out)&&!blt(c),y=!1;y=c>=out||!blt(c)&&(u>-vkt&&u<0||u>vkt)==!!v;k=du(w+l*ntr(h));d=du(b+a*gni(h));rt&&(u=v?out-.0001:.0001-out,y=!0,9===t&&o.push("M",k,d));f=du(w+l*ntr(h+u));e=du(b+a*gni(h+u));o.push("A",du(l),du(a),akt(it*vsu),+y,+v,f,e);break;case sl.Z:r="Z";break;case sl.R:var f=du(i[t++]),e=du(i[t++]),g=du(i[t++]),nt=du(i[t++]);o.push("M",f,e,"L",f+g,e,"L",f+g,e+nt,"L",f,e+nt,"L",f,e)}for(r&&o.push(r),p=0;p<s;p++)o.push(du(i[t++]))}return o.join(" ")}function rvi(n){return"middle"===n?"middle":"bottom"===n?"baseline":"hanging"}function uvi(){}function adr(n,t){for(var i,u,r,e=0,s=t.length,o=0,f=0;e<s;e++)if(i=t[e],i.removed){for(u=[],r=f;r<f+i.count;r++)u.push(r);i.indices=u;f+=i.count}else{for(u=[],r=o;r<o+i.count;r++)u.push(r);i.indices=u;o+=i.count;i.added||(f+=i.count)}return t}function vdr(n){return{newPos:n.newPos,components:n.components.slice(0)}}function pt(n,t,i,r,u){this._zrId=n;this._svgRoot=t;this._tagNames="string"==typeof i?[i]:i;this._markLabel=r;this._domName=u||"_dom";this.nextId=0}function dh(n,t){pt.call(this,n,t,["linearGradient","radialGradient"],"__gradient_in_use__")}function gp(n,t){pt.call(this,n,t,"clipPath","__clippath_in_use__")}function is(n,t){pt.call(this,n,t,["filter"],"__filter_in_use__","_shadowDom")}function fvi(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY||n.textShadowBlur||n.textShadowOffsetX||n.textShadowOffsetY)}function tn(n){return parseInt(n,10)}function ydr(n){return n instanceof g?pb:n instanceof gi?sut:n instanceof d?hut:pb}function evi(n,t){return t&&n&&t.parentNode!==n}function rn(n,t,i){if(evi(n,t)&&i){var r=i.nextSibling;r?n.insertBefore(t,r):n.appendChild(t)}}function ovi(n,t){if(evi(n,t)){var i=n.firstChild;i?n.insertBefore(t,i):n.appendChild(t)}}function svi(n,t){t&&n&&t.parentNode===n&&n.removeChild(t)}function un(n){return n.__textSvgEl}function fn(n){return n.__svgEl}function pdr(n){return function(){us('In SVG mode painter not support method "'+n+'"')}}var wdr=2311,hvi=function(){return wdr++},bdr={},k=bdr="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:function(n){var t={},i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),u=n.match(/Edge\/([\d.]+)/),f=/micromessenger/i.test(n);return i&&(t.firefox=!0,t.version=i[1]),r&&(t.ie=!0,t.version=r[1]),u&&(t.edge=!0,t.version=u[1]),f&&(t.weChat=!0),{browser:t,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!t.ie&&!t.edge,pointerEventsSupported:"onpointerdown"in window&&(t.edge||t.ie&&t.version>=11)}}(navigator.userAgent),cvi={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},lvi={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},nw=Object.prototype.toString,tw=Array.prototype,kdr=tw.forEach,ddr=tw.filter,iw=tw.slice,gdr=tw.map,ngr=tw.reduce,klt={},aa=function(){return klt.createCanvas()},en,dlt,glt,ei,nat,vvi,nc,iat,rw,rat,va,sat,pf,f,yn,pn,wn,bn,ya,ntt,tvt,ec,hw,wyi,yvt,rpi,tit,tyt,rv,gt,rf,uit,fit,iyt,cpi,sit,fv,ryt,rt,ro,kpi,iwi,fwi,ac,syt,yit,pit,wit,hwi,wyt,lu,cwi,yc,pw,kyt,uo,dyt,di,pwi,fo,uf,tpt,rpt,urt,eo,lv,ibi,rbi,upt,kc,frt,ert,ept,ubi,srt,hpt,crt,av,hbi,vv,lr,apt,ys,gc,tb,nwt,nki,rki,twt,uki,fki,eki,iwt,ws,ub,fb,rwt,ks,uwt,fwt,aki,eb,gki,ndi,idi,swt,hwt,cwt,rdi,lwt,sb,brt,ywt,cdi,ldi,adi,vdi,ydi,pdi,tgi,igi,gwt,rgi,hb,ebt,obt,sbt,bgi,kgi,nni,tni,wbt,bbt,ini,ab,rni,gbt,uni,nkt,tkt,fni,rkt,uut,fl,sni,hni,kni,eut,sut,itr,rtr,wb;klt.createCanvas=function(){return document.createElement("canvas")};dlt="__ec_primitive__";bb.prototype={constructor:bb,get:function(n){return this.hasOwnProperty(n)?this[n]:null},set:function(n,t){return this[n]=t},each:function(n,t){void 0!==t&&(n=c(n,t));for(var i in this)this.hasOwnProperty(i)&&n(this[i],i)},removeKey:function(n){delete this[n]}};var tgr=(Object.freeze||Object)({$override:pkt,clone:h,merge:v,mergeAll:gv,extend:e,defaults:o,createCanvas:aa,getContext:wkt,indexOf:b,inherits:ot,mixin:ft,isArrayLike:se,each:t,map:r,reduce:cl,filter:ui,find:function(n,t,i){if(n&&t)for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r],r,n))return n[r]},bind:c,curry:l,isArray:i,isFunction:vr,isString:yt,isObject:a,isBuiltInObject:lut,isTypedArray:ff,isDom:ny,eqNaN:ty,retrieve:li,retrieve2:oi,retrieve3:th,slice:aut,normalizeCssArray:vut,assert:co,trim:yut,setAsPrimitive:put,isPrimitive:ll,createHashMap:y,concatArray:wut,noop:pi}),avi="undefined"==typeof Float32Array?Array:Float32Array,igr=ry,rgr=kut,gh=uy,rs=kkt,ugr=(Object.freeze||Object)({create:lo,copy:wi,clone:yu,set:bkt,add:but,scaleAndAdd:iy,sub:he,len:ry,length:igr,lenSquare:kut,lengthSquare:rgr,mul:function(n,t,i){return n[0]=t[0]*i[0],n[1]=t[1]*i[1],n},div:function(n,t,i){return n[0]=t[0]/i[0],n[1]=t[1]/i[1],n},dot:function(n,t){return n[0]*t[0]+n[1]*t[1]},scale:kb,normalize:al,distance:uy,dist:gh,distanceSquare:kkt,distSquare:rs,negate:function(n,t){return n[0]=-t[0],n[1]=-t[1],n},lerp:dkt,applyTransform:ct,min:ce,max:le});db.prototype={constructor:db,_dragStart:function(n){var t=n.target;t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.dispatchToElement(vl(t,n),"dragstart",n.event))},_drag:function(n){var i=this._draggingTarget,t,r;if(i){var u=n.offsetX,f=n.offsetY,e=u-this._x,o=f-this._y;this._x=u;this._y=f;i.drift(e,o,n);this.dispatchToElement(vl(i,n),"drag",n.event);t=this.findHover(u,f,i).target;r=this._dropTarget;this._dropTarget=t;i!==t&&(r&&t!==r&&this.dispatchToElement(vl(r,n),"dragleave",n.event),t&&t!==r&&this.dispatchToElement(vl(t,n),"dragenter",n.event))}},_dragEnd:function(n){var t=this._draggingTarget;t&&(t.dragging=!1);this.dispatchToElement(vl(t,n),"dragend",n.event);this._dropTarget&&this.dispatchToElement(vl(this._dropTarget,n),"drop",n.event);this._draggingTarget=null;this._dropTarget=null}};glt=Array.prototype.slice;ei=function(){this._$handlers={}};ei.prototype={constructor:ei,one:function(n,t,i){var r=this._$handlers,u;if(!t||!n)return this;for(r[n]||(r[n]=[]),u=0;u<r[n].length;u++)if(r[n][u].h===t)return this;return r[n].push({h:t,one:!0,ctx:i||this}),this},on:function(n,t,i){var r=this._$handlers,u;if(!t||!n)return this;for(r[n]||(r[n]=[]),u=0;u<r[n].length;u++)if(r[n][u].h===t)return this;return r[n].push({h:t,one:!1,ctx:i||this}),this},isSilent:function(n){var t=this._$handlers;return t[n]&&t[n].length},off:function(n,t){var i=this._$handlers;if(!n)return this._$handlers={},this;if(t){if(i[n]){for(var u=[],r=0,f=i[n].length;r<f;r++)i[n][r].h!=t&&u.push(i[n][r]);i[n]=u}i[n]&&0===i[n].length&&delete i[n]}else delete i[n];return this},trigger:function(n){var r,u;if(this._$handlers[n]){r=arguments;u=r.length;u>3&&(r=glt.call(r,1));for(var i=this._$handlers[n],f=i.length,t=0;t<f;){switch(u){case 1:i[t].h.call(i[t].ctx);break;case 2:i[t].h.call(i[t].ctx,r[1]);break;case 3:i[t].h.call(i[t].ctx,r[1],r[2]);break;default:i[t].h.apply(i[t].ctx,r)}i[t].one?(i.splice(t,1),f--):t++}}return this},triggerWithContext:function(n){var t,f;if(this._$handlers[n]){t=arguments;f=t.length;f>4&&(t=glt.call(t,1,t.length-1));for(var u=t[t.length-1],r=this._$handlers[n],e=r.length,i=0;i<e;){switch(f){case 1:r[i].h.call(u);break;case 2:r[i].h.call(u,t[1]);break;case 3:r[i].h.call(u,t[1],t[2]);break;default:r[i].h.apply(u,t)}r[i].one?(r.splice(i,1),e--):i++}}return this}};nat="silent";gkt.prototype.dispose=function(){};vvi=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];nc=function(n,t,i,r){ei.call(this);this.storage=n;this.painter=t;this.painterRoot=r;i=i||new gkt;this.proxy=null;this._hovered={};this._lastTouchMoment;this._lastX;this._lastY;db.call(this);this.setHandlerProxy(i)};nc.prototype={constructor:nc,setHandlerProxy:function(n){this.proxy&&this.proxy.dispose();n&&(t(vvi,function(t){n.on&&n.on(t,this[t],this)},this),n.handler=this);this.proxy=n},mousemove:function(n){var e=n.zrX,o=n.zrY,i=this._hovered,t=i.target;t&&!t.__zr&&(t=(i=this.findHover(i.x,i.y)).target);var u=this._hovered=this.findHover(e,o),r=u.target,f=this.proxy;f.setCursor&&f.setCursor(r?r.cursor:"default");t&&r!==t&&this.dispatchToElement(i,"mouseout",n);this.dispatchToElement(u,"mousemove",n);r&&r!==t&&this.dispatchToElement(u,"mouseover",n)},mouseout:function(n){this.dispatchToElement(this._hovered,"mouseout",n);var i,t=n.toElement||n.relatedTarget;do t=t&&t.parentNode;while(t&&9!=t.nodeType&&!(i=t===this.painterRoot));i||this.trigger("globalout",{event:n})},resize:function(){this._hovered={}},dispatch:function(n,t){var i=this[n];i&&i.call(this,t)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(n){var t=this.proxy;t.setCursor&&t.setCursor(n)},dispatchToElement:function(n,t,i){var r=(n=n||{}).target,f,u;if(!r||!r.silent){for(f="on"+t,u=utr(t,n,i);r&&(r[f]&&(u.cancelBubble=r[f].call(r,u)),r.trigger(t,u),r=r.parent,!u.cancelBubble););u.cancelBubble||(this.trigger(t,u),this.painter&&this.painter.eachOtherLayer(function(n){"function"==typeof n[f]&&n[f].call(n,u);n.trigger&&n.trigger(t,u)}))}},findHover:function(n,t,i){for(var e,u=this.storage.getDisplayList(),f={x:n,y:t},r=u.length-1;r>=0;r--)if(u[r]!==i&&!u[r].ignore&&(e=ftr(u[r],n,t))&&(!f.topTarget&&(f.topTarget=u[r]),e!==nat)){f.target=u[r];break}return f}};t(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){nc.prototype[n]=function(t){var r=this.findHover(t.zrX,t.zrY),i=r.target;if("mousedown"===n)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===n)this._upEl=i;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||gh(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(r,n,t)}});ft(nc,ei);ft(nc,db);var fgr="undefined"==typeof Float32Array?Array:Float32Array,egr=(Object.freeze||Object)({create:iu,identity:fy,copy:gb,mul:ih,translate:ef,rotate:ao,scale:nk,invert:tk,clone:ndt}),tat=fy,yvi=5e-5,vf=function(n){(n=n||{}).position||(this.position=[0,0]);null==n.rotation&&(this.rotation=0);n.scale||(this.scale=[1,1]);this.origin=this.origin||null},yf=vf.prototype;yf.transform=null;yf.needLocalTransform=function(){return rh(this.rotation)||rh(this.position[0])||rh(this.position[1])||rh(this.scale[0]-1)||rh(this.scale[1]-1)};yf.updateTransform=function(){var t=this.parent,r=t&&t.transform,i=this.needLocalTransform(),n=this.transform;i||r?(n=n||iu(),i?this.getLocalTransform(n):tat(n),r&&(i?ih(n,t.transform,n):gb(n,t.transform)),this.transform=n,this.invTransform=this.invTransform||iu(),tk(this.invTransform,n)):n&&tat(n)};yf.getLocalTransform=function(n){return vf.getLocalTransform(this,n)};yf.setTransform=function(n){var i=this.transform,t=n.dpr||1;i?n.setTransform(t*i[0],t*i[1],t*i[2],t*i[3],t*i[4],t*i[5]):n.setTransform(t,0,0,t,0,0)};yf.restoreTransform=function(n){var t=n.dpr||1;n.setTransform(t,0,0,t,0,0)};iat=[];yf.decomposeTransform=function(){var r,n;if(this.transform){r=this.parent;n=this.transform;r&&r.transform&&(ih(iat,r.invTransform,n),n=iat);var t=n[0]*n[0]+n[1]*n[1],i=n[2]*n[2]+n[3]*n[3],u=this.position,f=this.scale;rh(t-1)&&(t=Math.sqrt(t));rh(i-1)&&(i=Math.sqrt(i));n[0]<0&&(t=-t);n[3]<0&&(i=-i);u[0]=n[4];u[1]=n[5];f[0]=t;f[1]=i;this.rotation=Math.atan2(-n[1]/i,n[0]/t)}};yf.getGlobalScale=function(){var n=this.transform,t,i;return n?(t=Math.sqrt(n[0]*n[0]+n[1]*n[1]),i=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t=-t),n[3]<0&&(i=-i),[t,i]):[1,1]};yf.transformCoordToLocal=function(n,t){var i=[n,t],r=this.invTransform;return r&&ct(i,i,r),i};yf.transformCoordToGlobal=function(n,t){var i=[n,t],r=this.transform;return r&&ct(i,i,r),i};vf.getLocalTransform=function(n,t){tat(t=t||[]);var i=n.origin,f=n.scale||[1,1],r=n.rotation||0,u=n.position||[0,0];return i&&(t[4]-=i[0],t[5]-=i[1]),nk(t,t,f),r&&ao(t,t,r),i&&(t[4]+=i[0],t[5]+=i[1]),t[4]+=u[0],t[5]+=u[1],t};rw={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var i,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,i=.1):i=.4*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*2*Math.PI/.4))},elasticOut:function(n){var i,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,i=.1):i=.4*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-i)*2*Math.PI/.4)+1)},elasticInOut:function(n){var i,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,i=.1):i=.4*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*2*Math.PI/.4)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-i)*2*Math.PI/.4)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?n*n*((t+1)*n-t)*.5:.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-rw.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*rw.bounceIn(2*n):.5*rw.bounceOut(2*n-1)+.5}};dut.prototype={constructor:dut,step:function(n,t){var i;if(this._initialized||(this._startTime=n+this._delay,this._initialized=!0),this._paused)this._pausedTime+=t;else if(i=(n-this._startTime-this._pausedTime)/this._life,!(i<0)){i=Math.min(i,1);var r=this.easing,u="string"==typeof r?rw[r]:r,f="function"==typeof u?u(i):i;return this.fire("frame",f),1==i?this.loop?(this.restart(n),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(n){var t=(n-this._startTime-this._pausedTime)%this._life;this._startTime=n-t+this.gap;this._pausedTime=0;this._needsRemove=!1},fire:function(n,t){this[n="on"+n]&&this[n](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};rat=function(){this.head=null;this.tail=null;this._len=0};va=rat.prototype;va.insert=function(n){var t=new pvi(n);return this.insertEntry(t),t};va.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n;this._len++};va.remove=function(n){var t=n.prev,i=n.next;t?t.next=i:this.head=i;i?i.prev=t:this.tail=t;n.next=n.prev=null;this._len--};va.len=function(){return this._len};va.clear=function(){this.head=this.tail=null;this._len=0};var pvi=function(n){this.value=n;this.next;this.prev},uat=function(n){this._list=new rat;this._map={};this._maxSize=n||10;this._lastRemovedEntry=null},fat=uat.prototype;fat.put=function(n,t){var u=this._list,f=this._map,o=null,e,i,r;return null==f[n]&&(e=u.len(),i=this._lastRemovedEntry,e>=this._maxSize&&e>0&&(r=u.head,u.remove(r),delete f[r.key],o=r.value,this._lastRemovedEntry=r),i?i.value=t:i=new pvi(t),i.key=n,u.insertEntry(i),f[n]=i),o};fat.get=function(n){var t=this._map[n],i=this._list;if(null!=t)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value};fat.clear=function(){this._list.clear();this._map={}};var wvi={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},bvi=new uat(20),on=null,ogr=ey,sgr=rdt,hgr=(Object.freeze||Object)({parse:ru,lift:tdt,toHex:idt,fastLerp:ey,fastMapToColor:ogr,lerp:rdt,mapToColor:sgr,modifyHSL:wl,modifyAlpha:rk,stringify:ae}),eat=Array.prototype.slice,oat=function(n,t,i,r){this._tracks={};this._target=n;this._loop=t||!1;this._getter=i||str;this._setter=r||htr;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};oat.prototype={when:function(n,t){var r=this._tracks,i,u;for(i in t)if(t.hasOwnProperty(i)){if(!r[i]){if(r[i]=[],u=this._getter(this._target,i),null==u)continue;0!==n&&r[i].push({time:0,value:ltr(u)})}r[i].push({time:n,value:t[i]})}return this},during:function(n){return this._onframeList.push(n),this},pause:function(){for(var n=0;n<this._clipList.length;n++)this._clipList[n].pause();this._paused=!0},resume:function(){for(var n=0;n<this._clipList.length;n++)this._clipList[n].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;for(var t=this._doneList,i=t.length,n=0;n<i;n++)t[n].call(this)},start:function(n,t){var r,f=this,e=0,u,i,o;for(u in this._tracks)this._tracks.hasOwnProperty(u)&&(i=vtr(this,n,function(){--e||f._doneCallback()},this._tracks[u],u,t),i&&(this._clipList.push(i),e++,this.animation&&this.animation.addClip(i),r=i));return r&&(o=r.onframe,r.onframe=function(n,t){o(n,t);for(var i=0;i<f._onframeList.length;i++)f._onframeList[i](n,t)}),e||this._doneCallback(),this},stop:function(n){for(var r,t=this._clipList,u=this.animation,i=0;i<t.length;i++)r=t[i],n&&r.onframe(this._target,1),u&&u.removeClip(r);t.length=0},delay:function(n){return this._delay=n,this},done:function(n){return n&&this._doneList.push(n),this},getClips:function(){return this._clipList}};sat=1;"undefined"!=typeof window&&(sat=Math.max(window.devicePixelRatio||1,1));var sn=sat,cgr=function(){},us=cgr,hn=function(){this.animators=[]};hn.prototype={constructor:hn,animate:function(n,t){var f,h=!1,u=this,c=this.__zr,e,i,o,l,s,r;if(n){for(e=n.split("."),i=u,h="shape"===e[0],o=0,l=e.length;o<l;o++)i&&(i=i[e[o]]);i&&(f=i)}else f=u;if(f)return s=u.animators,r=new oat(f,t),r.during(function(){u.dirty(h)}).done(function(){s.splice(b(s,r),1)}),s.push(r),c&&c.animation.addAnimator(r),r;us('Property "'+n+'" is not existed in element '+u.id)},stopAnimation:function(n){for(var t=this.animators,r=t.length,i=0;i<r;i++)t[i].stop(n);return t.length=0,this},animateTo:function(n,t,i,r,u,f){var e,s,o;for(yt(i)?(u=r,r=i,i=0):vr(r)?(u=r,r="linear",i=0):vr(i)?(u=i,i=0):vr(t)?(u=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,n,t,i),e=this.animators.slice(),s=e.length,s||u&&u(),o=0;o<e.length;o++)e[o].done(function(){--s||u&&u()}).start(r,f)},_animateToShallow:function(n,t,i,r,u){var o={},s=0,f,e;for(f in i)i.hasOwnProperty(f)&&(null!=t[f]?a(i[f])&&!se(i[f])?this._animateToShallow(n?n+"."+f:f,t[f],i[f],r,u):(o[f]=i[f],s++):null!=i[f]&&(n?(e={},e[n]={},e[n][f]=i[f],this.attr(e)):this.attr(f,i[f])));return s>0&&this.animate(n,!1).when(null==r?500:r,o).delay(u||0),this}};pf=function(n){vf.call(this,n);ei.call(this,n);hn.call(this,n);this.id=n.id||hvi()};pf.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(n,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":n=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]);i[4]+=n;i[5]+=t;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(n,t){if("position"===n||"scale"===n||"origin"===n){if(t){var i=this[n];i||(i=this[n]=[]);i[0]=t[0];i[1]=t[1]}}else this[n]=t},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(n,t){if("string"==typeof n)this.attrKV(n,t);else if(a(n))for(var i in n)n.hasOwnProperty(i)&&this.attrKV(i,n[i]);return this.dirty(!1),this},setClipPath:function(n){var t=this.__zr;t&&n.addSelfToZr(t);this.clipPath&&this.clipPath!==n&&this.removeClipPath();this.clipPath=n;n.__zr=t;n.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var n=this.clipPath;n&&(n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(n){var t,i;if(this.__zr=n,t=this.animators,t)for(i=0;i<t.length;i++)n.animation.addAnimator(t[i]);this.clipPath&&this.clipPath.addSelfToZr(n)},removeSelfFromZr:function(n){var t,i;if(this.__zr=null,t=this.animators,t)for(i=0;i<t.length;i++)n.animation.removeAnimator(t[i]);this.clipPath&&this.clipPath.removeSelfFromZr(n)}};ft(pf,hn);ft(pf,vf);ft(pf,ei);var cn=ct,ln=Math.min,an=Math.max;w.prototype={constructor:w,union:function(n){var t=ln(n.x,this.x),i=ln(n.y,this.y);this.width=an(n.x+n.width,this.x+this.width)-t;this.height=an(n.y+n.height,this.y+this.height)-i;this.x=t;this.y=i},applyTransform:function(){var n=[],t=[],i=[],r=[];return function(u){if(u){n[0]=i[0]=this.x;n[1]=r[1]=this.y;t[0]=r[0]=this.x+this.width;t[1]=i[1]=this.y+this.height;cn(n,n,u);cn(t,t,u);cn(i,i,u);cn(r,r,u);this.x=ln(n[0],t[0],i[0],r[0]);this.y=ln(n[1],t[1],i[1],r[1]);var f=an(n[0],t[0],i[0],r[0]),e=an(n[1],t[1],i[1],r[1]);this.width=f-this.x;this.height=e-this.y}}}(),calculateTransform:function(n){var i=this,r=n.width/i.width,u=n.height/i.height,t=iu();return ef(t,t,[-i.x,-i.y]),nk(t,t,[r,u]),ef(t,t,[n.x,n.y]),t},intersect:function(n){if(!n)return!1;n instanceof w||(n=w.create(n));var t=this,i=t.x,r=t.x+t.width,u=t.y,f=t.y+t.height,e=n.x,o=n.x+n.width,s=n.y,h=n.y+n.height;return!(r<e||o<i||f<s||h<u)},contain:function(n,t){var i=this;return n>=i.x&&n<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},clone:function(){return new w(this.x,this.y,this.width,this.height)},copy:function(n){this.x=n.x;this.y=n.y;this.width=n.width;this.height=n.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};w.create=function(n){return new w(n.x,n.y,n.width,n.height)};f=function(n){n=n||{};pf.call(this,n);for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);this._children=[];this.__storage=null;this.__dirty=!0};f.prototype={constructor:f,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(n){return this._children[n]},childOfName:function(n){for(var i=this._children,t=0;t<i.length;t++)if(i[t].name===n)return i[t]},childCount:function(){return this._children.length},add:function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},addBefore:function(n,t){if(n&&n!==this&&n.parent!==this&&t&&t.parent===this){var i=this._children,r=i.indexOf(t);r>=0&&(i.splice(r,0,n),this._doAdd(n))}return this},_doAdd:function(n){n.parent&&n.parent.remove(n);n.parent=this;var t=this.__storage,i=this.__zr;t&&t!==n.__storage&&(t.addToStorage(n),n instanceof f&&n.addChildrenToStorage(t));i&&i.refresh()},remove:function(n){var i=this.__zr,t=this.__storage,r=this._children,u=b(r,n);return u<0?this:(r.splice(u,1),n.parent=null,t&&(t.delFromStorage(n),n instanceof f&&n.delChildrenFromStorage(t)),i&&i.refresh(),this)},removeAll:function(){for(var n,i=this._children,r=this.__storage,t=0;t<i.length;t++)n=i[t],r&&(r.delFromStorage(n),n instanceof f&&n.delChildrenFromStorage(r)),n.parent=null;return i.length=0,this},eachChild:function(n,t){for(var u,r=this._children,i=0;i<r.length;i++)u=r[i],n.call(t,u,i);return this},traverse:function(n,t){for(var r,i=0;i<this._children.length;i++)r=this._children[i],n.call(t,r),"group"===r.type&&r.traverse(n,t);return this},addChildrenToStorage:function(n){for(var i,t=0;t<this._children.length;t++)i=this._children[t],n.addToStorage(i),i instanceof f&&i.addChildrenToStorage(n)},delChildrenFromStorage:function(n){for(var i,t=0;t<this._children.length;t++)i=this._children[t],n.delFromStorage(i),i instanceof f&&i.delChildrenFromStorage(n)},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(n){for(var r,u,e,t=null,i=new w(0,0,0,0),o=n||this._children,s=[],f=0;f<o.length;f++)r=o[f],r.ignore||r.invisible||(u=r.getBoundingRect(),e=r.getLocalTransform(s),e?(i.copy(u),i.applyTransform(e),(t=t||i.clone()).union(i)):(t=t||u.clone()).union(u));return t||i}};ot(f,pf);var kvi=32,uw=7,hat=function(){this._roots=[];this._displayList=[];this._displayListLen=0};hat.prototype={constructor:hat,traverse:function(n,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(n,t)},getDisplayList:function(n,t){return t=t||!1,n&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(n){this._displayListLen=0;for(var i=this._roots,r=this._displayList,t=0,u=i.length;t<u;t++)this._updateAndAddDisplayable(i[t],null,n);r.length=this._displayListLen;k.canvasSupported&&uk(r,ldt)},_updateAndAddDisplayable:function(n,t,i){var f,r,e,o,u,s;if(!n.ignore||i){if(n.beforeUpdate(),n.__dirty&&n.update(),n.afterUpdate(),f=n.clipPath,f)for(t=t?t.slice():[],r=f,e=n;r;)r.parent=e,r.updateTransform(),t.push(r),e=r,r=r.clipPath;if(n.isGroup){for(o=n._children,u=0;u<o.length;u++)s=o[u],n.__dirty&&(s.__dirty=!0),this._updateAndAddDisplayable(s,t,i);n.__dirty=!1}else n.__clipPaths=t,this._displayList[this._displayListLen++]=n}},addRoot:function(n){n.__storage!==this&&(n instanceof f&&n.addChildrenToStorage(this),this.addToStorage(n),this._roots.push(n))},delRoot:function(n){var i,t,u,r;if(null==n){for(t=0;t<this._roots.length;t++)i=this._roots[t],i instanceof f&&i.delChildrenFromStorage(this);return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(n instanceof Array)for(t=0,u=n.length;t<u;t++)this.delRoot(n[t]);else r=b(this._roots,n),r>=0&&(this.delFromStorage(n),this._roots.splice(r,1),n instanceof f&&n.delChildrenFromStorage(this))},addToStorage:function(n){return n&&(n.__storage=this,n.dirty(!1)),this},delFromStorage:function(n){return n&&(n.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:ldt};var lgr={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},dvi=function(n,t,i){return lgr.hasOwnProperty(t)?i*=n.dpr:i},vn=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],tc=function(n,t){this.extendFrom(n,!1);this.host=t};for(tc.prototype={constructor:tc,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(n,t,i){for(var s,f,h,r=this,u=i&&i.style,e=!u,o=0;o<vn.length;o++)s=vn[o],f=s[0],(e||r[f]!==u[f])&&(n[f]=dvi(n,f,r[f]||s[1]));((e||r.fill!==u.fill)&&(n.fillStyle=r.fill),(e||r.stroke!==u.stroke)&&(n.strokeStyle=r.stroke),(e||r.opacity!==u.opacity)&&(n.globalAlpha=null==r.opacity?1:r.opacity),(e||r.blend!==u.blend)&&(n.globalCompositeOperation=r.blend||"source-over"),this.hasStroke())&&(h=r.lineWidth,n.lineWidth=h/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1))},hasFill:function(){var n=this.fill;return null!=n&&"none"!==n},hasStroke:function(){var n=this.stroke;return null!=n&&"none"!==n&&this.lineWidth>0},extendFrom:function(n,t){if(n)for(var i in n)!n.hasOwnProperty(i)||!0!==t&&(!1===t?this.hasOwnProperty(i):null==n[i])||(this[i]=n[i])},set:function(n,t){"string"==typeof n?this[n]=t:this.extendFrom(n,!0)},clone:function(){var n=new this.constructor;return n.extendFrom(this,!0),n},getGradient:function(n,t,i){for(var f=("radial"===t.type?ktr:btr)(n,t,i),u=t.colorStops,r=0;r<u.length;r++)f.addColorStop(u[r].offset,u[r].color);return f}},yn=tc.prototype,pn=0;pn<vn.length;pn++)wn=vn[pn],wn[0]in yn||(yn[wn[0]]=wn[1]);tc.getGradient=yn.getGradient;bn=function(n,t){this.image=n;this.repeat=t;this.type="pattern"};bn.prototype.getCanvasPattern=function(n){return n.createPattern(this.image,this.repeat||"repeat")};ya=function(n,t,i){var u,r;i=i||sn;"string"==typeof n?u=adt(n,t,i):a(n)&&(n=(u=n).id);this.id=n;this.dom=u;r=u.style;r&&(u.onselectstart=dtr,r["-webkit-user-select"]="none",r["user-select"]="none",r["-webkit-touch-callout"]="none",r["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",r.padding=0,r.margin=0,r["border-width"]=0);this.domBack=null;this.ctxBack=null;this.painter=t;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=i};ya.prototype={constructor:ya,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr},createBackBuffer:function(){var n=this.dpr;this.domBack=adt("back-"+this.id,this.painter,n);this.ctxBack=this.domBack.getContext("2d");1!=n&&this.ctxBack.scale(n,n)},resize:function(n,t){var i=this.dpr,r=this.dom,u=r.style,f=this.domBack;u&&(u.width=n+"px",u.height=t+"px");r.width=n*i;r.height=t*i;f&&(f.width=n*i,f.height=t*i,1!=i&&this.ctxBack.scale(i,i))},clear:function(n,t){var e=this.dom,i=this.ctx,r=e.width,u=e.height,t=t||this.clearColor,o=this.motionBlur&&!n,c=this.lastFrameAlpha,s=this.dpr,f,h;(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,r/s,u/s)),i.clearRect(0,0,r,u),t&&"transparent"!==t)&&(t.colorStops?(f=t.__canvasGradient||tc.getGradient(i,t,{x:0,y:0,width:r,height:u}),t.__canvasGradient=f):t.image&&(f=bn.prototype.getCanvasPattern.call(t,i)),i.save(),i.fillStyle=f||t,i.fillRect(0,0,r,u),i.restore());o&&(h=this.domBack,i.save(),i.globalAlpha=c,i.drawImage(h,0,0,r,u),i.restore())}};var cat="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){setTimeout(n,16)},lat=new uat(50),kn={},aat=0,agr=5e3,vat=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,fw="12px sans-serif",yat={};yat.measureText=function(n,t){var i=wkt();return i.font=t||fw,i.measureText(n)};var vgr={left:1,right:1,center:1},ygr={top:1,bottom:1,middle:1},pat=new w,dn=function(){};dn.prototype={constructor:dn,drawRectText:function(n,t){var i=this.style,r,u;t=i.textRect||t;this.__dirty&&hy(i);r=i.text;(null!=r&&(r+=""),ogt(r,i))&&(n.save(),u=this.transform,i.transformText?this.setTransform(n):u&&(pat.copy(t),pat.applyTransform(u),t=pat),tgt(this,n,r,i,t),n.restore())}};or.prototype={constructor:or,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(n,t){return this.rectContain(n,t)},traverse:function(n,t){n.call(t,this)},rectContain:function(n,t){var i=this.transformCoordToLocal(n,t);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(n){return this.animate("style",n)},attrKV:function(n,t){"style"!==n?pf.prototype.attrKV.call(this,n,t):this.style.set(t)},setStyle:function(n,t){return this.style.set(n,t),this.dirty(!1),this},useStyle:function(n){return this.style=new tc(n,this),this.dirty(!1),this}};ot(or,pf);ft(or,dn);gi.prototype={constructor:gi,type:"image",brush:function(n,t){var i=this.style,v=i.image,r,e,o,l,a;if(i.bind(n,this,t),r=this._image=vdt(v,this._image,this,this.onload),r&&fk(r)){var s=i.x||0,h=i.y||0,u=i.width,f=i.height,c=r.width/r.height;(null==u&&null!=f?u=f*c:null==f&&null!=u?f=u/c:null==u&&null==f&&(u=r.width,f=r.height),this.setTransform(n),i.sWidth&&i.sHeight)?(e=i.sx||0,o=i.sy||0,n.drawImage(r,e,o,i.sWidth,i.sHeight,s,h,u,f)):i.sx&&i.sy?(l=u-(e=i.sx),a=f-(o=i.sy),n.drawImage(r,e,o,l,a,s,h,u,f)):n.drawImage(r,s,h,u,f);null!=i.text&&(this.restoreTransform(n),this.drawRectText(n,this.getBoundingRect()))}},getBoundingRect:function(){var n=this.style;return this._rect||(this._rect=new w(n.x||0,n.y||0,n.width||0,n.height||0)),this._rect}};ot(gi,or);var wat=new w(0,0,0,0),bat=new w(0,0,0,0),kat=function(n,t,i){var s,r,h,c,f,o,u,l;this.type="canvas";s=!n.nodeName||"CANVAS"===n.nodeName.toUpperCase();this._opts=i=e({},i||{});this.dpr=i.devicePixelRatio||sn;this._singleCanvas=s;this.root=n;r=n.style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]=r["user-select"]=r["-webkit-touch-callout"]="none",n.innerHTML="");this.storage=t;h=this._zlevelList=[];c=this._layers={};(this._layerConfig={},this._needsManuallyCompositing=!1,s)?(f=n.width,o=n.height,null!=i.width&&(f=i.width),null!=i.height&&(o=i.height),this.dpr=i.devicePixelRatio||1,n.width=f*this.dpr,n.height=o*this.dpr,this._width=f,this._height=o,u=new ya(n,this,this.dpr),u.__builtin__=!0,u.initContext(),c[314159]=u,u.zlevel=314159,h.push(314159),this._domRoot=n):(this._width=this._getSize(0),this._height=this._getSize(1),l=this._domRoot=vir(this._width,this._height),n.appendChild(l));this._hoverlayer=null;this._hoverElements=[]};kat.prototype={constructor:kat,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},refresh:function(n){var e=this.storage.getDisplayList(!0),r=this._zlevelList,t,u,i,f;for(this._redrawId=Math.random(),this._paintList(e,n,this._redrawId),t=0;t<r.length;t++)u=r[t],i=this._layers[u],!i.__builtin__&&i.refresh&&(f=0===t?this._backgroundColor:null,i.refresh(f));return this.refreshHover(),this},addHover:function(n,t){if(!n.__hoverMir){var i=new n.constructor({style:n.style,shape:n.shape});i.__from=n;n.__hoverMir=i;i.setStyle(t);this._hoverElements.push(i)}},removeHover:function(n){var r=n.__hoverMir,t=this._hoverElements,i=b(t,r);i>=0&&t.splice(i,1);n.__hoverMir=null},clearHover:function(){for(var i,n=this._hoverElements,t=0;t<n.length;t++)i=n[t].__from,i&&(i.__hoverMir=null);n.length=0},refreshHover:function(){var u=this._hoverElements,f=u.length,t=this._hoverlayer,e,r,i,n;if(t&&t.clear(),f){for(uk(u,this.storage.displayableSortFunc),t||(t=this._hoverlayer=this.getLayer(1e5)),e={},t.ctx.save(),r=0;r<f;)i=u[r],n=i.__from,n&&n.__zr?(r++,n.invisible||(i.transform=n.transform,i.invTransform=n.invTransform,i.__clipPaths=n.__clipPaths,this._doPaintEl(i,t,!0,e))):(u.splice(r,1),n.__hoverMir=null,f--);t.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(n,t,i){var r,u;this._redrawId===i&&(t=t||!1,this._updateLayerStatus(n),r=this._doPaintList(n,t),(this._needsManuallyCompositing&&this._compositeManually(),r)||(u=this,cat(function(){u._paintList(n,t,i)})))},_compositeManually:function(){var n=this.getLayer(314159).ctx,t=this._domRoot.width,i=this._domRoot.height;n.clearRect(0,0,t,i);this.eachBuiltinLayer(function(r){r.virtual&&n.drawImage(r.dom,0,0,t,i)})},_doPaintList:function(n,i){for(var v,h,s,l,f,a,e=[],o=0;o<this._zlevelList.length;o++)v=this._zlevelList[o],(r=this._layers[v]).__builtin__&&r!==this._hoverlayer&&(r.__dirty||i)&&e.push(r);for(h=!0,s=0;s<e.length;s++){var r=e[s],c=r.ctx,y={};c.save();var u=i?r.__startIndex:r.__drawIndex,p=!i&&r.incremental&&Date.now,b=p&&Date.now(),w=r.zlevel===this._zlevelList[0]?this._backgroundColor:null;for(r.__startIndex===r.__endIndex?r.clear(!1,w):u===r.__startIndex&&(l=n[u],l.incremental&&l.notClear&&!i||r.clear(!1,w)),-1===u&&(console.error("For some unknown reason. drawIndex is -1"),u=r.__startIndex),f=u;f<r.__endIndex;f++)if(a=n[f],this._doPaintEl(a,r,i,y),a.__dirty=!1,p&&Date.now()-b>15)break;r.__drawIndex=f;r.__drawIndex<r.__endIndex&&(h=!1);y.prevElClipPaths&&c.restore();c.restore()}return k.wxa&&t(this._layers,function(n){n&&n.ctx&&n.ctx.draw&&n.ctx.draw()}),h},_doPaintEl:function(n,t,i,r){var u=t.ctx,e=n.transform,f;!(t.__dirty||i)||n.invisible||0===n.style.opacity||e&&!e[0]&&!e[3]||n.culling&&cir(n,this._width,this._height)||(f=n.__clipPaths,r.prevElClipPaths&&!lir(f,r.prevElClipPaths)||(r.prevElClipPaths&&(t.ctx.restore(),r.prevElClipPaths=null,r.prevEl=null),f&&(u.save(),air(f,u),r.prevElClipPaths=f)),n.beforeBrush&&n.beforeBrush(u),n.brush(u,r.prevEl||null),r.prevEl=n,n.afterBrush&&n.afterBrush(u))},getLayer:function(n,t){this._singleCanvas&&!this._needsManuallyCompositing&&(n=314159);var i=this._layers[n];return i||((i=new ya("zr_"+n,this,this.dpr)).zlevel=n,i.__builtin__=!0,this._layerConfig[n]&&v(i,this._layerConfig[n],!0),t&&(i.virtual=t),this.insertLayer(n,i),i.initContext()),i},insertLayer:function(n,t){var f=this._layers,r=this._zlevelList,s=r.length,e=null,i=-1,u=this._domRoot,o;if(f[n])us("ZLevel "+n+" has been used already");else if(hir(t)){if(s>0&&n>r[0]){for(i=0;i<s-1&&!(r[i]<n&&r[i+1]>n);i++);e=f[r[i]]}(r.splice(i+1,0,n),f[n]=t,t.virtual)||(e?(o=e.dom,o.nextSibling?u.insertBefore(t.dom,o.nextSibling):u.appendChild(t.dom)):u.firstChild?u.insertBefore(t.dom,u.firstChild):u.appendChild(t.dom))}else us("Layer of zlevel "+n+" is not valid")},eachLayer:function(n,t){for(var r,u=this._zlevelList,i=0;i<u.length;i++)r=u[i],n.call(t,this._layers[r],r)},eachBuiltinLayer:function(n,t){for(var u,r,f=this._zlevelList,i=0;i<f.length;i++)r=f[i],(u=this._layers[r]).__builtin__&&n.call(t,u,r)},eachOtherLayer:function(n,t){for(var u,r,f=this._zlevelList,i=0;i<f.length;i++)r=f[i],(u=this._layers[r]).__builtin__||n.call(t,u,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(n){function e(n){r&&(r.__endIndex!==n&&(r.__dirty=!0),r.__endIndex=n)}var t,u,f;if(this.eachBuiltinLayer(function(n){n.__dirty=n.__used=!1}),this._singleCanvas)for(i=1;i<n.length;i++)if((u=n[i]).zlevel!==n[i-1].zlevel||u.incremental){this._needsManuallyCompositing=!0;break}for(var r=null,o=0,i=0;i<n.length;i++)u=n[i],f=u.zlevel,u.incremental?((t=this.getLayer(f+.001,this._needsManuallyCompositing)).incremental=!0,o=1):t=this.getLayer(f+(o>0?.01:0),this._needsManuallyCompositing),t.__builtin__||us("ZLevel "+f+" has been used by unkown layer "+t.id),t!==r&&(t.__used=!0,t.__startIndex!==i&&(t.__dirty=!0),t.__startIndex=i,t.__drawIndex=t.incremental?-1:i,e(i),r=t),u.__dirty&&(t.__dirty=!0,t.incremental&&t.__drawIndex<0&&(t.__drawIndex=i));e(i);this.eachBuiltinLayer(function(n){!n.__used&&n.getElementCount()>0&&(n.__dirty=!0,n.__startIndex=n.__endIndex=n.__drawIndex=0);n.__dirty&&n.__drawIndex<0&&(n.__drawIndex=n.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(n){n.clear()},setBackgroundColor:function(n){this._backgroundColor=n},configLayer:function(n,t){var i,r,u;if(t)for(i=this._layerConfig,i[n]?v(i[n],t,!0):i[n]=t,r=0;r<this._zlevelList.length;r++)u=this._zlevelList[r],u!==n&&u!==n+.01||v(this._layers[u],i[n],!0)},delLayer:function(n){var i=this._layers,r=this._zlevelList,t=i[n];t&&(t.dom.parentNode.removeChild(t.dom),delete i[n],r.splice(b(r,n),1))},resize:function(n,i){var r,u,f;if(this._domRoot.style){if(r=this._domRoot,r.style.display="none",u=this._opts,null!=n&&(u.width=n),null!=i&&(u.height=i),n=this._getSize(0),i=this._getSize(1),r.style.display="",this._width!=n||i!=this._height){r.style.width=n+"px";r.style.height=i+"px";for(f in this._layers)this._layers.hasOwnProperty(f)&&this._layers[f].resize(n,i);t(this._progressiveLayers,function(t){t.resize(n,i)});this.refresh(!0)}this._width=n;this._height=i}else{if(null==n||null==i)return;this._width=n;this._height=i;this.getLayer(314159).resize(n,i)}return this},clearLayer:function(n){var t=this._layers[n];t&&t.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(n){var t,u;if(n=n||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;if(t=new ya("image",this,n.pixelRatio||this.dpr),t.initContext(),t.clear(!1,n.backgroundColor||this._backgroundColor),n.pixelRatio<=this.dpr){this.refresh();var f=t.dom.width,e=t.dom.height,o=t.ctx;this.eachLayer(function(n){n.__builtin__?o.drawImage(n.dom,0,0,f,e):n.renderToCanvas&&(t.ctx.save(),n.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var s={},r=this.storage.getDisplayList(!0),i=0;i<r.length;i++)u=r[i],this._doPaintEl(u,t,!0,s);return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(n){var u=this._opts,t=["width","height"][n],f=["clientWidth","clientHeight"][n],e=["paddingLeft","paddingTop"][n],o=["paddingRight","paddingBottom"][n],i,r;return null!=u[t]&&"auto"!==u[t]?parseFloat(u[t]):(i=this.root,r=document.defaultView.getComputedStyle(i),(i[f]||ek(r[t])||ek(i.style[t]))-(ek(r[e])||0)-(ek(r[o])||0)|0)},pathToImage:function(n,t){var i,u;t=t||this.dpr;var f=document.createElement("canvas"),e=f.getContext("2d"),o=n.getBoundingRect(),r=n.style,s=r.shadowBlur*t,c=r.shadowOffsetX*t,l=r.shadowOffsetY*t,h=r.hasStroke()?r.lineWidth:0,a=Math.max(h/2,-c+s),w=Math.max(h/2,c+s),v=Math.max(h/2,-l+s),b=Math.max(h/2,l+s),y=o.width+a+w,p=o.height+v+b;return f.width=y*t,f.height=p*t,e.scale(t,t),e.clearRect(0,0,y,p),e.dpr=t,i={position:n.position,rotation:n.rotation,scale:n.scale},n.position=[a-o.x,v-o.y],n.rotation=0,n.scale=[1,1],n.updateTransform(),n&&n.brush(e),u=new gi({style:{x:0,y:0,image:f}}),null!=i.position&&(u.position=n.position=i.position),null!=i.rotation&&(u.rotation=n.rotation=i.rotation),null!=i.scale&&(u.scale=n.scale=i.scale),u}};var dat="undefined"!=typeof window&&!!window.addEventListener,pgr=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fs=dat?function(n){n.preventDefault();n.stopPropagation();n.cancelBubble=!0}:function(n){n.returnValue=!1;n.cancelBubble=!0},gn=function(n){n=n||{};this.stage=n.stage||{};this.onframe=n.onframe||function(){};this._clips=[];this._running=!1;this._time;this._pausedTime;this._pauseStart;this._paused=!1;ei.call(this)};gn.prototype={constructor:gn,addClip:function(n){this._clips.push(n)},addAnimator:function(n){n.animation=this;for(var i=n.getClips(),t=0;t<i.length;t++)this.addClip(i[t])},removeClip:function(n){var t=b(this._clips,n);t>=0&&this._clips.splice(t,1)},removeAnimator:function(n){for(var i=n.getClips(),t=0;t<i.length;t++)this.removeClip(i[t]);n.animation=null},_update:function(){for(var e,o,r=(new Date).getTime()-this._pausedTime,u=r-this._time,t=this._clips,i=t.length,f=[],s=[],n=0;n<i;n++)e=t[n],o=e.step(r,u),o&&(f.push(o),s.push(e));for(n=0;n<i;)t[n]._needsRemove?(t[n]=t[i-1],t.pop(),i--):n++;for(i=f.length,n=0;n<i;n++)s[n].fire(f[n]);this._time=r;this.onframe(u);this.trigger("frame",u);this.stage.update&&this.stage.update()},_startLoop:function(){function t(){n._running&&(cat(t),!n._paused&&n._update())}var n=this;this._running=!0;cat(t)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(n,t){var i=new oat(n,(t=t||{}).loop,t.getter,t.setter);return this.addAnimator(i),i}};ft(gn,ei);ntt=function(){this._track=[]};ntt.prototype={constructor:ntt,recognize:function(n,t,i){return this._doTrack(n,t,i),this._recognize(n)},clear:function(){return this._track.length=0,this},_doTrack:function(n,t,i){var r=n.touches,e,o;if(r){for(var u={points:[],touches:[],target:t,event:n},f=0,s=r.length;f<s;f++)e=r[f],o=yft(i,e,{}),u.points.push([o.zrX,o.zrY]),u.touches.push(e);this._track.push(u)}},_recognize:function(n){var t,i;for(t in gat)if(gat.hasOwnProperty(t)&&(i=gat[t](this._track,n),i))return i}};var gat={pinch:function(n,t){var f=n.length,i,r,u,e;if(f&&(i=(n[f-1]||{}).points,r=(n[f-2]||{}).points||i,r&&r.length>1&&i&&i.length>1))return u=hgt(i)/hgt(r),isFinite(u)||(u=1),t.pinchScale=u,e=wir(i),t.pinchX=e[0],t.pinchY=e[1],{type:"pinch",target:n[0].target,event:t}}},ttt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],nvt=["touchstart","touchend","touchmove"],wgr={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},gvi=r(ttt,function(n){var t=n.replace("mouse","pointer");return wgr[t]?t:n}),kr={mousemove:function(n){n=uh(this.dom,n);this.trigger("mousemove",n)},mouseout:function(n){var t=(n=uh(this.dom,n)).toElement||n.relatedTarget;if(t!=this.dom)for(;t&&9!=t.nodeType;){if(t===this.dom)return;t=t.parentNode}this.trigger("mouseout",n)},touchstart:function(n){(n=uh(this.dom,n)).zrByTouch=!0;this._lastTouchMoment=new Date;wft(this,n,"start");kr.mousemove.call(this,n);kr.mousedown.call(this,n);bft(this)},touchmove:function(n){(n=uh(this.dom,n)).zrByTouch=!0;wft(this,n,"change");kr.mousemove.call(this,n);bft(this)},touchend:function(n){(n=uh(this.dom,n)).zrByTouch=!0;wft(this,n,"end");kr.mouseup.call(this,n);+new Date-this._lastTouchMoment<300&&kr.click.call(this,n);bft(this)},pointerdown:function(n){kr.mousedown.call(this,n)},pointermove:function(n){lgt(n)||kr.mousemove.call(this,n)},pointerup:function(n){kr.mouseup.call(this,n)},pointerout:function(n){lgt(n)||kr.mouseout.call(this,n)}};t(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){kr[n]=function(t){t=uh(this.dom,t);this.trigger(n,t)}});tvt=kft.prototype;tvt.dispose=function(){for(var i,t=ttt.concat(nvt),n=0;n<t.length;n++)i=t[n],pir(this.dom,cgt(i),this._handlers[i])};tvt.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")};ft(kft,ei);var bgr=!k.canvasSupported,itt={canvas:kat},ic={},ivt=function(n,t,i){var f,o,s,h;i=i||{};this.dom=t;this.id=n;var e=this,r=new hat,u=i.renderer;if(bgr){if(!itt.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");u="vml"}else u&&itt[u]||(u="canvas");f=new itt[u](t,r,i,n);this.storage=r;this.painter=f;o=k.node||k.worker?null:new kft(f.getViewportRoot());this.handler=new nc(r,f,o,f.root);this.animation=new gn({stage:{update:c(this.flush,this)}});this.animation.start();this._needsRefresh;s=r.delFromStorage;h=r.addToStorage;r.delFromStorage=function(n){s.call(r,n);n&&n.removeSelfFromZr(e)};r.addToStorage=function(n){h.call(r,n);n.addSelfToZr(e)}};ivt.prototype={constructor:ivt,getId:function(){return this.id},add:function(n){this.storage.addRoot(n);this._needsRefresh=!0},remove:function(n){this.storage.delRoot(n);this._needsRefresh=!0},configLayer:function(n,t){this.painter.configLayer&&this.painter.configLayer(n,t);this._needsRefresh=!0},setBackgroundColor:function(n){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1;this.painter.refresh();this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var n;this._needsRefresh&&(n=!0,this.refreshImmediately());this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());n&&this.trigger("rendered")},addHover:function(n,t){this.painter.addHover&&(this.painter.addHover(n,t),this.refreshHover())},removeHover:function(n){this.painter.removeHover&&(this.painter.removeHover(n),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(n){n=n||{};this.painter.resize(n.width,n.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(n,t){return this.painter.pathToImage(n,t)},setCursorStyle:function(n){this.handler.setCursorStyle(n)},findHover:function(n,t){return this.handler.findHover(n,t)},on:function(n,t,i){this.handler.on(n,t,i)},off:function(n,t){this.handler.off(n,t)},trigger:function(n,t){this.handler.trigger(n,t)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;kir(this.id)}};var kgr=(Object.freeze||Object)({version:"4.0.4",init:dft,dispose:function(n){if(n)n.dispose();else{for(var t in ic)ic.hasOwnProperty(t)&&ic[t].dispose();ic={}}return this},getInstance:function(n){return ic[n]},registerPainter:gft}),pa=t,wa=a,dgr=i,nyi="series\0",tyi=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],ggr=0,nnr=".",rc="___EC__COMPONENT__CONTAINER___",tnr=0,ba=function(n){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return function(t,i,r){for(var f,o,e={},u=0;u<n.length;u++)f=n[u][1],i&&b(i,f)>=0||r&&b(r,f)<0||(o=t.getShallow(f),null!=o&&(e[n[u][0]]=o));return e}},inr=ba([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),rnr={getLineStyle:function(n){var t=inr(this,n),i=this.getLineDash(t.lineWidth);return i&&(t.lineDash=i),t},getLineDash:function(n){null==n&&(n=1);var t=this.get("type"),i=Math.max(n,2),r=4*n;return"solid"===t||null==t?null:"dashed"===t?[r,r]:[i,i]}},unr=ba([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),fnr={getAreaStyle:function(n,t){return unr(this,n,t)}},rtt=Math.pow,es=Math.sqrt,utt=1e-8,iyi=.0001,ryi=es(3),ftt=1/3,wf=lo(),ou=lo(),ka=lo(),sr=Math.min,hr=Math.max,rvt=Math.sin,uvt=Math.cos,uc=2*Math.PI,ett=lo(),ott=lo(),stt=lo(),uyi=[],fyi=[],ni={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},bf=[],os=[],kf=[],df=[],eyi=Math.min,oyi=Math.max,ew=Math.cos,ow=Math.sin,htt=Math.sqrt,da=Math.abs,fvt="undefined"!=typeof Float32Array,dr=function(n){this._saveData=!n;this._saveData&&(this.data=[]);this._ctx=null};dr.prototype={constructor:dr,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(n,t){this._ux=da(1/sn/n)||0;this._uy=da(1/sn/t)||0},getContext:function(){return this._ctx},beginPath:function(n){return this._ctx=n,n&&n.beginPath(),n&&(this.dpr=n.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(n,t){return this.addData(ni.M,n,t),this._ctx&&this._ctx.moveTo(n,t),this._x0=n,this._y0=t,this._xi=n,this._yi=t,this},lineTo:function(n,t){var i=da(n-this._xi)>this._ux||da(t-this._yi)>this._uy||this._len<5;return this.addData(ni.L,n,t),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(n,t):this._ctx.lineTo(n,t)),i&&(this._xi=n,this._yi=t),this},bezierCurveTo:function(n,t,i,r,u,f){return this.addData(ni.C,n,t,i,r,u,f),this._ctx&&(this._needsDash()?this._dashedBezierTo(n,t,i,r,u,f):this._ctx.bezierCurveTo(n,t,i,r,u,f)),this._xi=u,this._yi=f,this},quadraticCurveTo:function(n,t,i,r){return this.addData(ni.Q,n,t,i,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(n,t,i,r):this._ctx.quadraticCurveTo(n,t,i,r)),this._xi=i,this._yi=r,this},arc:function(n,t,i,r,u,f){return this.addData(ni.A,n,t,i,i,r,u-r,0,f?0:1),this._ctx&&this._ctx.arc(n,t,i,r,u,f),this._xi=ew(u)*i+n,this._yi=ow(u)*i+n,this},arcTo:function(n,t,i,r,u){return this._ctx&&this._ctx.arcTo(n,t,i,r,u),this},rect:function(n,t,i,r){return this._ctx&&this._ctx.rect(n,t,i,r),this.addData(ni.R,n,t,i,r),this},closePath:function(){this.addData(ni.Z);var n=this._ctx,t=this._x0,i=this._y0;return n&&(this._needsDash()&&this._dashedLineTo(t,i),n.closePath()),this._xi=t,this._yi=i,this},fill:function(n){n&&n.fill();this.toStatic()},stroke:function(n){n&&n.stroke();this.toStatic()},setLineDash:function(n){if(n instanceof Array){this._lineDash=n;this._dashIdx=0;for(var i=0,t=0;t<n.length;t++)i+=n[t];this._dashSum=i}return this},setLineDashOffset:function(n){return this._dashOffset=n,this},len:function(){return this._len},setData:function(n){var i=n.length,t;for(this.data&&this.data.length==i||!fvt||(this.data=new Float32Array(i)),t=0;t<i;t++)this.data[t]=n[t];this._len=i},appendPath:function(n){var u,i;n instanceof Array||(n=[n]);for(var f=n.length,e=0,r=this._len,t=0;t<f;t++)e+=n[t].len();for(fvt&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+e)),t=0;t<f;t++)for(u=n[t].data,i=0;i<u.length;i++)this.data[r++]=u[i];this._len=r},addData:function(n){var t,i;if(this._saveData){for(t=this.data,this._len+arguments.length>t.length&&(this._expandData(),t=this.data),i=0;i<arguments.length;i++)t[this._len++]=arguments[i];this._prevCmd=n}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(n,t){var c,h,l=this._dashSum,e=this._dashOffset,a=this._lineDash,y=this._ctx,o=this._xi,s=this._yi,i=n-o,r=t-s,v=htt(i*i+r*r),u=o,f=s,p=a.length;for(i/=v,r/=v,e<0&&(e=l+e),u-=(e%=l)*i,f-=e*r;i>0&&u<=n||i<0&&u>=n||0==i&&(r>0&&f<=t||r<0&&f>=t);)u+=i*(c=a[h=this._dashIdx]),f+=r*c,this._dashIdx=(h+1)%p,i>0&&u<o||i<0&&u>o||r>0&&f<s||r<0&&f>s||y[h%2?"moveTo":"lineTo"](i>=0?eyi(u,n):oyi(u,n),r>=0?eyi(f,t):oyi(f,t));i=u-n;r=f-t;this._dashOffset=-htt(i*i+r*r)},_dashedBezierTo:function(n,t,i,r,u,f){var e,s,h,a,v,d=this._dashSum,c=this._dashOffset,y=this._lineDash,p=this._ctx,w=this._xi,b=this._yi,l=ur,k=0,o=this._dashIdx,g=y.length,nt=0;for(c<0&&(c=d+c),c%=d,e=0;e<1;e+=.1)s=l(w,n,i,u,e+.1)-l(w,n,i,u,e),h=l(b,t,r,f,e+.1)-l(b,t,r,f,e),k+=htt(s*s+h*h);for(;o<g&&!((nt+=y[o])>c);o++);for(e=(nt-c)/k;e<=1;)a=l(w,n,i,u,e),v=l(b,t,r,f,e),o%2?p.moveTo(a,v):p.lineTo(a,v),e+=y[o]/k,o=(o+1)%g;o%2!=0&&p.lineTo(u,f);s=u-a;h=f-v;this._dashOffset=-htt(s*s+h*h)},_dashedQuadraticTo:function(n,t,i,r){var u=i,f=r;i=(i+2*n)/3;r=(r+2*t)/3;n=(this._xi+2*n)/3;t=(this._yi+2*t)/3;this._dashedBezierTo(n,t,i,r,u,f)},toStatic:function(){var n=this.data;n instanceof Array&&(n.length=this._len,fvt&&(this.data=new Float32Array(n)))},getBoundingRect:function(){var a;bf[0]=bf[1]=kf[0]=kf[1]=Number.MAX_VALUE;os[0]=os[1]=df[0]=df[1]=-Number.MAX_VALUE;for(var t=this.data,i=0,r=0,u=0,f=0,n=0;n<t.length;){a=t[n++];switch(1==n&&(u=i=t[n],f=r=t[n+1]),a){case ni.M:i=u=t[n++];r=f=t[n++];kf[0]=u;kf[1]=f;df[0]=u;df[1]=f;break;case ni.L:ggt(i,r,t[n],t[n+1],kf,df);i=t[n++];r=t[n++];break;case ni.C:srr(i,r,t[n++],t[n++],t[n++],t[n++],t[n],t[n+1],kf,df);i=t[n++];r=t[n++];break;case ni.Q:hrr(i,r,t[n++],t[n++],t[n],t[n+1],kf,df);i=t[n++];r=t[n++];break;case ni.A:var o=t[n++],s=t[n++],h=t[n++],c=t[n++],e=t[n++],l=t[n++]+e,v=(t[n++],1-t[n++]);1==n&&(u=ew(e)*h+o,f=ow(e)*c+s);crr(o,s,h,c,e,l,v,kf,df);i=ew(l)*h+o;r=ow(l)*c+s;break;case ni.R:ggt(u=i=t[n++],f=r=t[n++],u+t[n++],f+t[n++],kf,df);break;case ni.Z:i=u;r=f}ce(bf,bf,kf);le(os,os,df)}return 0===n&&(bf[0]=bf[1]=os[0]=os[1]=0),new w(bf[0],bf[1],os[0]-bf[0],os[1]-bf[1])},rebuildPath:function(n){for(var w,o,s,r,u,a,v,i=this.data,tt=this._ux,it=this._uy,p=this._len,t=0;t<p;){w=i[t++];switch(1==t&&(o=r=i[t],s=u=i[t+1]),w){case ni.M:o=r=i[t++];s=u=i[t++];n.moveTo(r,u);break;case ni.L:a=i[t++];v=i[t++];(da(a-r)>tt||da(v-u)>it||t===p-1)&&(n.lineTo(a,v),r=a,u=v);break;case ni.C:n.bezierCurveTo(i[t++],i[t++],i[t++],i[t++],i[t++],i[t++]);r=i[t-2];u=i[t-1];break;case ni.Q:n.quadraticCurveTo(i[t++],i[t++],i[t++],i[t++]);r=i[t-2];u=i[t-1];break;case ni.A:var h=i[t++],c=i[t++],f=i[t++],e=i[t++],l=i[t++],rt=i[t++],b=i[t++],k=i[t++],d=f>e?f:e,g=f>e?1:f/e,nt=f>e?e/f:1,y=l+rt;Math.abs(f-e)>.001?(n.translate(h,c),n.rotate(b),n.scale(g,nt),n.arc(0,0,d,l,y,1-k),n.scale(1/g,1/nt),n.rotate(-b),n.translate(-h,-c)):n.arc(h,c,d,l,y,1-k);1==t&&(o=ew(l)*f+h,s=ow(l)*e+c);r=ew(y)*f+h;u=ow(y)*e+c;break;case ni.R:o=r=i[t];s=u=i[t+1];n.rect(i[t++],i[t++],i[t++],i[t++]);break;case ni.Z:n.closePath();r=o;u=s}}}};dr.CMD=ni;var syi=2*Math.PI,sw=2*Math.PI,ss=dr.CMD,ga=2*Math.PI,enr=.0001,er=[-1,-1,-1],su=[-1,-1],hyi=bn.prototype.getCanvasPattern,evt=Math.abs,onr=new dr(!0);g.prototype={constructor:g,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(n,t){var i=this.style,r=this.path||onr,e=i.hasStroke(),c=i.hasFill(),o=i.fill,s=i.stroke,l=c&&!!o.colorStops,a=e&&!!s.colorStops,p=c&&!!o.image,w=e&&!!s.image,u;(i.bind(n,this,t),this.setTransform(n),this.__dirty)&&(l&&(u=u||this.getBoundingRect(),this._fillGradient=i.getGradient(n,o,u)),a&&(u=u||this.getBoundingRect(),this._strokeGradient=i.getGradient(n,s,u)));l?n.fillStyle=this._fillGradient:p&&(n.fillStyle=hyi.call(o,n));a?n.strokeStyle=this._strokeGradient:w&&(n.strokeStyle=hyi.call(s,n));var f=i.lineDash,v=i.lineDashOffset,h=!!n.setLineDash,y=this.getGlobalScale();r.setScale(y[0],y[1]);this.__dirtyPath||f&&!h&&e?(r.beginPath(n),f&&!h&&(r.setLineDash(f),r.setLineDashOffset(v)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(n.beginPath(),this.path.rebuildPath(n));c&&r.fill(n);f&&h&&(n.setLineDash(f),n.lineDashOffset=v);e&&r.stroke(n);f&&h&&n.setLineDash([]);null!=i.text&&(this.restoreTransform(n),this.drawRectText(n,this.getBoundingRect()))},buildPath:function(){},createPathProxy:function(){this.path=new dr},getBoundingRect:function(){var i=this._rect,f=this.style,e=!i,r,n,t,u;return(e&&(r=this.path,r||(r=this.path=new dr),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),i=r.getBoundingRect()),this._rect=i,f.hasStroke())?(n=this._rectWithStroke||(this._rectWithStroke=i.clone()),(this.__dirty||e)&&(n.copy(i),t=f.lineWidth,u=f.strokeNoScale?this.getLineScale():1,f.hasFill()||(t=Math.max(t,this.strokeContainThreshold||4)),u>1e-10&&(n.width+=t/u,n.height+=t/u,n.x-=t/u/2,n.y-=t/u/2)),n):i},contain:function(n,t){var e=this.transformCoordToLocal(n,t),o=this.getBoundingRect(),i=this.style,u,r,f;if(n=e[0],t=e[1],o.contain(n,t)){if(u=this.path.data,i.hasStroke()&&(r=i.lineWidth,f=i.strokeNoScale?this.getLineScale():1,f>1e-10&&(i.hasFill()||(r=Math.max(r,this.strokeContainThreshold)),drr(u,r/f,n,t))))return!0;if(i.hasFill())return krr(u,n,t)}return!1},dirty:function(n){null==n&&(n=!0);n&&(this.__dirtyPath=n,this._rect=null);this.__dirty=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(n){return this.animate("shape",n)},attrKV:function(n,t){"shape"===n?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):or.prototype.attrKV.call(this,n,t)},setShape:function(n,t){var r=this.shape,i;if(r){if(a(n))for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);else r[n]=t;this.dirty(!0)}return this},getLineScale:function(){var n=this.transform;return n&&evt(n[0]-1)>1e-10&&evt(n[3]-1)>1e-10?Math.sqrt(evt(n[0]*n[3]-n[2]*n[1])):1}};g.extend=function(n){var i=function(t){var i,u,r;if(g.call(this,t),n.style&&this.style.extendFrom(n.style,!1),i=n.shape,i){this.shape=this.shape||{};u=this.shape;for(r in i)!u.hasOwnProperty(r)&&i.hasOwnProperty(r)&&(u[r]=i[r])}n.init&&n.init.call(this,t)},t;ot(i,g);for(t in n)"style"!==t&&"shape"!==t&&(i.prototype[t]=n[t]);return i};ot(g,or);var nv=dr.CMD,snr=[[],[],[]],cyi=Math.sqrt,hnr=Math.atan2,cnr=function(n,t){for(var c,e,o,u,i=n.data,a=nv.M,v=nv.C,y=nv.L,p=nv.R,w=nv.A,b=nv.Q,r=0,f=0;r<i.length;){switch(c=i[r++],f=r,e=0,c){case a:case y:e=1;break;case v:e=3;break;case b:e=2;break;case w:var k=t[4],d=t[5],s=cyi(t[0]*t[0]+t[1]*t[1]),h=cyi(t[2]*t[2]+t[3]*t[3]),l=hnr(-t[1]/h,t[0]/s);i[r]*=s;i[r++]+=k;i[r]*=h;i[r++]+=d;i[r++]*=s;i[r++]*=h;i[r++]+=l;i[r++]+=l;f=r+=2;break;case p:u[0]=i[r++];u[1]=i[r++];ct(u,u,t);i[f++]=u[0];i[f++]=u[1];u[0]+=i[r++];u[1]+=i[r++];ct(u,u,t);i[f++]=u[0];i[f++]=u[1]}for(o=0;o<e;o++)(u=snr[o])[0]=i[r++],u[1]=i[r++],ct(u,u,t),i[f++]=u[0],i[f++]=u[1]}},ovt=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],svt=Math.sqrt,ctt=Math.sin,ltt=Math.cos,att=Math.PI,lyi=function(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])},hvt=function(n,t){return(n[0]*t[0]+n[1]*t[1])/(lyi(n)*lyi(t))},ayi=function(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(hvt(n,t))},d=function(n){or.call(this,n)};d.prototype={constructor:d,type:"text",brush:function(n,t){var i=this.style,r;this.__dirty&&hy(i);i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;r=i.text;null!=r&&(r+="");i.bind(n,this,t);ogt(r,i)&&(this.setTransform(n),tgt(this,n,r,i),this.restoreTransform(n))},getBoundingRect:function(){var n=this.style,r,t,i;return(this.__dirty&&hy(n),this._rect)||(r=n.text,null!=r?r+="":r="",t=ve(n.text+"",n.font,n.textAlign,n.textVerticalAlign,n.textPadding,n.rich),(t.x+=n.x||0,t.y+=n.y||0,vft(n.textStroke,n.textStrokeWidth))&&(i=n.textStrokeWidth,t.x-=i/2,t.y-=i/2,t.width+=i,t.height+=i),this._rect=t),this._rect}};ot(d,or);var fc=g.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(n,t,i){i&&n.moveTo(t.cx+t.r,t.cy);n.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}}),hs=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],cvt=function(n){return k.browser.ie&&k.browser.version>=11?function(){var o,f=this.__clipPaths,e=this.style,r,t;if(f)for(r=0;r<f.length;r++){var u=f[r],i=u&&u.shape,s=u&&u.type;if(i&&("sector"===s&&i.startAngle===i.endAngle||"rect"===s&&(!i.width||!i.height))){for(t=0;t<hs.length;t++)hs[t][2]=e[hs[t][0]],e[hs[t][0]]=hs[t][1];o=!0;break}}if(n.apply(this,arguments),o)for(t=0;t<hs.length;t++)e[hs[t][0]]=hs[t][2]}:n},to=g.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:cvt(g.prototype.brush),buildPath:function(n,t){var r=t.cx,u=t.cy,i=Math.max(t.r0||0,0),o=Math.max(t.r,0),f=t.startAngle,e=t.endAngle,s=t.clockwise,h=Math.cos(f),c=Math.sin(f);n.moveTo(h*i+r,c*i+u);n.lineTo(h*o+r,c*o+u);n.arc(r,u,o,f,e,!s);n.lineTo(Math.cos(e)*i+r,Math.sin(e)*i+u);0!==i&&n.arc(r,u,i,e,f,s);n.closePath()}}),vyi=g.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(n,t){var i=t.cx,r=t.cy,u=2*Math.PI;n.moveTo(i+t.r,r);n.arc(i,r,t.r,0,u,!1);n.moveTo(i+t.r0,r);n.arc(i,r,t.r0,0,u,!0)}}),lnr=function(n,t){for(var f,c,l,i=n.length,a=[],v=0,u=1;u<i;u++)v+=uy(n[u-1],n[u]);for(f=v/2,f=f<i?i:f,u=0;u<f;u++){var o,s,h,y=u/(f-1)*(t?i:i-1),r=Math.floor(y),e=y-r,p=n[r%i];t?(o=n[(r-1+i)%i],s=n[(r+1)%i],h=n[(r+2)%i]):(o=n[0===r?r:r-1],s=n[r>i-2?i-1:r+1],h=n[r>i-3?i-1:r+2]);c=e*e;l=e*c;a.push([unt(o[0],p[0],s[0],h[0],e,c,l),unt(o[1],p[1],s[1],h[1],e,c,l)])}return a},anr=function(n,t,i,r){var v,y,f,e,s=[],l=[],k=[],d=[],u,o,a,h,c;if(r){for(f=[1/0,1/0],e=[-1/0,-1/0],u=0,o=n.length;u<o;u++)ce(f,f,n[u]),le(e,e,n[u]);ce(f,f,r[0]);le(e,e,r[1])}for(u=0,o=n.length;u<o;u++){if(a=n[u],i)v=n[u?u-1:o-1],y=n[(u+1)%o];else{if(0===u||u===o-1){s.push(yu(n[u]));continue}v=n[u-1];y=n[u+1]}he(l,y,v);kb(l,l,t);var p=uy(a,v),w=uy(a,y),b=p+w;0!==b&&(p/=b,w/=b);kb(k,l,-p);kb(d,l,w);h=but([],a,k);c=but([],a,d);r&&(le(h,h,f),ce(h,h,e),le(c,c,f),ce(c,c,e));s.push(h);s.push(c)}return i&&s.push(s.shift()),s},gu=g.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(n,t){fnt(n,t,!0)}}),gf=g.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(n,t){fnt(n,t,!1)}}),st=g.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(n,t){var i=t.x,r=t.y,u=t.width,f=t.height;t.r?gdt(n,t):n.rect(i,r,u,f);n.closePath()}}),hu=g.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(n,t){var f=t.x1,e=t.y1,r=t.x2,u=t.y2,i=t.percent;0!==i&&(n.moveTo(f,e),i<1&&(r=f*(1-i)+r*i,u=e*(1-i)+u*i),n.lineTo(r,u))},pointAt:function(n){var t=this.shape;return[t.x1*(1-n)+t.x2*n,t.y1*(1-n)+t.y2*n]}}),cr=[],lvt=g.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(n,t){var h=t.x1,c=t.y1,r=t.x2,u=t.y2,f=t.cpx1,e=t.cpy1,o=t.cpx2,s=t.cpy2,i=t.percent;0!==i&&(n.moveTo(h,c),null==o||null==s?(i<1&&(uet(h,f,r,i,cr),f=cr[1],r=cr[2],uet(c,e,u,i,cr),e=cr[1],u=cr[2]),n.quadraticCurveTo(f,e,r,u)):(i<1&&(bgt(h,f,o,r,i,cr),f=cr[1],o=cr[2],r=cr[3],bgt(c,e,s,u,i,cr),e=cr[1],s=cr[2],u=cr[3]),n.bezierCurveTo(f,e,o,s,r,u)))},pointAt:function(n){return ent(this.shape,n,!1)},tangentAt:function(n){var t=ent(this.shape,n,!0);return al(t,t)}}),yyi=g.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(n,t){var u=t.cx,f=t.cy,i=Math.max(t.r,0),r=t.startAngle,e=t.endAngle,o=t.clockwise,s=Math.cos(r),h=Math.sin(r);n.moveTo(s*i+u,h*i+f);n.arc(u,f,i,r,e,!o)}}),pyi=g.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var n=this.__dirtyPath,i=this.shape.paths,t=0;t<i.length;t++)n=n||i[t].__dirtyPath;this.__dirtyPath=n;this.__dirty=this.__dirty||n},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],i=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(i[0],i[1])},buildPath:function(n,t){for(var r=t.paths||[],i=0;i<r.length;i++)r[i].buildPath(n,r[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],n=0;n<t.length;n++)t[n].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),g.prototype.getBoundingRect.call(this)}}),ne=function(n){this.colorStops=n||[]};ne.prototype={constructor:ne,addColorStop:function(n,t){this.colorStops.push({offset:n,color:t})}};ec=function(n,t,i,r,u,f){this.x=null==n?0:n;this.y=null==t?0:t;this.x2=null==i?1:i;this.y2=null==r?0:r;this.type="linear";this.global=f||!1;ne.call(this,u)};ec.prototype={constructor:ec};ot(ec,ne);hw=function(n,t,i,r,u){this.x=null==n?.5:n;this.y=null==t?.5:t;this.r=null==i?.5:i;this.type="radial";this.global=u||!1;ne.call(this,r)};hw.prototype={constructor:hw};ot(hw,ne);yr.prototype.incremental=!0;yr.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.dirty();this.notClear=!1};yr.prototype.addDisplayable=function(n,t){t?this._temporaryDisplayables.push(n):this._displayables.push(n);this.dirty()};yr.prototype.addDisplayables=function(n,t){t=t||!1;for(var i=0;i<n.length;i++)this.addDisplayable(n[i],t)};yr.prototype.eachPendingDisplayable=function(n){for(t=this._cursor;t<this._displayables.length;t++)n&&n(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)n&&n(this._temporaryDisplayables[t])};yr.prototype.update=function(){var n,t;for(this.updateTransform(),n=this._cursor;n<this._displayables.length;n++)(t=this._displayables[n]).parent=this,t.update(),t.parent=null;for(n=0;n<this._temporaryDisplayables.length;n++)t=this._temporaryDisplayables[n],t.parent=this,t.update(),t.parent=null};yr.prototype.brush=function(n){for(var i,t=this._cursor;t<this._displayables.length;t++)(i=this._displayables[t]).beforeBrush&&i.beforeBrush(n),i.brush(n,t===this._cursor?null:this._displayables[t-1]),i.afterBrush&&i.afterBrush(n);for(this._cursor=t,t=0;t<this._temporaryDisplayables.length;t++)i=this._temporaryDisplayables[t],i.beforeBrush&&i.beforeBrush(n),i.brush(n,0===t?null:this._temporaryDisplayables[t-1]),i.afterBrush&&i.afterBrush(n);this._temporaryDisplayables=[];this.notClear=!0};wyi=[];yr.prototype.getBoundingRect=function(){var i,n,t,r;if(!this._rect){for(i=new w(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++)t=this._displayables[n],r=t.getBoundingRect().clone(),t.needLocalTransform()&&r.applyTransform(t.getLocalTransform(wyi)),i.union(r);this._rect=i}return this._rect};yr.prototype.contain=function(n,t){var r=this.transformCoordToLocal(n,t),i;if(this.getBoundingRect().contain(r[0],r[1]))for(i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(n,t))return!0;return!1};ot(yr,or);var tv=Math.round,vtt=Math.max,ytt=Math.min,ptt={},io=function(n,t){for(var i,r,f=[],e=n.length,u=0;u<e;u++)i=n[u],i.path||i.createPathProxy(),i.__dirtyPath&&i.buildPath(i.path,i.shape,!0),f.push(i.path);return r=new g(t),r.createPathProxy(),r.buildPath=function(n){n.appendPath(f);var t=n.getContext();t&&n.rebuildPath(t)},r},nf=(Object.freeze||Object)({extendShape:hf,extendPath:function(n,t){return tur(n,t)},makePath:ay,makeImage:ont,mergePath:io,resizePath:hnt,subPixelOptimizeLine:eh,subPixelOptimizeRect:fet,subPixelOptimize:cf,setHoverStyle:at,setLabelStyle:uu,setTextStyle:kt,setText:function(n,t,i){var r,u={isRectText:!0};!1===i?r=!0:u.autoColor=i;knt(n,t,u,r);n.host&&n.host.dirty&&n.host.dirty(!1)},getFont:eet,updateProps:p,initProps:tr,getTransform:oh,applyTransform:lf,transformDirection:oet,groupTransition:set,clipPointsByRect:tti,clipRectByRect:function(n,t){var i=vtt(n.x,t.x),u=ytt(n.x+n.width,t.x+t.width),r=vtt(n.y,t.y),f=ytt(n.y+n.height,t.y+t.height);if(u>=i&&f>=r)return{x:i,y:r,width:u-i,height:f-r}},createIcon:vy,Group:f,Image:gi,Text:d,Circle:fc,Sector:to,Ring:vyi,Polygon:gu,Polyline:gf,Rect:st,Line:hu,BezierCurve:lvt,Arc:yyi,IncrementalDisplayable:yr,CompoundPath:pyi,LinearGradient:ec,RadialGradient:hw,BoundingRect:w}),vnr=["textStyle","color"],ynr={getTextColor:function(n){var t=this.ecModel;return this.getShallow("color")||(!n&&t?t.get(vnr):null)},getFont:function(){return eet({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(n){return ve(n,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},pnr=ba([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),wnr={getItemStyle:function(n,t){var i=pnr(this,n,t),r=this.getBorderLineDash();return r&&(i.lineDash=r),i},getBorderLineDash:function(){var n=this.get("borderType");return"solid"===n||null==n?null:"dashed"===n?[5,5]:[1,1]}},wtt=ft,byi=wu();tt.prototype={constructor:tt,init:null,mergeOption:function(n){v(this.option,n,!0)},get:function(n,t){return null==n?this.option:iti(this.option,this.parsePath(n),!t&&het(this,n))},getShallow:function(n,t){var i=this.option,r=null==i?i:i[n],u=!t&&het(this,n);return null==r&&u&&(r=u.getShallow(n)),r},getModel:function(n,t){var i,r=null==n?this.option:iti(this.option,n=this.parsePath(n));return t=t||(i=het(this,n))&&i.getModel(n),new tt(r,t,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(h(this.option))},setReadOnly:function(){},parsePath:function(n){return"string"==typeof n&&(n=n.split(".")),n},customizeGetParent:function(n){byi(this).getParent=n},isAnimationEnabled:function(){if(!k.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};ly(tt);lk(tt);wtt(tt,rnr);wtt(tt,fnr);wtt(tt,ynr);wtt(tt,wnr);var bnr=0,kyi=.0001,avt=9007199254740991,knr=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,dnr=(Object.freeze||Object)({linearMap:dt,parsePercent:u,round:ai,asc:sh,getPrecision:rti,getPrecisionSafe:pk,getPixelPrecision:cet,getPercentWithPrecision:uti,MAX_SAFE_INTEGER:avt,remRadian:aet,isRadianAroundZero:yy,parseDate:py,quantity:fti,nice:vet,reformIntervals:yet,isNumeric:oti}),oc=vut,gnr=/([&<>"'])/g,ntu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dyi=["a","b","c","d","e","f","g"],vvt=function(n,t){return"{"+n+(null==t?"":t)+"}"},gyi=ydt,ttu=ve,itu=(Object.freeze||Object)({addCommas:hh,toCamelCase:sti,normalizeCssArray:oc,encodeHTML:wt,formatTpl:pet,formatTplSimple:hti,getTooltipMarker:wk,formatTime:wet,capitalFirst:bk,truncateText:gyi,getTextRect:ttu}),btt=t,npi=["left","right","top","bottom","width","height"],sc=[["width","left","right"],["height","top","bottom"]],cw=bet,rtu=(l(bet,"vertical"),l(bet,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),utu=wu(),nt=tt.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(n,t,i,r){tt.call(this,n,t,i,r);this.uid=yk("ec_cpt_model")},init:function(n,t,i){this.mergeDefaultAndTheme(n,i)},mergeDefaultAndTheme:function(n,t){var i=this.layoutMode,r=i?kl(n):{};v(n,t.getTheme().get(this.mainType));v(n,this.getDefaultOption());i&&ko(n,r,i)},mergeOption:function(n){v(this.option,n,!0);var t=this.layoutMode;t&&ko(this.option,n,t)},optionUpdated:function(){},getDefaultOption:function(){var u=utu(this),t,n,f,i,r;if(!u.defaultOption){for(t=[],n=this.constructor;n;)f=n.prototype.defaultOption,f&&t.push(f),n=n.superClass;for(i={},r=t.length-1;r>=0;r--)i=v(i,t[r],!0);u.defaultOption=i}return u.defaultOption},getReferringComponents:function(n){return this.ecModel.queryComponents({mainType:n,index:this.get(n+"Index",!0),id:this.get(n+"Id",!0)})}});ak(nt,{registerWhenExtend:!0}),function(n){var t={};n.registerSubTypeDefaulter=function(n,i){n=yo(n);t[n.main]=i};n.determineSubType=function(i,r){var u=r.type,f;return u||(f=yo(i).main,n.hasSubTypes(i)&&t[f]&&(u=t[f](r))),u}}(nt),function(n,i){function u(n){var u={},e=[];return t(n,function(o){var s=r(u,o),h=f(s.originalDeps=i(o),n);s.entryCount=h.length;0===s.entryCount&&e.push(o);t(h,function(n){b(s.predecessor,n)<0&&s.predecessor.push(n);var t=r(u,n);b(t.successor,n)<0&&t.successor.push(o)})}),{graph:u,noEntryList:e}}function r(n,t){return n[t]||(n[t]={predecessor:[],successor:[]}),n[t]}function f(n,i){var r=[];return t(n,function(n){b(i,n)>=0&&r.push(n)}),r}n.topologicalTravel=function(n,i,r,f){function c(n){s[n].entryCount--;0===s[n].entryCount&&h.push(n)}if(n.length){var l=u(i),s=l.graph,h=l.noEntryList,e={};for(t(n,function(n){e[n]=!0});h.length;){var o=h.pop(),a=s[o],v=!!e[o];v&&(r.call(f,o,a.originalDeps.slice()),delete e[o]);t(a.successor,v?function(n){e[n]=!0;c(n)}:c)}t(e,function(){throw new Error("Circle dependency may exists");})}}}(nt,function(n){var i=[];return t(nt.getClassesByMainType(n),function(n){i=i.concat(n.prototype.dependencies||[])}),i=r(i,function(n){return yo(n).main}),"dataset"!==n&&b(i,"dataset")<=0&&i.unshift("dataset"),i});ft(nt,rtu);yvt="";"undefined"!=typeof navigator&&(yvt=navigator.platform||"");var ftu={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:yvt.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},pvt=wu(),wvt={clearColorPalette:function(){pvt(this).colorIdx=0;pvt(this).colorNameMap={}},getColorFromPalette:function(n,t,i){var u=pvt(t=t||this),o=u.colorIdx||0,f=u.colorNameMap=u.colorNameMap||{},e;if(f.hasOwnProperty(n))return f[n];var s=bi(this.get("color",!0)),h=this.get("colorLayer",!0),r=null!=i&&h?lur(h,i):s;if((r=r||s)&&r.length)return e=r[o],n&&(f[n]=e),u.colorIdx=(o+1)%r.length,e}},etu={cartesian2d:function(n,t,i,r){var u=n.getReferringComponents("xAxis")[0],f=n.getReferringComponents("yAxis")[0];t.coordSysDims=["x","y"];i.set("x",u);i.set("y",f);dl(u)&&(r.set("x",u),t.firstCategoryDimIndex=0);dl(f)&&(r.set("y",f),t.firstCategoryDimIndex=1)},singleAxis:function(n,t,i,r){var u=n.getReferringComponents("singleAxis")[0];t.coordSysDims=["single"];i.set("single",u);dl(u)&&(r.set("single",u),t.firstCategoryDimIndex=0)},polar:function(n,t,i,r){var e=n.getReferringComponents("polar")[0],u=e.findAxisModel("radiusAxis"),f=e.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"];i.set("radius",u);i.set("angle",f);dl(u)&&(r.set("radius",u),t.firstCategoryDimIndex=0);dl(f)&&(r.set("angle",f),t.firstCategoryDimIndex=1)},geo:function(n,t){t.coordSysDims=["lng","lat"]},parallel:function(n,i,r,u){var f=n.ecModel,e=f.getComponent("parallel",n.get("parallelIndex")),o=i.coordSysDims=e.dimensions.slice();t(e.parallelAxisIndex,function(n,t){var e=f.getComponent("parallelAxis",n),s=o[t];r.set(s,e);dl(e)&&null==i.firstCategoryDimIndex&&(u.set(s,e),i.firstCategoryDimIndex=t)})}},hc="original",ktt="arrayRows",dtt="objectRows",gtt="keyedColumns",tpi="unknown",nit="typedArray",ipi="column",bvt="row";bu.seriesDataToSource=function(n){return new bu({data:n,sourceFormat:ff(n)?nit:hc,fromDataset:!1})};lk(bu);var iv=wu(),kvt="\0_ec_inner",dvt=tt.extend({init:function(n,t,i,r){i=i||{};this.option=null;this._theme=new tt(i);this._optionManager=r},setOption:function(n,t){co(!(kvt in n),"please use chart.getOption()");this._optionManager.setOption(n,t);this.resetOption(null)},resetOption:function(n){var i=!1,r=this._optionManager,u,f,e;return n&&"recreate"!==n||(u=r.mountOption("recreate"===n),this.option&&"recreate"!==n?(this.restoreData(),this.mergeOption(u)):tfr.call(this,u),i=!0),("timeline"!==n&&"media"!==n||this.restoreData(),n&&"recreate"!==n&&"timeline"!==n)||(f=r.getTimelineOption(this),f&&(this.mergeOption(f),i=!0)),n&&"recreate"!==n&&"media"!==n||(e=r.getMediaOption(this,this._api),e.length&&t(e,function(n){this.mergeOption(n,i=!0)},this)),i},mergeOption:function(n){var i=this.option,r=this._componentsMap,u=[];yur(this);t(n,function(n,t){null!=n&&(nt.hasClass(t)?t&&u.push(t):i[t]=null==i[t]?h(n):v(i[t],n,!0))});nt.topologicalTravel(u,nt.getAllClassMainTypes(),function(u,f){var h=bi(n[u]),o=net(r.get(u),h),s;agt(o);t(o,function(n){var t=n.option;a(t)&&(n.keyInfo.mainType=u,n.keyInfo.subType=rfr(u,t,n.exist))});s=ifr(r,f);i[u]=[];r.set(u,[]);t(o,function(n,t){var f=n.exist,o=n.option,c,h;(co(a(o)||f,"Empty component definition"),o)?(c=nt.getClass(u,n.keyInfo.subType,!0),f&&f instanceof c?(f.name=n.keyInfo.name,f.mergeOption(o,this),f.optionUpdated(o,!1)):(h=e({dependentModels:s,componentIndex:t},n.keyInfo),e(f=new c(o,this,this,h),h),f.init(o,this,this,h),f.optionUpdated(null,!0))):(f.mergeOption({},this),f.optionUpdated({},!1));r.get(u)[t]=f;i[u][t]=f.option},this);"series"===u&&ket(this,r.get("series"))},this);this._seriesIndicesMap=y(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var n=h(this.option);return t(n,function(t,i){if(nt.hasClass(i)){for(var r=(t=bi(t)).length-1;r>=0;r--)sk(t[r])&&t.splice(r,1);n[i]=t}}),delete n[kvt],n},getTheme:function(){return this._theme},getComponent:function(n,t){var i=this._componentsMap.get(n);if(i)return i[t||0]},queryComponents:function(n){var c=n.mainType,f,s,h;if(!c)return[];var u=n.index,e=n.id,o=n.name,t=this._componentsMap.get(c);return!t||!t.length?[]:(null!=u?(i(u)||(u=[u]),f=ui(r(u,function(n){return t[n]}),function(n){return!!n})):null!=e?(s=i(e),f=ui(t,function(n){return s&&b(e,n.id)>=0||!s&&n.id===e})):null!=o?(h=i(o),f=ui(t,function(n){return h&&b(o,n.name)>=0||!h&&n.name===o})):f=t.slice(),wti(f,n))},findComponents:function(n){var r=n.query,t=n.mainType,i=function(n){var i=t+"Index",r=t+"Id",u=t+"Name";return!n||null==n[i]&&null==n[r]&&null==n[u]?null:{mainType:t,index:n[i],id:n[r],name:n[u]}}(r);return function(t){return n.filter?ui(t,n.filter):t}(wti(i?this.queryComponents(i):this._componentsMap.get(t),n))},eachComponent:function(n,i,r){var u=this._componentsMap;"function"==typeof n?(r=i,i=n,u.each(function(n,u){t(n,function(n,t){i.call(r,u,n,t)})})):yt(n)?t(u.get(n),i,r):a(n)&&t(this.findComponents(n),i,r)},getSeriesByName:function(n){return ui(this._componentsMap.get("series"),function(t){return t.name===n})},getSeriesByIndex:function(n){return this._componentsMap.get("series")[n]},getSeriesByType:function(n){return ui(this._componentsMap.get("series"),function(t){return t.subType===n})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(n,i){t(this._seriesIndices,function(t){var r=this._componentsMap.get("series")[t];n.call(i,r,t)},this)},eachRawSeries:function(n,i){t(this._componentsMap.get("series"),n,i)},eachSeriesByType:function(n,i,r){t(this._seriesIndices,function(t){var u=this._componentsMap.get("series")[t];u.subType===n&&i.call(r,u,t)},this)},eachRawSeriesByType:function(n,i,r){return t(this.getSeriesByType(n),i,r)},isSeriesFiltered:function(n){return null==this._seriesIndicesMap.get(n.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(n,t){ket(this,ui(this._componentsMap.get("series"),n,t))},restoreData:function(n){var i=this._componentsMap,r;ket(this,i.get("series"));r=[];i.each(function(n,t){r.push(t)});nt.topologicalTravel(r,nt.getAllClassMainTypes(),function(r){t(i.get(r),function(t){"series"===r&&gur(t,n)||t.restoreData()})})}});ft(dvt,wvt);rpi=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];tit={};ir.prototype={constructor:ir,create:function(n,i){var r=[];t(tit,function(t){var u=t.create(n,i);r=r.concat(u||[])});this._coordinateSystems=r},update:function(n,i){t(this._coordinateSystems,function(t){t.update&&t.update(n,i)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};ir.register=function(n,t){tit[n]=t};ir.get=function(n){return tit[n]};var iit=t,cc=h,rit=r,upi=v,otu=/^(min|max)?(.+)$/;det.prototype={constructor:det,setOption:function(n,i){n&&t(bi(n.series),function(n){n&&n.data&&ff(n.data)&&put(n.data)});n=cc(n,!0);var u=this._optionBackup,r=ufr.call(this,n,i,!u);this._newBaseOption=r.baseOption;u?(sfr(u.baseOption,r.baseOption),r.timelineOptions.length&&(u.timelineOptions=r.timelineOptions),r.mediaList.length&&(u.mediaList=r.mediaList),r.mediaDefault&&(u.mediaDefault=r.mediaDefault)):this._optionBackup=r},mountOption:function(n){var t=this._optionBackup;return this._timelineOptions=rit(t.timelineOptions,cc),this._mediaList=rit(t.mediaList,cc),this._mediaDefault=cc(t.mediaDefault),this._currentMediaIndices=[],cc(n?t.baseOption:this._newBaseOption)},getTimelineOption:function(n){var i,r=this._timelineOptions,t;return r.length&&(t=n.getComponent("timeline"),t&&(i=cc(r[t.getCurrentIndex()],!0))),i},getMediaOption:function(){var e=this._api.getWidth(),o=this._api.getHeight(),i=this._mediaList,r=this._mediaDefault,n=[],u=[],t,f;if(!i.length&&!r)return u;for(t=0,f=i.length;t<f;t++)ffr(i[t].query,e,o)&&n.push(t);return!n.length&&r&&(n=[-1]),n.length&&!ofr(n,this._currentMediaIndices)&&(u=rit(n,function(n){return cc(-1===n?r.option:i[n].option)})),this._currentMediaIndices=n,u}};var tf=t,lw=a,fpi=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],stu=function(n,r){tf(pe(n.series),function(n){lw(n)&&hfr(n)});var u=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];r&&u.push("valueAxis","categoryAxis","logAxis","timeAxis");tf(u,function(t){tf(pe(n[t]),function(n){n&&(ti(n,"axisLabel"),ti(n.axisPointer,"label"))})});tf(pe(n.parallel),function(n){var t=n&&n.parallelAxisDefault;ti(t,"axisLabel");ti(t&&t.axisPointer,"label")});tf(pe(n.calendar),function(n){rr(n,"itemStyle");ti(n,"dayLabel");ti(n,"monthLabel");ti(n,"yearLabel")});tf(pe(n.radar),function(n){ti(n,"name")});tf(pe(n.geo),function(n){lw(n)&&(fu(n),tf(pe(n.regions),function(n){fu(n)}))});tf(pe(n.timeline),function(n){fu(n);rr(n,"label");rr(n,"itemStyle");rr(n,"controlStyle",!0);var r=n.data;i(r)&&t(r,function(n){a(n)&&(rr(n,"label"),rr(n,"itemStyle"))})});tf(pe(n.toolbox),function(n){rr(n,"iconStyle");tf(n.feature,function(n){rr(n,"iconStyle")})});ti(kti(n.axisPointer),"label");ti(kti(n.tooltip).axisPointer,"label")},htu=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],ctu=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],epi=function(n,r){stu(n,r);n.series=bi(n.series);t(n.series,function(n){var t,i;a(n)&&(t=n.type,("pie"!==t&&"gauge"!==t||null!=n.clockWise&&(n.clockwise=n.clockWise),"gauge"===t)&&(i=cfr(n,"pointer.color"),null!=i&&lfr(n,"itemStyle.normal.color",i)),dti(n))});n.dataRange&&(n.visualMap=n.dataRange);t(ctu,function(r){var u=n[r];u&&(i(u)||(u=[u]),t(u,function(n){dti(n)}))})},gvt=gti.prototype;gvt.pure=!1;gvt.persistent=!0;gvt.getSource=function(){return this._source};var ltu={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(n){return this._data[n+this._source.startIndex]},appendData:not},arrayRows_row:{pure:!0,count:function(){var n=this._data[0];return n?Math.max(0,n.length-this._source.startIndex):0},getItem:function(n){var i;n+=this._source.startIndex;for(var r=[],u=this._data,t=0;t<u.length;t++)i=u[t],r.push(i?i[n]:null);return r},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".');}},objectRows:{pure:!0,count:nii,getItem:tii,appendData:not},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,n=this._data[t];return n?n.length:0},getItem:function(n){for(var i,r=[],u=this._source.dimensionsDefine,t=0;t<u.length;t++)i=this._data[u[t].name],r.push(i?i[n]:null);return r},appendData:function(n){var i=this._data;t(n,function(n,t){for(var u=i[t]||(i[t]=[]),r=0;r<(n||[]).length;r++)u.push(n[r])})}},original:{count:nii,getItem:tii,appendData:not},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(n,t){n-=this._offset;t=t||[];for(var r=this._dimSize*n,i=0;i<this._dimSize;i++)t[i]=this._data[r+i];return t},appendData:function(n){this._data=n},clean:function(){this._offset+=this.count();this._data=null}}},atu={arrayRows:tot,objectRows:function(n,t,i,r){return null!=i?n[r]:n},keyedColumns:tot,original:function(n,t,i){var r=cy(n);return null!=i&&r instanceof Array?r[i]:r},typedArray:tot},vtu={arrayRows:iii,objectRows:function(n,t){return iot(n[t],this._dimensionInfos[t])},keyedColumns:iii,original:function(n,t,i,r){var u=n&&(null==n.value?n:n.value);return!this._rawData.pure&&dir(n)&&(this.hasItemOption=!0),iot(u instanceof Array?u[r]:u,this._dimensionInfos[t])},typedArray:function(n,t,i,r){return n[r]}},ytu=/\{@(.+?)\}/g,nyt={getDataParams:function(n,t){var i=this.getData(t),u=this.getRawValue(n,t),f=i.getRawIndex(n),e=i.getName(n),o=i.getRawDataItem(n),r=i.getItemVisual(n,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:e,dataIndex:f,data:o,dataType:t,value:u,color:r,marker:wk(r),$vars:["seriesName","name","value"]}},getFormattedLabel:function(n,t,i,r,u){var e;t=t||"normal";var o=this.getData(i),s=o.getItemModel(n),f=this.getDataParams(n,i);return null!=r&&f.value instanceof Array&&(f.value=f.value[r]),e=s.get("normal"===t?[u||"label","formatter"]:[t,u||"label","formatter"]),"function"==typeof e?(f.status=t,e(f)):"string"==typeof e?pet(e,f).replace(ytu,function(t,i){var r=i.length;return"["===i.charAt(0)&&"]"===i.charAt(r-1)&&(i=+i.slice(1,r-1)),ch(o,n,i)}):void 0},getRawValue:function(n,t){return ch(this.getData(t),n)},formatTooltip:function(){}},cs=uii.prototype;cs.perform=function(n){function v(n){return!(n>=1)&&(n=1),n}var u=this._upstream,h=n&&n.skip,c,l,y,a,o,t,r,s,p;this._dirty&&u&&(c=this.context,c.data=c.outputData=u.context.outputData);this.__pipeline&&(this.__pipeline.currentTask=this);this._plan&&!h&&(l=this._plan(this.context));var w=v(this._modBy),b=this._modDataCount||0,f=v(n&&n.modBy),e=n&&n.modDataCount||0;if(w===f&&b===e||(l="reset"),(this._dirty||"reset"===l)&&(this._dirty=!1,y=vfr(this,h)),this._modBy=f,this._modDataCount=e,a=n&&n.step,this._dueEnd=u?u._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){if(o=this._dueIndex,t=Math.min(null!=a?this._dueIndex+a:1/0,this._dueEnd),!h&&(y||o<t))if(r=this._progress,i(r))for(s=0;s<r.length;s++)fii(this,r[s],o,t,f,e);else fii(this,r,o,t,f,e);this._dueIndex=t;p=null!=this._settedOutputEnd?this._settedOutputEnd:t;this._outputDueEnd=p}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};tyt=function(){function e(){return n<r?n++:null}function o(){var f=n%u*t+Math.ceil(n/u),e=n>=r?null:f<i?f:n;return n++,e}var r,n,t,i,u,f={reset:function(s,h,c,l){n=s;r=h;t=c;i=l;u=Math.ceil(i/t);f.next=t>1&&i>0?o:e}};return f}();cs.dirty=function(){this._dirty=!0;this._onDirty&&this._onDirty(this.context)};cs.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};cs.pipe=function(n){(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())};cs.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)};cs.getUpstream=function(){return this._upstream};cs.getDownstream=function(){return this._downstream};cs.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n};rv=wu();gt=nt.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(n,t,i){this.seriesIndex=this.componentIndex;this.dataTask=by({count:pfr,reset:wfr});this.dataTask.context={model:this};this.mergeDefaultAndTheme(n,i);ati(this);var r=this.getInitialData(n,i);oii(r,this);this.dataTask.context.data=r;rv(this).dataBeforeProcessed=r;eii(this)},mergeDefaultAndTheme:function(n,t){var i=this.layoutMode,u=i?kl(n):{},r=this.subType;nt.hasClass(r)&&(r+="Series");v(n,t.getTheme().get(this.subType));v(n,this.getDefaultOption());fh(n,"label",["show"]);this.fillDataTextStyle(n.data);i&&ko(n,u,i)},mergeOption:function(n,t){var r,i;n=v(this.option,n,!0);this.fillDataTextStyle(n.data);r=this.layoutMode;r&&ko(this.option,n,r);ati(this);i=this.getInitialData(n,t);oii(i,this);this.dataTask.dirty();this.dataTask.context.data=i;rv(this).dataBeforeProcessed=i;eii(this)},fillDataTextStyle:function(n){if(n&&!ff(n))for(var i=["show"],t=0;t<n.length;t++)n[t]&&n[t].label&&fh(n[t],"label",i)},getInitialData:function(){},appendData:function(n){this.getRawData().appendData(n.data)},getData:function(n){var i=rot(this),t;return i?(t=i.context.data,null==n?t:t.getLinkedData(n)):rv(this).data},setData:function(n){var t=rot(this),i;t&&(i=t.context,i.data!==n&&t.modifyOutputEnd&&t.setOutputEnd(n.count()),i.outputData=n,t!==this.dataTask&&(i.data=n));rv(this).data=n},getSource:function(){return vur(this)},getRawData:function(){return rv(this).dataBeforeProcessed},getBaseAxis:function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},formatTooltip:function(n,r){function p(n){return wt(hh(n))}var f=this.getData(),o=f.mapDimension("defaultedTooltip",!0),h=o.length,s=this.getRawValue(n),l=i(s),u=f.getItemVisual(n,"color");a(u)&&u.colorStops&&(u=(u.colorStops[0]||{}).color);u=u||"transparent";var c=h>1||l&&!h?function(i){function s(n,t){var i=f.getDimensionInfo(t);if(i&&!1!==i.otherDims.tooltip){var o=i.type,c=wk({color:u,type:"subItem"}),s=(e?c+wt(i.displayName||"-")+": ":"")+wt("ordinal"===o?n+"":"time"===o?r?"":wet("yyyy/MM/dd hh:mm:ss",n):hh(n));s&&h.push(s)}}var e=cl(i,function(n,t,i){var r=f.getDimensionInfo(i);return n|(r&&!1!==r.tooltip&&null!=r.displayName)},0),h=[];return o.length?t(o,function(t){s(ch(f,n,t),t)}):t(i,s),(e?"<br/>":"")+h.join(e?"<br/>":", ")}(s):p(h?ch(f,n,o[0]):l?s[0]:s),v=wk(u),y=f.getName(n),e=this.name;return tet(this)||(e=""),e=e?wt(e)+(r?": ":"<br/>"):"",r?v+e+c:e+v+(y?wt(y)+": "+c:c)},isAnimationEnabled:function(){if(k.node)return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),n},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(n,t,i){var u=this.ecModel,r=wvt.getColorFromPalette.call(this,n,t,i);return r||(r=u.getColorFromPalette(n,t,i)),r},coordDimToDataDim:function(n){return this.getRawData().mapDimension(n,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});ft(gt,nyt);ft(gt,wvt);rf=function(){this.group=new f;this.uid=yk("viewComponent")};rf.prototype={constructor:rf,init:function(){},render:function(){},dispose:function(){}};uit=rf.prototype;uit.updateView=uit.updateLayout=uit.updateVisual=function(){};ly(rf);ak(rf,{registerWhenExtend:!0});var uv=function(){var n=wu();return function(t){var i=n(t),r=t.pipelineContext,u=i.large,f=i.progressiveRender,e=i.large=r.large,o=i.progressiveRender=r.progressiveRender;return!!(u^e||f^o)&&"reset"}},opi=wu(),ptu=uv();vi.prototype={type:"chart",init:function(){},render:function(){},highlight:function(n,t,i,r){sii(n.getData(),r,"emphasis")},downplay:function(n,t,i,r){sii(n.getData(),r,"normal")},remove:function(){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};fit=vi.prototype;fit.updateView=fit.updateLayout=fit.updateVisual=function(n,t,i,r){this.render(n,t,i,r)};ly(vi);ak(vi,{registerWhenExtend:!0});vi.markUpdateMethod=function(n,t){opi(n).updateMethod=t};var wtu={incrementalPrepareRender:{progress:function(n,t){t.view.incrementalRender(n,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(n,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},eit="\0__throttleOriginMethod",spi="\0__throttleRate",hpi="\0__throttleType",btu={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var i=n.getData(),u=(n.visualColorAccessPath||"itemStyle.color").split("."),r=n.get(u)||n.getColorFromPalette(n.name,null,t.getSeriesCount());if(i.setVisual("color",r),!t.isSeriesFiltered(n))return"function"!=typeof r||r instanceof ne||i.each(function(t){i.setItemVisual(t,"color",r(n.getDataParams(t)))}),{dataEach:i.hasItemOption?function(n,t){var i=n.getItemModel(t).get(u,!0);null!=i&&n.setItemVisual(t,"color",i)}:null}}},ls={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},ktu=function(n,i){function e(n,i){if("string"!=typeof n)return n;var r=n;return t(i,function(n,t){r=r.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),n)}),r}function r(n){var r=f.get(n);if(null==r){for(var u=n.split("."),t=ls.aria,i=0;i<u.length;++i)t=t[u[i]];return t}return r}function l(n){return ls.series.typeNames[n]||"自定义图"}var f=i.getModel("aria"),u,h,c;if(f.get("show"))if(f.get("description"))n.setAttribute("aria-label",f.get("description"));else{u=0;i.eachSeries(function(){++u},this);var o,s=f.get("data.maxCount")||10,a=f.get("series.maxCount")||10,v=Math.min(u,a);u<1||(h=function(){var n=i.getModel("title").option;return n&&n.length&&(n=n[0]),n&&n.text}(),o=h?e(r("general.withTitle"),{title:h}):r("general.withoutTitle"),c=[],o+=e(r(u>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:u}),i.eachSeries(function(n,t){var o,p,h,i,a,f,y,w;if(t<v){for(p=n.get("name"),h="series."+(u>1?"multiple":"single")+".",o=e(o=r(p?h+"withName":h+"withoutName"),{seriesId:n.seriesIndex,seriesName:n.get("name"),seriesType:l(n.subType)}),i=n.getData(),window.data=i,o+=i.count()>s?e(r("data.partialData"),{displayCnt:s}):r("data.allData"),a=[],f=0;f<i.count();f++)f<s&&(y=i.getName(f),w=ch(i,f),a.push(e(r(y?"data.withName":"data.withoutName"),{name:y,value:w})));o+=a.join(r("data.separator.middle"))+r("data.separator.end");c.push(o)}}),o+=c.join(r("series.multiple.separator.middle"))+r("series.multiple.separator.end"),n.setAttribute("aria-label",o))}},oit=Math.PI,cu=dk.prototype;cu.restoreData=function(n,t){n.restoreData(t);this._stageTaskMap.each(function(n){var t=n.overallTask;t&&t.dirty()})};cu.getPerformArgs=function(n,t){if(n.__pipeline){var i=this._pipelineMap.get(n.__pipeline.id),r=i.context,f=!t&&i.progressiveEnabled&&(!r||r.progressiveRender)&&n.__idxInPipeline>i.blockIndex?i.step:null,u=r&&r.modDataCount;return{step:f,modBy:null!=u?Math.ceil(u/f):null,modDataCount:u}}};cu.getPipeline=function(n){return this._pipelineMap.get(n)};cu.updateStreamModes=function(n,t){var i=this._pipelineMap.get(n.uid),r=n.getData().count(),u=i.progressiveEnabled&&t.incrementalPrepareRender&&r>=i.threshold,f=n.get("large")&&r>=n.get("largeThreshold"),e="mod"===n.get("progressiveChunkMode")?r:null;n.pipelineContext=i.context={progressiveRender:u,modDataCount:e,large:f}};cu.restorePipelines=function(n){var t=this,i=t._pipelineMap=y();n.eachSeries(function(n){var r=n.getProgressive(),u=n.uid;i.set(u,{id:u,head:null,tail:null,threshold:n.getProgressiveThreshold(),progressiveEnabled:r&&!(n.preventIncremental&&n.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0});gk(t,n,n.dataTask)})};cu.prepareStageTasks=function(){var n=this._stageTaskMap,i=this.ecInstance.getModel(),r=this.api;t(this._allHandlers,function(t){var u=n.get(t.uid)||n.set(t.uid,[]);t.reset&&ner(this,t,u,i,r);t.overallReset&&ter(this,t,u,i,r)},this)};cu.prepareView=function(n,t,i,r){var u=n.renderTask,f=u.context;f.model=t;f.ecModel=i;f.api=r;u.__block=!n.incrementalPrepareRender;gk(this,t,u)};cu.performDataProcessorTasks=function(n,t){cii(this,this._dataProcessorHandlers,n,t,{block:!0})};cu.performVisualTasks=function(n,t,i){cii(this,this._visualHandlers,n,t,i)};cu.performSeriesTasks=function(n){var t;n.eachSeries(function(n){t|=n.dataTask.perform()});this.unfinished|=t};cu.plan=function(){this._pipelineMap.each(function(n){var t=n.tail;do{if(t.__block){n.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};iyt=cu.updatePayload=function(n,t){"remain"!==t&&(n.context.payload=t)};cpi=lii(0);dk.wrapStageHandler=function(n,t){return vr(n)&&(n={overallReset:n,seriesType:her(n)}),n.uid=yk("stageHandler"),t&&(n.visualType=t),n};fv={};ryt={};aii(fv,dvt);aii(ryt,bti);fv.eachSeriesByType=fv.eachRawSeriesByType=function(n){sit=n};fv.eachComponent=function(n){"series"===n.mainType&&n.subType&&(sit=n.subType)};var lpi=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],dtu={color:lpi,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],lpi]},uyt=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],api={color:uyt,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:uyt[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:uyt},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};api.categoryAxis.splitLine.show=!1;nt.extend({type:"dataset",defaultOption:{seriesLayoutBy:ipi,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){aur(this)}});rf.extend({type:"dataset"});var gtu=co,yi=t,niu=vr,aw=a,vpi=nt.parseClassType,ypi=1e3,ppi=1e3,wpi=3e3,ev={PROCESSOR:{FILTER:ypi,STATISTIC:5e3},VISUAL:{LAYOUT:ppi,GLOBAL:2e3,CHART:wpi,COMPONENT:4e3,BRUSH:5e3}},te="__flagInMainProcess",as="__optionUpdated",bpi=/^[a-zA-Z0-9_]+$/;dy.prototype.on=gl("on");dy.prototype.off=gl("off");dy.prototype.one=gl("one");ft(dy,ei);rt=gy.prototype;rt._onframe=function(){var n,i,r,t,u;if(!this._disposed)if(n=this._scheduler,this[as])i=this[as].silent,this[te]=!0,np(this),ro.update.call(this),this[te]=!1,this[as]=!1,nd.call(this,i),td.call(this,i);else if(n.unfinished){r=1;t=this._model;this._api;n.unfinished=!1;do u=+new Date,n.performSeriesTasks(t),n.performDataProcessorTasks(t),pii(this,t),n.performVisualTasks(t),oot(this,this._model,0,"remain"),r-=+new Date-u;while(r>0&&n.unfinished);n.unfinished||this._zr.flush()}};rt.getDom=function(){return this._dom};rt.getZr=function(){return this._zr};rt.setOption=function(n,t,i){var r;if(aw(t)&&(i=t.lazyUpdate,r=t.silent,t=t.notMerge),this[te]=!0,!this._model||t){var u=new det(this._api),f=this._theme,e=this._model=new dvt(null,null,f,u);e.scheduler=this._scheduler;e.init(null,null,f,u)}this._model.setOption(n,dpi);i?(this[as]={silent:r},this[te]=!1):(np(this),ro.update.call(this),this._zr.flush(),this[as]=!1,this[te]=!1,nd.call(this,r),td.call(this,r))};rt.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};rt.getModel=function(){return this._model};rt.getOption=function(){return this._model&&this._model.getOption()};rt.getWidth=function(){return this._zr.getWidth()};rt.getHeight=function(){return this._zr.getHeight()};rt.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};rt.getRenderedCanvas=function(n){if(k.canvasSupported)return(n=n||{}).pixelRatio=n.pixelRatio||1,n.backgroundColor=n.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(n)};rt.getSvgDataUrl=function(){if(k.svgSupported){var n=this._zr;return t(n.storage.getDisplayList(),function(n){n.stopAnimation(!0)}),n.painter.pathToDataUrl()}};rt.getDataURL=function(n){var r=(n=n||{}).excludeComponents,u=this._model,t=[],f=this,i;return yi(r,function(n){u.eachComponent({mainType:n},function(n){var i=f._componentsMap[n.__viewId];i.group.ignore||(t.push(i),i.group.ignore=!0)})}),i="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(n).toDataURL("image/"+(n&&n.type||"png")),yi(t,function(n){n.group.ignore=!1}),i};rt.getConnectedDataURL=function(n){var s;if(k.canvasSupported){var c=this.group,l=Math.min,a=Math.max;if(ait[c]){var r=1/0,u=1/0,e=-1/0,o=-1/0,v=[],i=n&&n.pixelRatio||1;t(lc,function(t){if(t.group===c){var f=t.getRenderedCanvas(h(n)),i=t.getDom().getBoundingClientRect();r=l(i.left,r);u=l(i.top,u);e=a(i.right,e);o=a(i.bottom,o);v.push({dom:f,left:i.left,top:i.top})}});var y=(e*=i)-(r*=i),p=(o*=i)-(u*=i),f=aa();return f.width=y,f.height=p,s=dft(f),yi(v,function(n){var t=new gi({style:{x:n.left*i-r,y:n.top*i-u,image:n.dom}});s.add(t)}),s.refreshImmediately(),f.toDataURL("image/"+(n&&n.type||"png"))}return this.getDataURL(n)}};rt.convertToPixel=l(vii,"convertToPixel");rt.convertFromPixel=l(vii,"convertFromPixel");rt.containPixel=function(n,i){var r;return n=ck(this._model,n),t(n,function(n,u){u.indexOf("Models")>=0&&t(n,function(n){var f=n.coordinateSystem,t;f&&f.containPoint?r|=!!f.containPoint(i):"seriesModels"===u&&(t=this._chartsMap[n.__viewId],t&&t.containPoint&&(r|=t.containPoint(i,n)))},this)},this),!!r};rt.getVisual=function(n,t){var i=(n=ck(this._model,n,{defaultMainType:"series"})).seriesModel.getData(),r=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?i.indexOfRawIndex(n.dataIndex):null;return null!=r?i.getItemVisual(r,t):i.getVisual(t)};rt.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]};rt.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]};ro={prepareAndUpdate:function(n){np(this);ro.update.call(this,n)},update:function(n){var t=this._model,r=this._api,o=this._zr,e=this._coordSysMgr,u=this._scheduler,i,f;t&&(u.restoreData(t,n),u.performSeriesTasks(t),e.create(t,r),u.performDataProcessorTasks(t,n),pii(this,t),e.update(t,r),eot(t),u.performVisualTasks(t,n),kii(this,t,r,n),i=t.get("backgroundColor")||"transparent",k.canvasSupported?o.setBackgroundColor(i):(f=ru(i),i=ae(f,"rgb"),0===f[3]&&(i="transparent")),sot(t,r))},updateTransform:function(n){var t=this._model,r=this,f=this._api,u,i;t&&(u=[],t.eachComponent(function(i,e){var o=r.getViewOfComponentModel(e),s;o&&o.__alive&&(o.updateTransform?(s=o.updateTransform(e,t,f,n),s&&s.update&&u.push(o)):u.push(o))}),i=y(),t.eachSeries(function(u){var o=r._chartsMap[u.__viewId],e;o.updateTransform?(e=o.updateTransform(u,t,f,n),e&&e.update&&i.set(u.uid,1)):i.set(u.uid,1)}),eot(t),this._scheduler.performVisualTasks(t,n,{setDirty:!0,dirtyMap:i}),oot(r,t,0,n,i),sot(t,this._api))},updateView:function(n){var t=this._model;t&&(vi.markUpdateMethod(n,"updateView"),eot(t),this._scheduler.performVisualTasks(t,n,{setDirty:!0}),kii(this,this._model,this._api,n),sot(t,this._api))},updateVisual:function(n){ro.update.call(this,n)},updateLayout:function(n){ro.update.call(this,n)}};rt.resize=function(n){var t,r,i;this._zr.resize(n);t=this._model;(this._loadingFX&&this._loadingFX.resize(),t)&&(r=t.resetOption("media"),i=n&&n.silent,this[te]=!0,r&&np(this),ro.update.call(this),this[te]=!1,nd.call(this,i),td.call(this,i))};rt.showLoading=function(n,t){if(aw(n)&&(t=n,n=""),n=n||"default",this.hideLoading(),eyt[n]){var i=eyt[n](this._api,t),r=this._zr;this._loadingFX=i;r.add(i)}};rt.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};rt.makeActionFromEvent=function(n){var t=e({},n);return t.type=cit[n.type],t};rt.dispatchAction=function(n,t){aw(t)||(t={silent:!!t});hit[n.type]&&this._model&&(this[te]?this._pendingActions.push(n):(wii.call(this,n,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&k.browser.weChat&&this._throttledZrFlush(),nd.call(this,t.silent),td.call(this,t.silent)))};rt.appendData=function(n){var t=n.seriesIndex;this.getModel().getSeriesByIndex(t).appendData(n);this._scheduler.unfinished=!0};rt.on=gl("on");rt.off=gl("off");rt.one=gl("one");kpi=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];rt._initEvents=function(){yi(kpi,function(n){this._zr.on(n,function(t){var r,f=this.getModel(),i=t.target,u;"globalout"===n?r={}:i&&null!=i.dataIndex?(u=i.dataModel||f.getSeriesByIndex(i.seriesIndex),r=u&&u.getDataParams(i.dataIndex,i.dataType)||{}):i&&i.eventData&&(r=e({},i.eventData));r&&(r.event=t,r.type=n,this.trigger(n,r))},this)},this);yi(cit,function(n,t){this._messageCenter.on(t,function(n){this.trigger(t,n)},this)},this)};rt.isDisposed=function(){return this._disposed};rt.clear=function(){this.setOption({series:[]},!0)};rt.dispose=function(){if(!this._disposed){this._disposed=!0;vgt(this.getDom(),oyt,"");var n=this._api,t=this._model;yi(this._componentsViews,function(i){i.dispose(t,n)});yi(this._chartsViews,function(i){i.dispose(t,n)});this._zr.dispose();delete lc[this.id]}};ft(gy,ei);var hit={},cit={},fyt=[],dpi=[],gpi=[],lit=[],nwi={},eyt={},lc={},ait={},tiu=new Date-0,iiu=new Date-0,oyt="_echarts_instance_",twi={},riu=gii;vt(2e3,btu);ki(epi);pr(5e3,function(n){var t=y();n.eachSeries(function(n){var f=n.get("stack");if(f){var r=t.get(f)||t.set(f,[]),i=n.getData(),u={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:n};if(!u.stackedDimension||!u.isStackedByIndex&&!u.stackedByDimension)return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel);r.push(u)}});t.each(afr)});nri("default",function(n,t){var i;o(t=t||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var u=new st({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),r=new yyi({shape:{startAngle:-oit/2,endAngle:-oit/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),e=new st({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});return r.animateShape(!0).when(1e3,{endAngle:3*oit/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*oit/2}).delay(300).start("circularInOut"),i=new f,i.add(r),i.add(e),i.add(u),i.resize=function(){var i=n.getWidth()/2,f=n.getHeight()/2,t;r.setShape({cx:i,cy:f});t=r.shape.r;e.setShape({x:i-t,y:f-t,width:2*t,height:2*t});u.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},i.resize(),i});it({type:"highlight",event:"highlight",update:"highlight"},pi);it({type:"downplay",event:"downplay",update:"downplay"},pi);cot("light",dtu);cot("dark",api);iwi={};we.prototype={constructor:we,add:function(n){return this._add=n,this},update:function(n){return this._update=n,this},remove:function(n){return this._remove=n,this},execute:function(){var o=this._old,h=this._new,i={},s=[],e=[],t,r,n,u,f;for(iri(o,{},s,"_oldKeyGetter",this),iri(h,i,e,"_newKeyGetter",this),t=0;t<o.length;t++)null!=(n=i[r=s[t]])?((f=n.length)?(1===f&&(i[r]=null),n=n.unshift()):i[r]=null,this._update&&this._update(n,t)):this._remove&&this._remove(t);for(t=0;t<e.length;t++)if(r=e[t],i.hasOwnProperty(r)){if(n=i[r],null==n)continue;if(n.length)for(u=0,f=n.length;u<f;u++)this._add&&this._add(n[u]);else this._add&&this._add(n)}}};var rwi=y(["tooltip","label","itemName","itemId","seriesName"]),vit=a,uiu="e\0\0",fiu={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},uwi="undefined"==typeof Uint32Array?Array:Uint32Array,eiu="undefined"==typeof Uint16Array?Array:Uint16Array,oiu=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],siu=["_extent","_approximateExtent","_rawExtent"],hi=function(n,t){var i,r;n=n||["x","y"];for(var f={},e=[],o={},u=0;u<n.length;u++)i=n[u],yt(i)&&(i={name:i}),r=i.name,i.type=i.type||"float",i.coordDim||(i.coordDim=r,i.coordDimIndex=0),i.otherDims=i.otherDims||{},e.push(r),f[r]=i,i.index=u,i.createInvertedIndices&&(o[r]=[]);this.dimensions=e;this._dimensionInfos=f;this.hostModel=t;this.dataType;this._indices=null;this._count=0;this._rawCount=0;this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this._visual={};this._layout={};this._itemVisuals=[];this.hasItemVisual={};this._itemLayouts=[];this._graphicEls=[];this._chunkSize=1e5;this._chunkCount=0;this._rawData;this._rawExtent={};this._extent={};this._approximateExtent={};this._dimensionsSummary=wer(this);this._invertedIndicesMap=o;this._calculationInfo={}},s=hi.prototype;s.type="list";s.hasItemOption=!0;s.getDimension=function(n){return isNaN(n)||(n=this.dimensions[n]||n),n};s.getDimensionInfo=function(n){return this._dimensionInfos[this.getDimension(n)]};s.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()};s.mapDimension=function(n,t){var r=this._dimensionsSummary,i;return null==t?r.encodeFirstDimNotExtra[n]:(i=r.encode[n],!0===t?(i||[]).slice():i&&i[t])};s.initData=function(n,t,i){(bu.isInstance(n)||se(n))&&(n=new gti(n,this.dimensions.length));this._rawData=n;this._storage={};this._indices=null;this._nameList=t||[];this._idList=[];this._nameRepeatCount={};i||(this.hasItemOption=!1);this.defaultDimValueGetter=vtu[this._rawData.getSource().sourceFormat];this._dimValueGetter=i=i||this.defaultDimValueGetter;this._rawExtent={};this._initDataFromProvider(0,n.count());n.pure&&(this.hasItemOption=!1)};s.getProvider=function(){return this._rawData};s.appendData=function(n){var t=this._rawData,r=this.count(),i;t.appendData(n);i=t.count();t.persistent||(i+=r);this._initDataFromProvider(r,i)};s._initDataFromProvider=function(n,t){var k,rt,v,ut,y,f,u,w,i,ft,et,d,h;if(!(n>=t)){for(var g,e=this._chunkSize,c=this._rawData,o=this._storage,b=this.dimensions,nt=b.length,ot=this._dimensionInfos,st=this._nameList,at=this._idList,tt=this._rawExtent,l=this._nameRepeatCount={},ht=this._chunkCount,it=ht-1,a=0;a<nt;a++){if(tt[r=b[a]]||(tt[r]=[1/0,-1/0]),k=ot[r],0===k.otherDims.itemName&&(g=this._nameDimIdx=a),0===k.otherDims.itemId&&(this._idDimIdx=a),rt=fiu[k.type],o[r]||(o[r]=[]),v=o[r][it],v&&v.length<e){for(ut=new rt(Math.min(t-it*e,e)),y=0;y<v.length;y++)ut[y]=v[y];o[r][it]=ut}for(s=ht*e;s<t;s+=e)o[r].push(new rt(Math.min(t-s,e)));this._chunkCount=o[r].length}for(f=new Array(nt),u=n;u<t;u++){f=c.getItem(u,f);for(var ct=Math.floor(u/e),lt=u%e,s=0;s<nt;s++){var r=b[s],vt=o[r][ct],p=this._dimValueGetter(f,r,u,s);vt[lt]=p;w=tt[r];p<w[0]&&(w[0]=p);p>w[1]&&(w[1]=p)}c.pure||(i=st[u],f&&null==i&&(null!=f.name?st[u]=i=f.name:null!=g&&(ft=b[g],et=o[ft][ct],et&&(i=et[lt],d=ot[ft].ordinalMeta,d&&d.categories.length&&(i=d.categories[i])))),h=null==f?null:f.id,null==h&&null!=i&&(l[i]=l[i]||0,h=i,l[i]>0&&(h+="__ec__"+l[i]),l[i]++),null!=h&&(at[u]=h))}!c.persistent&&c.clean&&c.clean();this._rawCount=this._count=t;this._extent={};der(this)}};s.count=function(){return this._count};s.getIndices=function(){var r=this._indices,i,u,t,n;if(r)if(i=r.constructor,u=this._count,i===Array)for(t=new i(u),n=0;n<u;n++)t[n]=r[n];else t=new i(r.buffer,0,u);else for(t=new(i=ud(this))(this.count()),n=0;n<t.length;n++)t[n]=n;return t};s.get=function(n,t){var i,r,u;return(t>=0&&t<this._count)?(i=this._storage,!i[n])?NaN:(t=this.getRawIndex(t),r=Math.floor(t/this._chunkSize),u=t%this._chunkSize,i[n][r][u]):NaN};s.getByRawIndex=function(n,t){var i,r,u;return(t>=0&&t<this._rawCount)?(i=this._storage[n],!i)?NaN:(r=Math.floor(t/this._chunkSize),u=t%this._chunkSize,i[r][u]):NaN};s._getFast=function(n,t){var i=Math.floor(t/this._chunkSize),r=t%this._chunkSize;return this._storage[n][i][r]};s.getValues=function(n,t){var u=[],r,f;for(i(n)||(t=n,n=this.dimensions),r=0,f=n.length;r<f;r++)u.push(this.get(n[r],t));return u};s.hasValue=function(n){for(var i=this._dimensionsSummary.dataDimsOnCoord,r=this._dimensionInfos,t=0,u=i.length;t<u;t++)if("ordinal"!==r[i[t]].type&&isNaN(this.get(i[t],n)))return!1;return!0};s.getDataExtent=function(n){var r,t,o,i;if(n=this.getDimension(n),r=[1/0,-1/0],!this._storage[n])return r;if(o=this.count(),!this._indices)return this._rawExtent[n].slice();if(t=this._extent[n])return t.slice();for(var u=(t=r)[0],f=t[1],e=0;e<o;e++)i=this._getFast(n,this.getRawIndex(e)),i<u&&(u=i),i>f&&(f=i);return t=[u,f],this._extent[n]=t,t};s.getApproximateExtent=function(n){return n=this.getDimension(n),this._approximateExtent[n]||this.getDataExtent(n)};s.setApproximateExtent=function(n,t){t=this.getDimension(t);this._approximateExtent[t]=n.slice()};s.getCalculationInfo=function(n){return this._calculationInfo[n]};s.setCalculationInfo=function(n,t){vit(n)?e(this._calculationInfo,n):this._calculationInfo[n]=t};s.getSum=function(n){var r=0,t,u,i;if(this._storage[n])for(t=0,u=this.count();t<u;t++)i=this.get(n,t),isNaN(i)||(r+=i);return r};s.getMedian=function(n){var r=[],i,t;return this.each(n,function(n){isNaN(n)||r.push(n)}),i=[].concat(r).sort(function(n,t){return n-t}),t=this.count(),0===t?0:t%2==1?i[(t-1)/2]:(i[t/2]+i[t/2-1])/2};s.rawIndexOf=function(n,t){var i=(n&&this._invertedIndicesMap[n])[t];return null==i||isNaN(i)?-1:i};s.indexOfName=function(n){for(var t=0,i=this.count();t<i;t++)if(this.getName(t)===n)return t;return-1};s.indexOfRawIndex=function(n){var i,r,u,f,t;if(!this._indices)return n;if(n>=this._rawCount||n<0)return-1;if(i=this._indices,r=i[n],null!=r&&r<this._count&&r===n)return n;for(u=0,f=this._count-1;u<=f;)if(t=(u+f)/2|0,i[t]<n)u=t+1;else{if(!(i[t]>n))return t;f=t-1}return-1};s.indicesOfNearest=function(n,t,i){var u=[],r,e;if(!this._storage[n])return u;null==i&&(i=1/0);for(var o=Number.MAX_VALUE,s=-1,f=0,h=this.count();f<h;f++)r=t-this.get(n,f),e=Math.abs(r),r<=i&&e<=o&&((e<o||r>=0&&s<0)&&(o=e,s=r,u.length=0),u.push(f));return u};s.getRawIndex=ip;s.getRawDataItem=function(n){var i,t,r;if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(n));for(i=[],t=0;t<this.dimensions.length;t++)r=this.dimensions[t],i.push(this.get(r,n));return i};s.getName=function(n){var t=this.getRawIndex(n);return this._nameList[t]||uri(this,this._nameDimIdx,t)||""};s.getId=function(n){return vot(this,this.getRawIndex(n))};s.each=function(n,t,i,u){var s,f,e,o;if(this._count)for("function"==typeof n&&(u=i,i=t,t=n,n=[]),i=i||u||this,s=(n=r(yot(n),this.getDimension,this)).length,f=0;f<this.count();f++)switch(s){case 0:t.call(i,f);break;case 1:t.call(i,this.get(n[0],f),f);break;case 2:t.call(i,this.get(n[0],f),this.get(n[1],f),f);break;default:for(e=0,o=[];e<s;e++)o[e]=this.get(n[e],f);o[e]=f;t.apply(i,o)}};s.filterSelf=function(n,t,i,u){var o,s,p,e;if(this._count){"function"==typeof n&&(u=i,i=t,t=n,n=[]);i=i||u||this;n=r(yot(n),this.getDimension,this);for(var h=this.count(),v=new(ud(this))(h),c=[],l=n.length,a=0,y=n[0],f=0;f<h;f++){if(s=this.getRawIndex(f),0===l)o=t.call(i,f);else if(1===l)p=this._getFast(y,s),o=t.call(i,p,f);else{for(e=0;e<l;e++)c[e]=this._getFast(y,s);c[e]=f;o=t.apply(i,c)}o&&(v[a++]=s)}return a<h&&(this._indices=v),this._count=a,this._extent={},this.getRawIndex=this._indices?rp:ip,this}};s.selectRange=function(n){var u,h,f,s,b,i,r,a,k;if(this._count){u=[];for(h in n)n.hasOwnProperty(h)&&u.push(h);if(f=u.length,f){var c=this.count(),o=new(ud(this))(c),e=0,l=u[0],y=n[l][0],p=n[l][1],w=!1;if(!this._indices)if(s=0,1===f){for(b=this._storage[u[0]],i=0;i<this._chunkCount;i++)for(var d=b[i],g=Math.min(this._count-i*this._chunkSize,this._chunkSize),t=0;t<g;t++)((r=d[t])>=y&&r<=p||isNaN(r))&&(o[e++]=s),s++;w=!0}else if(2===f){for(var b=this._storage[l],tt=this._storage[u[1]],it=n[u[1]][0],rt=n[u[1]][1],i=0;i<this._chunkCount;i++)for(var d=b[i],ut=tt[i],g=Math.min(this._count-i*this._chunkSize,this._chunkSize),t=0;t<g;t++)r=d[t],a=ut[t],(r>=y&&r<=p||isNaN(r))&&(a>=it&&a<=rt||isNaN(a))&&(o[e++]=s),s++;w=!0}if(!w)if(1===f)for(t=0;t<c;t++)v=this.getRawIndex(t),((r=this._getFast(l,v))>=y&&r<=p||isNaN(r))&&(o[e++]=v);else for(t=0;t<c;t++){for(var nt=!0,v=this.getRawIndex(t),i=0;i<f;i++)k=u[i],((r=this._getFast(h,v))<n[k][0]||r>n[k][1])&&(nt=!1);nt&&(o[e++]=this.getRawIndex(t))}return e<c&&(this._indices=o),this._count=e,this._extent={},this.getRawIndex=this._indices?rp:ip,this}}};s.mapArray=function(n,t,i,r){"function"==typeof n&&(r=i,i=t,t=n,n=[]);i=i||r||this;var u=[];return this.each(n,function(){u.push(t&&t.apply(this,arguments))},i),u};s.map=function(n,t,i,u){var f,s,e;i=i||u||this;f=fri(this,n=r(yot(n),this.getDimension,this));f._indices=this._indices;f.getRawIndex=f._indices?rp:ip;for(var d=f._storage,v=[],y=this._chunkSize,p=n.length,g=this.count(),a=[],nt=f._rawExtent,o=0;o<g;o++){for(s=0;s<p;s++)a[s]=this.get(n[s],o);if(a[p]=o,e=t&&t.apply(i,a),null!=e){"object"!=typeof e&&(v[0]=e,e=v);for(var w=this.getRawIndex(o),tt=Math.floor(w/y),it=w%y,c=0;c<e.length;c++){var b=n[c],h=e[c],l=nt[b],k=d[b];k&&(k[tt][it]=h);h<l[0]&&(l[0]=h);h>l[1]&&(l[1]=h)}}}return f};s.downSample=function(n,t,i,r){for(var h,u=fri(this,[n]),k=u._storage,c=[],o=Math.floor(1/t),y=k[n],s=this.count(),l=this._chunkSize,a=u._rawExtent[n],p=new(ud(this))(s),w=0,f=0;f<s;f+=o){for(o>s-f&&(o=s-f,c.length=o),h=0;h<o;h++){var b=this.getRawIndex(f+h),d=Math.floor(b/l),g=b%l;c[h]=y[d][g]}var e=i(c),v=this.getRawIndex(Math.min(f+r(c,e)||0,s-1)),nt=v%l;y[Math.floor(v/l)][nt]=e;e<a[0]&&(a[0]=e);e>a[1]&&(a[1]=e);p[w++]=v}return u._count=w,u._indices=p,u.getRawIndex=rp,u};s.getItemModel=function(n){var t=this.hostModel;return new tt(this.getRawDataItem(n),t,t&&t.ecModel)};s.diff=function(n){var t=this;return new we(n?n.getIndices():[],this.getIndices(),function(t){return vot(n,t)},function(n){return vot(t,n)})};s.getVisual=function(n){var t=this._visual;return t&&t[n]};s.setVisual=function(n,t){if(vit(n))for(var i in n)n.hasOwnProperty(i)&&this.setVisual(i,n[i]);else this._visual=this._visual||{},this._visual[n]=t};s.setLayout=function(n,t){if(vit(n))for(var i in n)n.hasOwnProperty(i)&&this.setLayout(i,n[i]);else this._layout[n]=t};s.getLayout=function(n){return this._layout[n]};s.getItemLayout=function(n){return this._itemLayouts[n]};s.setItemLayout=function(n,t,i){this._itemLayouts[n]=i?e(this._itemLayouts[n]||{},t):t};s.clearItemLayouts=function(){this._itemLayouts.length=0};s.getItemVisual=function(n,t,i){var r=this._itemVisuals[n],u=r&&r[t];return null!=u||i?u:this.getVisual(t)};s.setItemVisual=function(n,t,i){var u=this._itemVisuals[n]||{},f=this.hasItemVisual,r;if(this._itemVisuals[n]=u,vit(t))for(r in t)t.hasOwnProperty(r)&&(u[r]=t[r],f[r]=!0);else u[t]=i,f[t]=!0};s.clearAllVisual=function(){this._visual={};this._itemVisuals=[];this.hasItemVisual={}};fwi=function(n){n.seriesIndex=this.seriesIndex;n.dataIndex=this.dataIndex;n.dataType=this.dataType};s.setItemGraphicEl=function(n,t){var i=this.hostModel;t&&(t.dataIndex=n,t.dataType=this.dataType,t.seriesIndex=i&&i.seriesIndex,"group"===t.type&&t.traverse(fwi,t));this._graphicEls[n]=t};s.getItemGraphicEl=function(n){return this._graphicEls[n]};s.eachItemGraphicEl=function(n,i){t(this._graphicEls,function(t,r){t&&n&&n.call(i,t,r)})};s.cloneShallow=function(n){var t,i;return n||(t=r(this.dimensions,this.getDimensionInfo,this),n=new hi(t,this.hostModel)),(n._storage=this._storage,rri(n,this),this._indices)?(i=this._indices.constructor,n._indices=new i(this._indices)):n._indices=null,n.getRawIndex=n._indices?rp:ip,n};s.wrapMethod=function(n,t){var i=this[n];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var n=i.apply(this,arguments);return t.apply(this,[n].concat(aut(arguments)))})};s.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];s.CHANGABLE_METHODS=["filterSelf","selectRange"];ac=function(n,t){return t=t||{},eri(t.coordDimensions||[],n,{dimsDef:t.dimensionsDefine||n.dimensionsDefine,encodeDef:t.encodeDefine||n.encodeDefine,dimCount:t.dimensionsCount,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})};ii.prototype.parse=function(n){return n};ii.prototype.getSetting=function(n){return this._setting[n]};ii.prototype.contain=function(n){var t=this._extent;return n>=t[0]&&n<=t[1]};ii.prototype.normalize=function(n){var t=this._extent;return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])};ii.prototype.scale=function(n){var t=this._extent;return n*(t[1]-t[0])+t[0]};ii.prototype.unionExtent=function(n){var t=this._extent;n[0]<t[0]&&(t[0]=n[0]);n[1]>t[1]&&(t[1]=n[1])};ii.prototype.unionExtentFromData=function(n,t){this.unionExtent(n.getApproximateExtent(t))};ii.prototype.getExtent=function(){return this._extent.slice()};ii.prototype.setExtent=function(n,t){var i=this._extent;isNaN(n)||(i[0]=n);isNaN(t)||(i[1]=t)};ii.prototype.isBlank=function(){return this._isBlank};ii.prototype.setBlank=function(n){this._isBlank=n};ii.prototype.getLabel=null;ly(ii);ak(ii,{registerWhenExtend:!0});up.createByAxisModel=function(n){var t=n.option,i=t.data,u=i&&r(i,uor);return new up({categories:u,needCollect:!u,deduplication:!1!==t.dedplication})};syt=up.prototype;syt.getOrdinal=function(n){return hri(this).get(n)};syt.parseAndCollect=function(n){var t,i=this._needCollect,r;return"string"!=typeof n&&!i?n:i&&!this._deduplication?(t=this.categories.length,this.categories[t]=n,t):(r=hri(this),null==(t=r.get(n))&&(i?(t=this.categories.length,this.categories[t]=n,r.set(n,t)):t=NaN),t)};yit=ii.prototype;pit=ii.extend({type:"ordinal",init:function(n,t){n&&!i(n)||(n=new up({categories:n}));this._ordinalMeta=n;this._extent=t||[0,n.categories.length-1]},parse:function(n){return"string"==typeof n?this._ordinalMeta.getOrdinal(n):Math.round(n)},contain:function(n){return n=this.parse(n),yit.contain.call(this,n)&&null!=this._ordinalMeta.categories[n]},normalize:function(n){return yit.normalize.call(this,this.parse(n))},scale:function(n){return Math.round(yit.scale.call(this,n))},getTicks:function(){for(var t=[],i=this._extent,n=i[0];n<=i[1];)t.push(n),n++;return t},getLabel:function(n){if(!this.isBlank())return this._ordinalMeta.categories[n]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(n,t){this.unionExtent(n.getApproximateExtent(t))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:pi,niceExtent:pi});pit.create=function(){return new pit};var hyt=ai,cyt=ai,ie=ii.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(n,t){var i=this._extent;isNaN(n)||(i[0]=parseFloat(n));isNaN(t)||(i[1]=parseFloat(t))},unionExtent:function(n){var t=this._extent;n[0]<t[0]&&(t[0]=n[0]);n[1]>t[1]&&(t[1]=n[1]);ie.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(n){this._interval=n;this._niceExtent=this._extent.slice();this._intervalPrecision=cri(n)},getTicks:function(){return oor(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(n,t){if(null==n)return"";var i=t&&t.precision;return null==i?i=pk(n)||0:"auto"===i&&(i=this._intervalPrecision),n=cyt(n,i,!0),hh(n)},niceTicks:function(n,t,i){var r,u,f;n=n||5;r=this._extent;u=r[1]-r[0];isFinite(u)&&(u<0&&(u=-u,r.reverse()),f=eor(r,n,t,i),this._intervalPrecision=f.intervalPrecision,this._interval=f.interval,this._niceExtent=f.niceTickExtent)},niceExtent:function(n){var t=this._extent,r,u,i;t[0]===t[1]&&(0!==t[0]?(r=t[0],n.fixMax?t[0]-=r/2:(t[1]+=r/2,t[0]-=r/2)):t[1]=1);u=t[1]-t[0];isFinite(u)||(t[0]=0,t[1]=1);this.niceTicks(n.splitNumber,n.minInterval,n.maxInterval);i=this._interval;n.fixMin||(t[0]=cyt(Math.floor(t[0]/i)*i));n.fixMax||(t[1]=cyt(Math.ceil(t[1]/i)*i))}});ie.create=function(){return new ie};var lyt="__ec_stack_",hiu="undefined"!=typeof Float32Array?Float32Array:Array,ciu={seriesType:"bar",plan:uv(),reset:function(n){if(bri(n)&&kri(n)){var f=n.getData(),i=n.coordinateSystem,t=i.getBaseAxis(),r=i.getOtherAxis(t),s=f.mapDimension(r.dim),h=f.mapDimension(t.dim),e=r.isHorizontal(),o=e?0:1,u=pri(bot([n]),t,n).width;return u>.5||(u=.5),{progress:function(n,f){for(var l,a=new hiu(2*n.count),c=[],v=[],y=0;null!=(l=n.next());)v[o]=f.get(s,l),v[1-o]=f.get(h,l),c=i.dataToPoint(v,null,c),a[y++]=c[0],a[y++]=c[1];f.setLayout({largePoints:a,barWidth:u,valueAxisStart:dri(t,r,!1),valueAxisHorizontal:e})}}}}},liu=ie.prototype,ewi=Math.ceil,owi=Math.floor,aiu=function(n,t,i,r){for(;i<r;){var u=i+r>>>1;n[u][1]<t?i=u+1:r=u}return i},ayt=ie.extend({type:"time",getLabel:function(n){var t=this._stepLvl,i=new Date(n);return wet(t[0],i,this.getSetting("useUTC"))},niceExtent:function(n){var t=this._extent,r,i;(t[0]===t[1]&&(t[0]-=864e5,t[1]+=864e5),t[1]===-1/0&&t[0]===1/0)&&(r=new Date,t[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),t[0]=t[1]-864e5);this.niceTicks(n.splitNumber,n.minInterval,n.maxInterval);i=this._interval;n.fixMin||(t[0]=ai(owi(t[0]/i)*i));n.fixMax||(t[1]=ai(ewi(t[1]/i)*i))},niceTicks:function(n,t,i){var e,s;n=n||10;var r=this._extent,h=r[1]-r[0],f=h/n;null!=t&&f<t&&(f=t);null!=i&&f>i&&(f=i);var c=wit.length,l=aiu(wit,f,0,c),o=wit[Math.min(l,c-1)],u=o[1];"year"===o[0]&&(u*=vet(h/u/n,!0));e=this.getSetting("useUTC")?0:6e4*new Date(+r[0]||+r[1]).getTimezoneOffset();s=[Math.round(ewi((r[0]-e)/u)*u+e),Math.round(owi((r[1]-e)/u)*u+e)];ari(s,r);this._stepLvl=o;this._interval=u;this._niceExtent=s},parse:function(n){return+py(n)}});t(["contain","normalize"],function(n){ayt.prototype[n]=function(t){return liu[n].call(this,this.parse(t))}});wit=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",36288e5],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];ayt.create=function(n){return new ayt({useUTC:n.ecModel.get("useUTC")})};var bit=ii.prototype,kit=ie.prototype,viu=pk,yiu=ai,piu=Math.floor,wiu=Math.ceil,dit=Math.pow,re=Math.log,vyt=ii.extend({type:"log",base:10,$constructor:function(){ii.apply(this,arguments);this._originalScale=new ie},getTicks:function(){var n=this._originalScale,t=this._extent,i=n.getExtent();return r(kit.getTicks.call(this),function(r){var u=ai(dit(this.base,r));return u=r===t[0]&&n.__fixMin?ed(u,i[0]):u,u=r===t[1]&&n.__fixMax?ed(u,i[1]):u},this)},getLabel:kit.getLabel,scale:function(n){return n=bit.scale.call(this,n),dit(this.base,n)},setExtent:function(n,t){var i=this.base;n=re(n)/re(i);t=re(t)/re(i);kit.setExtent.call(this,n,t)},getExtent:function(){var r=this.base,n=bit.getExtent.call(this),t,i;return n[0]=dit(r,n[0]),n[1]=dit(r,n[1]),t=this._originalScale,i=t.getExtent(),t.__fixMin&&(n[0]=ed(n[0],i[0])),t.__fixMax&&(n[1]=ed(n[1],i[1])),n},unionExtent:function(n){this._originalScale.unionExtent(n);var t=this.base;n[0]=re(n[0])/re(t);n[1]=re(n[1])/re(t);bit.unionExtent.call(this,n)},unionExtentFromData:function(n,t){this.unionExtent(n.getApproximateExtent(t))},niceTicks:function(n){var i,r,t,u;if(n=n||10,i=this._extent,r=i[1]-i[0],!(r===1/0||r<=0)){for(t=fti(r),n/r*t<=.5&&(t*=10);!isNaN(t)&&Math.abs(t)<1&&Math.abs(t)>0;)t*=10;u=[ai(wiu(i[0]/t)*t),ai(piu(i[1]/t)*t)];this._interval=t;this._niceExtent=u}},niceExtent:function(n){kit.niceExtent.call(this,n);var t=this._originalScale;t.__fixMin=n.fixMin;t.__fixMax=n.fixMax}});t(["contain","normalize"],function(n){vyt.prototype[n]=function(t){return t=re(t)/re(this.base),bit[n].call(this,t)}});vyt.create=function(){return new vyt};var vc={getMin:function(n){var i=this.option,t=n||null==i.rangeStart?i.min:i.rangeStart;return this.axis&&null!=t&&"dataMin"!==t&&"function"!=typeof t&&!ty(t)&&(t=this.axis.scale.parse(t)),t},getMax:function(n){var i=this.option,t=n||null==i.rangeEnd?i.max:i.rangeEnd;return this.axis&&null!=t&&"dataMax"!==t&&"function"!=typeof t&&!ty(t)&&(t=this.axis.scale.parse(t)),t},getNeedCrossZero:function(){var n=this.option;return null==n.rangeStart&&null==n.rangeEnd&&!n.scale},getCoordSysModel:pi,setRange:function(n,t){this.option.rangeStart=n;this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},biu=hf({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var i=t.cx,r=t.cy,f=t.width/2,u=t.height/2;n.moveTo(i,r-u);n.lineTo(i+f,r+u);n.lineTo(i-f,r+u);n.closePath()}}),kiu=hf({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var i=t.cx,r=t.cy,u=t.width/2,f=t.height/2;n.moveTo(i,r-f);n.lineTo(i+u,r);n.lineTo(i,r+f);n.lineTo(i-u,r);n.closePath()}}),diu=hf({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var r=t.x,o=t.y,c=t.width/5*3,l=Math.max(c,t.height),i=c/2,u=i*i/(l-i),f=o-l+i+u,e=Math.asin(u/i),s=Math.cos(e)*i,a=Math.sin(e),v=Math.cos(e),h=.6*i,y=.7*i;n.moveTo(r-s,f+u);n.arc(r,f,i,Math.PI-e,2*Math.PI+e);n.bezierCurveTo(r+s-a*h,f+u+v*h,r,o-y,r,o);n.bezierCurveTo(r,o-y,r-s+a*h,f+u+v*h,r-s,f+u);n.closePath()}}),giu=hf({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var u=t.height,e=t.width,i=t.x,r=t.y,f=e/3*2;n.moveTo(i,r);n.lineTo(i+f,r+u);n.lineTo(i,r+u/4*3);n.lineTo(i-f,r+u);n.lineTo(i,r);n.closePath()}}),nru={line:function(n,t,i,r,u){u.x1=n;u.y1=t+r/2;u.x2=n+i;u.y2=t+r/2},rect:function(n,t,i,r,u){u.x=n;u.y=t;u.width=i;u.height=r},roundRect:function(n,t,i,r,u){u.x=n;u.y=t;u.width=i;u.height=r;u.r=Math.min(i,r)/4},square:function(n,t,i,r,u){var f=Math.min(i,r);u.x=n;u.y=t;u.width=f;u.height=f},circle:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.r=Math.min(i,r)/2},diamond:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.width=i;u.height=r},pin:function(n,t,i,r,u){u.x=n+i/2;u.y=t+r/2;u.width=i;u.height=r},arrow:function(n,t,i,r,u){u.x=n+i/2;u.y=t+r/2;u.width=i;u.height=r},triangle:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.width=i;u.height=r}},yyt={};t({line:hu,rect:st,roundRect:st,square:st,circle:fc,diamond:kiu,pin:diu,arrow:giu,triangle:biu},function(n,t){yyt[t]=new n});var tru=hf({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var n=this.style;"pin"===this.shape.symbolType&&"inside"===n.textPosition&&(n.textPosition=["50%","40%"],n.textAlign="center",n.textVerticalAlign="middle")},buildPath:function(n,t,i){var u=t.symbolType,r=yyt[u];"none"!==t.symbolType&&(r||(r=yyt[u="rect"]),nru[u](t.x,t.y,t.width,t.height,r.shape),r.buildPath(n,r.shape,i))}}),iru={isDimensionStacked:be,enableDataStack:sri,getStackedDimension:fd},rru=(Object.freeze||Object)({createList:function(n){return ke(n.getSource(),n)},getLayoutRect:fi,dataStack:iru,createScale:function(n,t){var r=t,i;return tt.isInstance(t)||ft(r=new tt(t),vc),i=na(r),i.setExtent(n[0],n[1]),go(i,r),i},mixinAxisModelCommonMethods:function(n){ft(n,vc)},completeDimensions:eri,createDimensions:ac,createSymbol:br}),uru=1e-8;od.prototype={constructor:od,properties:null,getBoundingRect:function(){var f=this._rect;if(f)return f;for(var r=Number.MAX_VALUE,n=[r,r],t=[-r,-r],e=[],o=[],u=this.geometries,i=0;i<u.length;i++)"polygon"===u[i].type&&(dgt(u[i].exterior,e,o),ce(n,n,e),le(t,t,o));return 0===i&&(n[0]=n[1]=t[0]=t[1]=0),this._rect=new w(n[0],n[1],t[0]-n[0],t[1]-n[1])},contain:function(n){var o=this.getBoundingRect(),i=this.geometries,t,f,e,r,u;if(!o.contain(n[0],n[1]))return!1;n:for(t=0,f=i.length;t<f;t++)if("polygon"===i[t].type&&(e=i[t].exterior,r=i[t].interiors,lh(e,n[0],n[1]))){for(u=0;u<(r?r.length:0);u++)if(lh(r[u]))continue n;return!0}return!1},transformTo:function(n,t,i,r){var f=this.getBoundingRect(),l=f.width/f.height,e;i?r||(r=i/l):i=l*r;for(var a=new w(n,t,i,r),v=f.calculateTransform(a),h=this.geometries,o=0;o<h.length;o++)if("polygon"===h[o].type){for(var c=h[o].exterior,s=h[o].interiors,u=0;u<c.length;u++)ct(c[u],c[u],v);for(e=0;e<(s?s.length:0);e++)for(u=0;u<s[e].length;u++)ct(s[e][u],s[e][u],v)}(f=this._rect).copy(a);this.center=[f.x+f.width/2,f.y+f.height/2]}};var pyt=function(n){return yor(n),r(ui(n.features,function(n){return n.geometry&&n.properties&&n.geometry.coordinates.length>0}),function(n){var i=n.properties,r=n.geometry,u=r.coordinates,f=[],e;return"Polygon"===r.type&&f.push({type:"polygon",exterior:u[0],interiors:u.slice(1)}),"MultiPolygon"===r.type&&t(u,function(n){n[0]&&f.push({type:"polygon",exterior:n[0],interiors:n.slice(1)})}),e=new od(i.name,f,i.cp),e.properties=i,e})},vw=wu(),swi=[0,1],ri=function(n,t,i){this.dim=n;this.scale=t;this._extent=i||[0,0];this.inverse=!1;this.onBand=!1};ri.prototype={constructor:ri,contain:function(n){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return n>=i&&n<=r},containData:function(n){return this.contain(this.dataToCoord(n))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(n){return cet(n||this.scale.getExtent(),this._extent)},setExtent:function(n,t){var i=this._extent;i[0]=n;i[1]=t},dataToCoord:function(n,t){var i=this._extent,r=this.scale;return n=r.normalize(n),this.onBand&&"ordinal"===r.type&&hui(i=i.slice(),r.count()),dt(n,swi,i,t)},coordToData:function(n,t){var i=this._extent,r=this.scale,u;return this.onBand&&"ordinal"===r.type&&hui(i=i.slice(),r.count()),u=dt(n,i,swi,t),this.scale.scale(u)},pointToData:function(){},getTicksCoords:function(n){var t=(n=n||{}).tickModel||this.getTickModel(),i=wor(this,t),u=r(i.ticks,function(n){return{coord:this.dataToCoord(n),tickValue:n}},this),f=t.get("alignWithLabel");return isr(this,u,i.tickCategoryInterval,f,n.clamp),u},getViewLabels:function(){return por(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,i=this.scale.getExtent(),n=i[1]-i[0]+(this.onBand?1:0),r;return 0===n&&(n=1),r=Math.abs(t[1]-t[0]),Math.abs(r)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return nsr(this)}};hwi=pyt;wyt={};t(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(n){wyt[n]=tgr[n]});gt.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(){return ke(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});lu=ns.prototype;cwi=ns.getSymbolSize=function(n,t){var i=n.getItemVisual(t,"symbolSize");return i instanceof Array?i.slice():[+i,+i]};lu._createSymbol=function(n,t,i,r,u){this.removeAll();var f=br(n,-1,-1,2,2,t.getItemVisual(i,"color"),u);f.attr({z2:100,culling:!0,scale:dot(r)});f.drift=rsr;this._symbolType=n;this.add(f)};lu.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(n)};lu.getSymbolPath=function(){return this.childAt(0)};lu.getScale=function(){return this.childAt(0).scale};lu.highlight=function(){this.childAt(0).trigger("emphasis")};lu.downplay=function(){this.childAt(0).trigger("normal")};lu.setZ=function(n,t){var i=this.childAt(0);i.zlevel=n;i.z=t};lu.setDraggable=function(n){var t=this.childAt(0);t.draggable=n;t.cursor=n?"move":"pointer"};lu.updateData=function(n,t,i){var s;this.silent=!1;var e=n.getItemVisual(t,"symbol")||"circle",u=n.hostModel,f=cwi(n,t),o=e!==this._symbolType;if(o?(s=n.getItemVisual(t,"symbolKeepAspect"),this._createSymbol(e,n,t,f,s)):((r=this.childAt(0)).silent=!1,p(r,{scale:dot(f)},u,t)),this._updateCommon(n,t,f,i),o){var r=this.childAt(0),h=i&&i.fadeIn,c={scale:r.scale.slice()};h&&(c.style={opacity:r.style.opacity});r.scale=[0,0];h&&(r.style.opacity=0);tr(r,c,u,t)}this._seriesModel=u};var fru=["itemStyle"],eru=["emphasis","itemStyle"],oru=["label"],sru=["emphasis","label"];lu._updateCommon=function(n,t,i,r){var f=this.childAt(0),k=n.hostModel,d=n.getItemVisual(t,"color"),o,v,y,p,l,ut,s,w,b;"image"!==f.type&&f.useStyle({strokeNoScale:!0});var g=r&&r.itemStyle,h=r&&r.hoverItemStyle,nt=r&&r.symbolRotate,c=r&&r.symbolOffset,tt=r&&r.labelModel,it=r&&r.hoverLabelModel,rt=r&&r.hoverAnimation,a=r&&r.cursorStyle;if(!r||n.hasItemOption?(o=r&&r.itemModel?r.itemModel:n.getItemModel(t),g=o.getModel(fru).getItemStyle(["color"]),h=o.getModel(eru).getItemStyle(),nt=o.getShallow("symbolRotate"),c=o.getShallow("symbolOffset"),tt=o.getModel(oru),it=o.getModel(sru),rt=o.getShallow("hoverAnimation"),a=o.getShallow("cursor")):h=e({},h),v=f.style,f.attr("rotation",(nt||0)*Math.PI/180||0),c&&f.attr("position",[u(c[0],i[0]),u(c[1],i[1])]),a&&f.attr("cursor",a),f.setColor(d,r&&r.symbolInnerColor),f.setStyle(g),y=n.getItemVisual(t,"opacity"),null!=y&&(v.opacity=y),p=n.getItemVisual(t,"liftZ"),l=f.__z2Origin,null!=p?null==l&&(f.__z2Origin=f.z2,f.z2+=p):null!=l&&(f.z2=l,f.__z2Origin=null),ut=r&&r.useNameLabel,uu(v,h,tt,it,{labelFetcher:k,labelDataIndex:t,defaultText:function(t){return ut?n.getName(t):sd(n,t)},isRectText:!0,autoColor:d}),f.off("mouseover").off("mouseout").off("emphasis").off("normal"),f.hoverStyle=h,at(f),s=dot(i),rt&&k.isAnimationEnabled()){w=function(){if(!this.incremental){var n=s[1]/s[0];this.animateTo({scale:[Math.max(1.1*s[0],s[0]+3),Math.max(1.1*s[1],s[1]+3*n)]},400,"elasticOut")}};b=function(){this.incremental||this.animateTo({scale:s},400,"elasticOut")};f.on("mouseover",w).on("mouseout",b).on("emphasis",w).on("normal",b)}};lu.fadeOut=function(n,t){var i=this.childAt(0);this.silent=i.silent=!0;!(t&&t.keepLabel)&&(i.style.text=null);p(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,n)};ot(ns,f);yc=ta.prototype;yc.updateData=function(n,t){t=cui(t);var i=this.group,e=n.hostModel,r=this._data,u=this._symbolCtor,f=lui(n);r||i.removeAll();n.diff(r).add(function(r){var o=n.getItemLayout(r),e;got(n,o,r,t)&&(e=new u(n,r,f),e.attr("position",o),n.setItemGraphicEl(r,e),i.add(e))}).update(function(o,s){var h=r.getItemGraphicEl(s),c=n.getItemLayout(o);got(n,c,o,t)?(h?(h.updateData(n,o,f),p(h,{position:c},e)):(h=new u(n,o)).attr("position",c),i.add(h),n.setItemGraphicEl(o,h)):i.remove(h)}).remove(function(n){var t=r.getItemGraphicEl(n);t&&t.fadeOut(function(){i.remove(t)})}).execute();this._data=n};yc.isPersistent=function(){return!0};yc.updateLayout=function(){var n=this._data;n&&n.eachItemGraphicEl(function(t,i){var r=n.getItemLayout(i);t.attr("position",r)})};yc.incrementalPrepareUpdate=function(n){this._seriesScope=lui(n);this._data=null;this.group.removeAll()};yc.incrementalUpdate=function(n,t,i){var r,f,u;for(i=cui(i),r=n.start;r<n.end;r++)f=t.getItemLayout(r),got(t,f,r,i)&&(u=new this._symbolCtor(t,r,this._seriesScope),u.traverse(function(n){n.isGroup||(n.incremental=n.useHoverLayer=!0)}),u.attr("position",f),this.group.add(u),t.setItemGraphicEl(r,u))};yc.remove=function(n){var t=this.group,i=this._data;i&&n?i.eachItemGraphicEl(function(n){n.fadeOut(function(){t.remove(n)})}):t.removeAll()};var hru=function(n,t,i,r,u,f,e,o){for(var c,g,v,nt,s,tt,it=fsr(n,t),y=[],p=[],w=[],b=[],rt=[],l=[],a=[],k=nst(u,t,e),d=nst(f,n,o),h=0;h<it.length;h++){c=it[h];g=!0;switch(c.cmd){case"=":v=n.getItemLayout(c.idx);nt=t.getItemLayout(c.idx1);(isNaN(v[0])||isNaN(v[1]))&&(v=nt.slice());y.push(v);p.push(nt);w.push(i[c.idx]);b.push(r[c.idx1]);a.push(t.getRawIndex(c.idx1));break;case"+":s=c.idx;y.push(u.dataToPoint([t.get(k.dataDimsForPoint[0],s),t.get(k.dataDimsForPoint[1],s)]));p.push(t.getItemLayout(s).slice());w.push(tst(k,u,t,s));b.push(r[s]);a.push(t.getRawIndex(s));break;case"-":s=c.idx;tt=n.getRawIndex(s);tt!==s?(y.push(n.getItemLayout(s)),p.push(f.dataToPoint([n.get(d.dataDimsForPoint[0],s),n.get(d.dataDimsForPoint[1],s)])),w.push(i[s]),b.push(tst(d,f,n,s)),a.push(tt)):g=!1}g&&(rt.push(c),l.push(l.length))}l.sort(function(n,t){return a[n]-a[t]});for(var ut=[],ft=[],et=[],ot=[],st=[],h=0;h<l.length;h++)s=l[h],ut[h]=y[s],ft[h]=p[s],et[h]=w[s],ot[h]=b[s],st[h]=rt[s];return{current:ut,next:ft,stackedOnCurrent:et,stackedOnNext:ot,status:st}},lwi=ce,awi=le,vwi=iy,git=wi,byt=[],au=[],vu=[],cru=g.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:cvt(g.prototype.brush),buildPath:function(n,t){var u=t.points,r=0,i=u.length,f=rst(u,t.smoothConstraint);if(t.connectNulls){for(;i>0&&de(u[i-1]);i--);for(;r<i&&de(u[r]);r++);}for(;r<i;)r+=ist(n,u,r,i,i,1,f.min,f.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),ywi=g.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:cvt(g.prototype.brush),buildPath:function(n,t){var u=t.points,e=t.stackedOnPoints,r=0,i=u.length,o=t.smoothMonotone,s=rst(u,t.smoothConstraint),h=rst(e,t.smoothConstraint),f;if(t.connectNulls){for(;i>0&&de(u[i-1]);i--);for(;r<i&&de(u[r]);r++);}for(;r<i;)f=ist(n,u,r,i,i,1,s.min,s.max,t.smooth,o,t.connectNulls),ist(n,e,r+f-1,f,i,-1,h.min,h.max,t.stackedOnSmooth,o,t.connectNulls),r+=f+1,n.closePath()}});vi.extend({type:"line",init:function(){var t=new f,n=new ta;this.group.add(n.group);this._symbolDraw=n;this._lineGroup=t},render:function(n,t,i){var r=n.coordinateSystem,it=this.group,u=n.getData(),ft=n.getModel("lineStyle"),p=n.getModel("areaStyle"),f=u.mapArray(u.getItemLayout),rt="polar"===r.type,et=this._coordSys,w=this._symbolDraw,c=this._polyline,e=this._polygon,l=this._lineGroup,a=n.get("animation"),b=!p.isEmpty(),k=p.get("origin"),s=ssr(r,u,nst(r,u,k)),v=n.get("showSymbol"),ut=v&&!rt&&asr(n,u,r),d=this._data,h,g,y,nt,tt;d&&d.eachItemGraphicEl(function(n,t){n.__temp&&(it.remove(n),d.setItemGraphicEl(t,null))});v||w.remove();it.add(l);h=!rt&&n.get("step");c&&et.type===r.type&&h===this._step?(b&&!e?e=this._newPolygon(f,s,r,a):e&&!b&&(l.remove(e),e=this._polygon=null),l.setClipPath(hd(r,!1,!1,n)),v&&w.updateData(u,{isIgnore:ut,clipShape:hd(r,!1,!0,n)}),u.eachItemGraphicEl(function(n){n.stopAnimation(!0)}),aui(this._stackedOnPoints,s)&&aui(this._points,f)||(a?this._updateAnimation(u,s,r,i,h,k):(h&&(f=ts(f,r,h),s=ts(s,r,h)),c.setShape({points:f}),e&&e.setShape({points:f,stackedOnPoints:s})))):(v&&w.updateData(u,{isIgnore:ut,clipShape:hd(r,!1,!0,n)}),h&&(f=ts(f,r,h),s=ts(s,r,h)),c=this._newPolyline(f,r,a),b&&(e=this._newPolygon(f,s,r,a)),l.setClipPath(hd(r,!0,!1,n)));g=lsr(u,r)||u.getVisual("color");c.useStyle(o(ft.getLineStyle(),{fill:"none",stroke:g,lineJoin:"bevel"}));y=n.get("smooth");(y=vui(n.get("smooth")),c.setShape({smooth:y,smoothMonotone:n.get("smoothMonotone"),connectNulls:n.get("connectNulls")}),e)&&(nt=u.getCalculationInfo("stackedOnSeries"),tt=0,e.useStyle(o(p.getAreaStyle(),{fill:g,opacity:.7,lineJoin:"bevel"})),nt&&(tt=vui(nt.get("smooth"))),e.setShape({smooth:y,stackedOnSmooth:tt,smoothMonotone:n.get("smoothMonotone"),connectNulls:n.get("connectNulls")}));this._data=u;this._coordSys=r;this._stackedOnPoints=s;this._points=f;this._step=h;this._valueOrigin=k},dispose:function(){},highlight:function(n,t,i,r){var e=n.getData(),f=hk(e,r),u,o;if(!(f instanceof Array)&&null!=f&&f>=0){if(u=e.getItemGraphicEl(f),!u){if(o=e.getItemLayout(f),!o)return;(u=new ns(e,f)).position=o;u.setZ(n.get("zlevel"),n.get("z"));u.ignore=isNaN(o[0])||isNaN(o[1]);u.__temp=!0;e.setItemGraphicEl(f,u);u.stopSymbolAnimation(!0);this.group.add(u)}u.highlight()}else vi.prototype.highlight.call(this,n,t,i,r)},downplay:function(n,t,i,r){var e=n.getData(),f=hk(e,r),u;null!=f&&f>=0?(u=e.getItemGraphicEl(f),u&&(u.__temp?(e.setItemGraphicEl(f,null),this.group.remove(u)):u.downplay())):vi.prototype.downplay.call(this,n,t,i,r)},_newPolyline:function(n){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new cru({shape:{points:n},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(n,t){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new ywi({shape:{points:n,stackedOnPoints:t},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_updateAnimation:function(n,t,i,r,u,f){var o=this._polyline,c=this._polygon,w=n.hostModel,e=hru(this._data,n,this._stackedOnPoints,t,this._coordSys,i,this._valueOrigin,f),l=e.current,b=e.stackedOnCurrent,a=e.next,k=e.stackedOnNext,y;u&&(l=ts(e.current,i,u),b=ts(e.stackedOnCurrent,i,u),a=ts(e.next,i,u),k=ts(e.stackedOnNext,i,u));o.shape.__points=e.current;o.shape.points=l;p(o,{shape:{points:a}},w);c&&(c.setShape({points:l,stackedOnPoints:b}),p(c,{shape:{points:a,stackedOnPoints:k}},w));for(var h=[],v=e.status,s=0;s<v.length;s++)"="===v[s].cmd&&(y=n.getItemGraphicEl(v[s].idx1),y&&h.push({el:y,ptIdx:s}));o.animators&&o.animators.length&&o.animators[0].during(function(){for(var n=0;n<h.length;n++)h[n].el.attr("position",o.shape.__points[h[n].ptIdx])})},remove:function(){var t=this.group,n=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);n&&n.eachItemGraphicEl(function(i,r){i.__temp&&(t.remove(i),n.setItemGraphicEl(r,null))});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var pc=function(n,t,i){return{seriesType:n,performRawSeries:!0,reset:function(n,r){var f=n.getData(),e=n.get("symbol")||t,u=n.get("symbolSize"),s=n.get("symbolKeepAspect"),o;if(f.setVisual({legendSymbol:i||e,symbol:e,symbolSize:u,symbolKeepAspect:s}),!r.isSeriesFiltered(n))return o="function"==typeof u,{dataEach:f.hasItemOption||o?function(t,i){var f,e;if("function"==typeof u&&(f=n.getRawValue(i),e=n.getDataParams(i),t.setItemVisual(i,"symbolSize",u(f,e))),t.hasItemOption){var r=t.getItemModel(i),o=r.getShallow("symbol",!0),s=r.getShallow("symbolSize",!0),h=r.getShallow("symbolKeepAspect",!0);null!=o&&t.setItemVisual(i,"symbol",o);null!=s&&t.setItemVisual(i,"symbolSize",s);null!=h&&t.setItemVisual(i,"symbolKeepAspect",h)}}:null}}}},yw=function(n){return{seriesType:n,plan:uv(),reset:function(n){var i=n.getData(),u=n.coordinateSystem,f=n.pipelineContext.large;if(u){var t=r(u.dimensions,function(n){return i.mapDimension(n)}).slice(0,2),e=t.length,o=i.getCalculationInfo("stackResultDimension");return be(i,t[0])&&(t[0]=o),be(i,t[1])&&(t[1]=o),e&&{progress:function(n,i){for(var r,s,v,y=n.end-n.start,h=f&&new Float32Array(y*e),o=n.start,l=0,c=[],a=[];o<n.end;o++)1===e?(s=i.get(t[0],o),r=!isNaN(s)&&u.dataToPoint(s,null,a)):(s=c[0]=i.get(t[0],o),v=c[1]=i.get(t[1],o),r=!isNaN(s)&&!isNaN(v)&&u.dataToPoint(c,null,a)),f?(h[l++]=r?r[0]:NaN,h[l++]=r?r[1]:NaN):i.setItemLayout(o,r&&r.slice()||[NaN,NaN]);f&&i.setLayout("symbolPoints",h)}}}}}},lru={average:function(n){for(var r=0,i=0,t=0;t<n.length;t++)isNaN(n[t])||(r+=n[t],i++);return 0===i?NaN:r/i},sum:function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t]||0;return i},max:function(n){for(var t=-1/0,i=0;i<n.length;i++)n[i]>t&&(t=n[i]);return isFinite(t)?t:NaN},min:function(n){for(var t=1/0,i=0;i<n.length;i++)n[i]<t&&(t=n[i]);return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},aru=function(n){return Math.round(n.length/2)},nrt=function(n){this._axes={};this._dimList=[];this.name=n||""};nrt.prototype={constructor:nrt,type:"cartesian",getAxis:function(n){return this._axes[n]},getAxes:function(){return r(this._dimList,ysr,this)},getAxesByScale:function(n){return n=n.toLowerCase(),ui(this.getAxes(),function(t){return t.scale.type===n})},addAxis:function(n){var t=n.dim;this._axes[t]=n;this._dimList.push(t)},dataToCoord:function(n){return this._dataCoordConvert(n,"dataToCoord")},coordToData:function(n){return this._dataCoordConvert(n,"coordToData")},_dataCoordConvert:function(n,t){for(var i,e,u=this._dimList,f=n instanceof Array?[]:{},r=0;r<u.length;r++)i=u[r],e=this._axes[i],f[i]=e[t](n[i]);return f}};ep.prototype={constructor:ep,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(n){var t=this.getAxis("x"),i=this.getAxis("y");return t.contain(t.toLocalCoord(n[0]))&&i.contain(i.toLocalCoord(n[1]))},containData:function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},dataToPoint:function(n,t,i){var r=this.getAxis("x"),u=this.getAxis("y");return i=i||[],i[0]=r.toGlobalCoord(r.dataToCoord(n[0])),i[1]=u.toGlobalCoord(u.dataToCoord(n[1])),i},clampData:function(n,t){var u=this.getAxis("x").scale,f=this.getAxis("y").scale,i=u.getExtent(),r=f.getExtent(),e=u.parse(n[0]),o=f.parse(n[1]);return t=t||[],t[0]=Math.min(Math.max(Math.min(i[0],i[1]),e),Math.max(i[0],i[1])),t[1]=Math.min(Math.max(Math.min(r[0],r[1]),o),Math.max(r[0],r[1])),t},pointToData:function(n,t){var i=this.getAxis("x"),r=this.getAxis("y");return t=t||[],t[0]=i.coordToData(i.toLocalCoord(n[0])),t[1]=r.coordToData(r.toLocalCoord(n[1])),t},getOtherAxis:function(n){return this.getAxis("x"===n.dim?"y":"x")}};ot(ep,nrt);pw=function(n,t,i,r,u){ri.call(this,n,t,i);this.type=r||"value";this.position=u||"bottom"};pw.prototype={constructor:pw,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var n=this.position;return"top"===n||"bottom"===n},getGlobalExtent:function(n){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),n&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(n,t){return this.coordToData(this.toLocalCoord(n["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null};ot(pw,ri);kyt={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};uo={};uo.categoryAxis=v({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},kyt);uo.valueAxis=v({boundaryGap:[0,0],splitNumber:5},kyt);uo.timeAxis=o({scale:!0,min:"dataMin",max:"dataMax"},uo.valueAxis);uo.logAxis=o({scale:!0,logBase:10},uo.valueAxis);var vru=["value","category","time","log"],ov=function(n,i,r,u){t(vru,function(t){i.extend({type:n+"Axis."+t,mergeDefaultAndTheme:function(i,u){var f=this.layoutMode,e=f?kl(i):{};v(i,u.getTheme().get(t+"Axis"));v(i,this.getDefaultOption());i.type=r(n,i);f&&ko(i,e,f)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=up.createByAxisModel(this))},getCategories:function(n){var t=this.option;if("category"===t.type)return n?t.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:gv([{},uo[t+"Axis"],u],!0)})});nt.registerSubTypeDefaulter(n+"Axis",l(r,n))},sv=nt.extend({type:"cartesian2dAxis",axis:null,init:function(){sv.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){sv.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){sv.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});v(sv.prototype,vc);dyt={offset:0};ov("x",sv,pui,dyt);ov("y",sv,pui,dyt);nt.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});di=ia.prototype;di.type="grid";di.axisPointerEnabled=!0;di.getRect=function(){return this._rect};di.update=function(n,i){var r=this._axesMap;this._updateScale(n,this.model);t(r.x,function(n){go(n.scale,n.model)});t(r.y,function(n){go(n.scale,n.model)});t(r.x,function(n){wui(r,"y",n)});t(r.y,function(n){wui(r,"x",n)});this.resize(this.model,i)};di.resize=function(n,i,r){function e(){t(f,function(n){var t=n.isHorizontal(),i=t?[0,u.width]:[0,u.height],r=n.inverse?1:0;n.setExtent(i[r],i[1-r]);psr(n,t?u.x:u.y)})}var u=fi(n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),f;this._rect=u;f=this._axesList;e();!r&&n.get("containLabel")&&(t(f,function(n){var t,r,i;n.model.get("axisLabel.inside")||(t=lor(n),t&&(r=n.isHorizontal()?"height":"width",i=n.model.get("axisLabel.margin"),u[r]-=t[r]+i,"top"===n.position?u.y+=t.height+i:"left"===n.position&&(u.x+=t.width+i)))}),e())};di.getAxis=function(n,t){var i=this._axesMap[n],r;if(null!=i){if(null==t)for(r in i)if(i.hasOwnProperty(r))return i[r];return i[t]}};di.getAxes=function(){return this._axesList.slice()};di.getCartesian=function(n,t){var u,i,r;if(null!=n&&null!=t)return u="x"+n+"y"+t,this._coordsMap[u];for(a(n)&&(t=n.yAxisIndex,n=n.xAxisIndex),i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===n||r[i].getAxis("y").index===t)return r[i]};di.getCartesians=function(){return this._coordsList.slice()};di.convertToPixel=function(n,t,i){var r=this._findConvertTarget(n,t);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null};di.convertFromPixel=function(n,t,i){var r=this._findConvertTarget(n,t);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null};di._findConvertTarget=function(n,t){var r,e,i=t.seriesModel,u=t.xAxisModel||i&&i.getReferringComponents("xAxis")[0],f=t.yAxisModel||i&&i.getReferringComponents("yAxis")[0],o=t.gridModel,s=this._coordsList;return i?b(s,r=i.coordinateSystem)<0&&(r=null):u&&f?r=this.getCartesian(u.componentIndex,f.componentIndex):u?e=this.getAxis("x",u.componentIndex):f?e=this.getAxis("y",f.componentIndex):o&&o.coordinateSystem===this&&(r=this._coordsList[0]),{cartesian:r,axis:e}};di.containPoint=function(n){var t=this._coordsList[0];if(t)return t.containPoint(n)};di._initCartesian=function(n,i){function e(t){return function(e,o){var s,h,c;ust(e,n,i)&&(s=e.get("position"),"x"===t?"top"!==s&&"bottom"!==s&&u[s="bottom"]&&(s="top"===s?"bottom":"top"):"left"!==s&&"right"!==s&&u[s="left"]&&(s="left"===s?"right":"left"),u[s]=!0,h=new pw(t,na(e),[0,0],e.get("type"),s),c="category"===h.type,h.onBand=c&&e.get("boundaryGap"),h.inverse=e.get("inverse"),e.axis=h,h.model=e,h.grid=this,h.index=o,this._axesList.push(h),r[t][o]=h,f[t]++)}}var u={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},f={x:0,y:0};if(i.eachComponent("xAxis",e("x"),this),i.eachComponent("yAxis",e("y"),this),!f.x||!f.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=r;t(r.x,function(i,u){t(r.y,function(t,r){var e="x"+u+"y"+r,f=new ep(e);f.grid=this;f.model=n;this._coordsMap[e]=f;this._coordsList.push(f);f.addAxis(i);f.addAxis(t)},this)},this)};di._updateScale=function(n,i){function r(n,i){t(n.mapDimension(i.dim,!0),function(t){i.scale.unionExtentFromData(n,fd(n,t))})}t(this._axesList,function(n){n.scale.setExtent(1/0,-1/0)});n.eachSeries(function(t){if(dui(t)){var f=kui(t),e=f[0],o=f[1];if(!ust(e,i,n)||!ust(o,i,n))return;var s=this.getCartesian(e.componentIndex,o.componentIndex),u=t.getData(),h=s.getAxis("x"),c=s.getAxis("y");"list"===u.type&&(r(u,h),r(u,c))}},this)};di.getTooltipAxes=function(n){var i=[],r=[];return t(this.getCartesians(),function(t){var u=null!=n&&"auto"!==n?t.getAxis(n):t.getBaseAxis(),f=t.getOtherAxis(u);b(i,u)<0&&i.push(u);b(r,f)<0&&r.push(f)}),{baseAxes:i,otherAxes:r}};pwi=["xAxis","yAxis"];ia.create=function(n,t){var i=[];return n.eachComponent("grid",function(r,u){var f=new ia(r,n,t);f.name="grid_"+u;f.resize(r,t,!0);r.coordinateSystem=f;i.push(f)}),n.eachSeries(function(n){if(dui(n)){var t=kui(n),i=t[0],r=t[1],u=i.getCoordSysModel().coordinateSystem;n.coordinateSystem=u.getCartesian(i.componentIndex,r.componentIndex)}}),i};ia.dimensions=ia.prototype.dimensions=ep.prototype.dimensions;ir.register("cartesian2d",ia);fo=Math.PI;uf=function(n,t){this.opt=t;this.axisModel=n;o(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new f;var i=new f({position:t.position.slice(),rotation:t.rotation});i.updateTransform();this._transform=i.transform;this._dumbGroup=i};uf.prototype={constructor:uf,hasBuilder:function(n){return!!wwi[n]},add:function(n){wwi[n].call(this)},getGroup:function(){return this.group}};var wwi={axisLine:function(){var o=this.opt,s=this.axisModel,c,l,a;if(s.get("axisLine.show")){var v=this.axisModel.axis.getExtent(),h=this._transform,n=[v[0],0],i=[v[1],0];h&&(ct(n,n,h),ct(i,i,h));c=e({lineCap:"round"},s.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new hu(eh({anid:"line",shape:{x1:n[0],y1:n[1],x2:i[0],y2:i[1]},style:c,strokeContainThreshold:o.strokeContainThreshold||5,silent:!0,z2:1})));var r=s.get("axisLine.symbol"),u=s.get("axisLine.symbolSize"),f=s.get("axisLine.symbolOffset")||0;("number"==typeof f&&(f=[f,f]),null!=r)&&("string"==typeof r&&(r=[r,r]),"string"!=typeof u&&"number"!=typeof u||(u=[u,u]),l=u[0],a=u[1],t([{rotate:o.rotation+Math.PI/2,offset:f[0],r:0},{rotate:o.rotation-Math.PI/2,offset:f[1],r:Math.sqrt((n[0]-i[0])*(n[0]-i[0])+(n[1]-i[1])*(n[1]-i[1]))}],function(t,i){if("none"!==r[i]&&null!=r[i]){var u=br(r[i],-l/2,-a/2,l,a,c.stroke,!0),f=t.r+t.offset,e=[n[0]+f*Math.cos(o.rotation),n[1]-f*Math.sin(o.rotation)];u.attr({rotation:t.rotate,position:e,silent:!0});this.group.add(u)}},this))}},axisTickLabel:function(){var n=this.axisModel,t=this.opt,i=ksr(this,n,t);bsr(n,dsr(this,n,t),i)},axisName:function(){var i=this.opt,n=this.axisModel,r=li(i.axisName,n.get("name")),s,t;if(r){var f,h=n.get("nameLocation"),y=i.nameDirection,c=n.getModel("nameTextStyle"),l=n.get("nameGap")||0,u=this.axisModel.axis.getExtent(),p=u[0]>u[1]?-1:1,it=["start"===h?u[0]-p*l:"end"===h?u[1]+p*l:(u[0]+u[1])/2,ifi(h)?i.labelOffset+y*l:0],o=n.get("nameRotate");null!=o&&(o=o*fo/180);ifi(h)?f=bwi(i.rotation,null!=o?o:i.rotation,y):(f=wsr(i,h,o||0,u),null!=(s=i.axisNameAvailableWidth)&&(s=Math.abs(s/Math.sin(f.rotation)),!isFinite(s)&&(s=null)));var w=c.getFont(),a=n.get("nameTruncate",!0)||{},b=a.ellipsis,k=li(i.nameTruncateMaxWidth,a.maxWidth,s),g=null!=b&&null!=k?gyi(r,k,w,b,{minChar:2,placeholder:a.placeholder}):r,v=n.get("tooltip",!0),nt=n.mainType,tt={componentType:nt,name:r,$vars:["name"]};tt[nt+"Index"]=n.componentIndex;t=new d({anid:"name",__fullText:r,__truncatedText:g,position:it,rotation:f.rotation,silent:nfi(n),z2:1,tooltip:v&&v.show?e({content:r,formatter:function(){return r},formatterParams:tt},v):null});kt(t.style,c,{text:g,textFont:w,textFill:c.getTextColor()||n.get("axisLine.lineStyle.color"),textAlign:f.textAlign,textVerticalAlign:f.textVerticalAlign});n.get("triggerEvent")&&(t.eventData=gui(n),t.eventData.targetType="axisName",t.eventData.name=r);this._dumbGroup.add(t);t.updateTransform();this.group.add(t);t.decomposeTransform()}}},bwi=uf.innerTextLayout=function(n,t,i){var u,f,r=aet(t-n);return yy(r)?(f=i>0?"top":"bottom",u="center"):yy(r-fo)?(f=i>0?"bottom":"top",u="center"):(f="middle",u=r>0&&r<fo?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:u,textVerticalAlign:f}},hv=t,gyt=l,gr=si({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(n,t,i){this.axisPointerClass&&uhr(n);gr.superApply(this,"render",arguments);rfi(this,n,0,i,0,!0)},updateAxisPointer:function(n,t,i){rfi(this,n,0,i,0,!1)},remove:function(n,t){var i=this._axisPointer;i&&i.remove(t);gr.superApply(this,"remove",arguments)},dispose:function(n,t){ufi(this,t);gr.superApply(this,"dispose",arguments)}}),kwi=[];gr.registerAxisPointerClass=function(n,t){kwi[n]=t};gr.getAxisPointerClass=function(n){return n&&kwi[n]};var yru=["axisLine","axisTickLabel","axisName"],pru=["splitArea","splitLine"],npt=gr.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(n,i,r,u){var o;if(this.group.removeAll(),o=this._axisGroup,this._axisGroup=new f,this.group.add(this._axisGroup),n.get("show")){var s=n.getCoordSysModel(),h=sst(s,n),e=new uf(n,h);t(yru,e.add,e);this._axisGroup.add(e.getGroup());t(pru,function(t){n.get(t+".show")&&this["_"+t](n,s)},this);set(o,this._axisGroup,n);npt.superCall(this,"render",n,i,r,u)}},remove:function(){this._splitAreaColors=null},_splitLine:function(n,t){var c=n.axis,h,y,p;if(!c.scale.isBlank()){var a=n.getModel("splitLine"),v=a.getModel("lineStyle"),r=v.get("color");r=i(r)?r:[r];for(var u=t.coordinateSystem.getRect(),w=c.isHorizontal(),b=0,l=c.getTicksCoords({tickModel:a}),f=[],e=[],k=v.getLineStyle(),s=0;s<l.length;s++)h=c.toGlobalCoord(l[s].coord),w?(f[0]=h,f[1]=u.y,e[0]=h,e[1]=u.y+u.height):(f[0]=u.x,f[1]=h,e[0]=u.x+u.width,e[1]=h),y=b++%r.length,p=l[s].tickValue,this._axisGroup.add(new hu(eh({anid:null!=p?"line_"+l[s].tickValue:null,shape:{x1:f[0],y1:f[1],x2:e[0],y2:e[1]},style:o({stroke:r[y]},k),silent:!0})))}},_splitArea:function(n,t){var e=n.axis,b,h,rt,r,c,l,p,k,d,a;if(!e.scale.isBlank()){var g=n.getModel("splitArea"),nt=g.getModel("areaStyle"),f=nt.get("color"),v=t.coordinateSystem.getRect(),u=e.getTicksCoords({tickModel:g,clamp:!0});if(u.length){var w=f.length,tt=this._splitAreaColors,it=y(),s=0;if(tt)for(r=0;r<u.length;r++)if(b=tt.get(u[r].tickValue),null!=b){s=(b+(w-1)*r)%w;break}for(h=e.toGlobalCoord(u[0].coord),rt=nt.getAreaStyle(),f=i(f)?f:[f],r=1;r<u.length;r++)d=e.toGlobalCoord(u[r].coord),e.isHorizontal()?(c=h,l=v.y,p=d-c,k=v.height,h=c+p):(c=v.x,l=h,p=v.width,h=l+(k=d-l)),a=u[r-1].tickValue,null!=a&&it.set(a,s),this._axisGroup.add(new st({anid:null!=a?"area_"+a:null,shape:{x:c,y:l,width:p,height:k},style:o({fill:f[s]},rt),silent:!0})),s=(s+1)%w;this._splitAreaColors=it}}}});npt.extend({type:"xAxis"});npt.extend({type:"yAxis"});si({type:"grid",render:function(n){this.group.removeAll();n.get("show")&&this.group.add(new st({shape:n.coordinateSystem.getRect(),style:o({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))}});ki(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})});vt(pc("line","circle","line"));bt(yw("line"));pr(ev.PROCESSOR.STATISTIC,function(n){return{seriesType:n,modifyOutputEnd:!0,reset:function(n){var r=n.getData(),t=n.get("sampling"),u=n.coordinateSystem,i;if("cartesian2d"===u.type&&t){var f=u.getBaseAxis(),s=u.getOtherAxis(f),e=f.getExtent(),h=e[1]-e[0],o=Math.round(r.count()/h);o>1&&("string"==typeof t?i=lru[t]:"function"==typeof t&&(i=t),i&&n.setData(r.downSample(r.mapDimension(s.dim),1/o,i,aru)))}}}}("line"));tpt=gt.extend({type:"series.__base_bar__",getInitialData:function(){return ke(this.getSource(),this)},getMarkerPosition:function(n){var t=this.coordinateSystem;if(t){var i=t.dataToPoint(t.clampData(n)),r=this.getData(),u=r.getLayout("offset"),f=r.getLayout("size");return i[t.getBaseAxis().isHorizontal()?0:1]+=u+f/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});tpt.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var n=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>n&&(n=t),n}});var wru=ba([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),bru={getBarItemStyle:function(n){var i=wru(this,n),t;return this.getBorderLineDash&&(t=this.getBorderLineDash(),t&&(i.lineDash=t)),i}},kru=["itemStyle","barBorderWidth"];e(tt.prototype,bru);fr({type:"bar",render:function(n,t,i){this._updateDrawMode(n);var r=n.get("coordinateSystem");return"cartesian2d"!==r&&"polar"!==r||(this._isLargeDraw?this._renderLarge(n,t,i):this._renderNormal(n,t,i)),this.group},incrementalPrepareRender:function(n){this._clear();this._updateDrawMode(n)},incrementalRender:function(n,t){this._incrementalRenderLarge(n,t)},_updateDrawMode:function(n){var t=n.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(n){var r,f=this.group,t=n.getData(),e=this._data,i=n.coordinateSystem,o=i.getBaseAxis(),u;"cartesian2d"===i.type?r=o.isHorizontal():"polar"===i.type&&(r="angle"===o.dim);u=n.isAnimationEnabled()?n:null;t.diff(e).add(function(e){if(t.hasValue(e)){var o=t.getItemModel(e),h=gwi[i.type](t,e,o),s=dwi[i.type](t,e,o,h,r,u);t.setItemGraphicEl(e,s);f.add(s);hfi(s,t,e,o,h,n,r,"polar"===i.type)}}).update(function(o,s){var h=e.getItemGraphicEl(s),c,l;t.hasValue(o)?(c=t.getItemModel(o),l=gwi[i.type](t,o,c),h?p(h,{shape:l},u,o):h=dwi[i.type](t,o,c,l,r,u,!0),t.setItemGraphicEl(o,h),f.add(h),hfi(h,t,o,c,l,n,r,"polar"===i.type)):f.remove(h)}).remove(function(n){var t=e.getItemGraphicEl(n);"cartesian2d"===i.type?t&&ofi(n,u,t):t&&sfi(n,u,t)}).execute();this._data=t},_renderLarge:function(n){this._clear();cfi(n,this.group)},_incrementalRenderLarge:function(n,t){cfi(t,this.group,!0)},dispose:pi,remove:function(n){this._clear(n)},_clear:function(n){var i=this.group,t=this._data;n&&n.get("animation")&&t&&!this._isLargeDraw?t.eachItemGraphicEl(function(t){"sector"===t.type?sfi(t.dataIndex,n,t):ofi(t.dataIndex,n,t)}):i.removeAll();this._data=null}});var dwi={cartesian2d:function(n,t,i,r,u,f,o){var s=new st({shape:e({},r)});if(f){var l=s.shape,h=u?"height":"width",c={};l[h]=0;c[h]=r[h];nf[o?"updateProps":"initProps"](s,{shape:c},f,t)}return s},polar:function(n,t,i,r,u,f,e){var l=r.startAngle<r.endAngle,s=new to({shape:o({clockwise:l},r)});if(f){var a=s.shape,h=u?"r":"endAngle",c={};a[h]=u?0:r.startAngle;c[h]=r[h];nf[e?"updateProps":"initProps"](s,{shape:c},f,t)}return s}},gwi={cartesian2d:function(n,t,i){var r=n.getItemLayout(t),u=ehr(i,r),f=r.width>0?1:-1,e=r.height>0?1:-1;return{x:r.x+f*u/2,y:r.y+e*u/2,width:r.width-f*u,height:r.height-e*u}},polar:function(n,t){var i=n.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}},dru=g.extend({type:"largeBar",shape:{points:[]},buildPath:function(n,t){for(var r=t.points,u=this.__startPoint,f=this.__valueIdx,i=0;i<r.length;i+=2)u[this.__valueIdx]=r[i+f],n.moveTo(u[0],u[1]),n.lineTo(r[i],r[i+1])}});bt(l(wri,"bar"));bt(ciu);vt({seriesType:"bar",reset:function(n){n.getData().setVisual("legendSymbol","roundRect")}});var cv=function(n,t,r){t=i(t)&&{coordDimensions:t}||e({},t);var u=n.getSource(),o=ac(u,t),f=new hi(o,n);return f.initData(u,r),f},ipt={updateSelectedMap:function(n){this._targetList=i(n)?n.slice():[];this._selectTargetMap=cl(n||[],function(n,t){return n.set(t.name,t),n},y())},select:function(n,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(n);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(n){n.selected=!1});i&&(i.selected=!0)},unSelect:function(n,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(n);i&&(i.selected=!1)},toggleSelected:function(n,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(n);if(null!=i)return this[i.selected?"unSelect":"select"](n,t),i.selected},isSelected:function(n,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(n);return i&&i.selected}},trt=tp({type:"series.pie",init:function(n){trt.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this.updateSelectedMap(this._createSelectableList());this._defaultLabelLine(n)},mergeOption:function(n){trt.superCall(this,"mergeOption",n);this.updateSelectedMap(this._createSelectableList())},getInitialData:function(){return cv(this,["value"])},_createSelectableList:function(){for(var n=this.getRawData(),r=n.mapDimension("value"),i=[],t=0,u=n.count();t<u;t++)i.push({name:n.getName(t),value:n.get(r,t),selected:rii(n,t,"selected")});return i},getDataParams:function(n){var t=this.getData(),i=trt.superCall(this,"getDataParams",n),r=[];return t.each(t.mapDimension("value"),function(n){r.push(n)}),i.percent=uti(r,n,t.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(n){fh(n,"labelLine",["show"]);var t=n.labelLine,i=n.emphasis.labelLine;t.show=t.show&&n.label.show;i.show=i.show&&n.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});ft(trt,ipt);rpt=hst.prototype;rpt.updateData=function(n,t,i){function l(){r.stopAnimation(!0);r.animateTo({shape:{r:f.r+u.get("hoverOffset")}},300,"elasticOut")}function a(){r.stopAnimation(!0);r.animateTo({shape:{r:f.r}},300,"elasticOut")}var r=this.childAt(0),u=n.hostModel,s=n.getItemModel(t),f=n.getItemLayout(t),h=e({},f),v,c;h.label=null;i?(r.setShape(h),"scale"===u.getShallow("animationType")?(r.shape.r=f.r0,tr(r,{shape:{r:f.r}},u,t)):(r.shape.endAngle=f.startAngle,p(r,{shape:{endAngle:f.endAngle}},u,t))):p(r,{shape:h},u,t);v=n.getItemVisual(t,"color");r.useStyle(o({lineJoin:"bevel",fill:v},s.getModel("itemStyle").getItemStyle()));r.hoverStyle=s.getModel("emphasis.itemStyle").getItemStyle();c=s.getShallow("cursor");c&&r.attr("cursor",c);lfi(this,n.getItemLayout(t),u.isSelected(null,t),u.get("selectedOffset"),u.get("animation"));r.off("mouseover").off("mouseout").off("emphasis").off("normal");s.get("hoverAnimation")&&u.isAnimationEnabled()&&r.on("mouseover",l).on("mouseout",a).on("emphasis",l).on("normal",a);this._updateLabel(n,t);at(this)};rpt._updateLabel=function(n,t){var r=this.childAt(1),u=this.childAt(2),s=n.hostModel,e=n.getItemModel(t),i=n.getItemLayout(t).label,h=n.getItemVisual(t,"color"),f;p(r,{shape:{points:i.linePoints||[[i.x,i.y],[i.x,i.y],[i.x,i.y]]}},s,t);p(u,{style:{x:i.x,y:i.y}},s,t);u.attr({rotation:i.rotation,origin:[i.x,i.y],z2:10});var c=e.getModel("label"),l=e.getModel("emphasis.label"),o=e.getModel("labelLine"),a=e.getModel("emphasis.labelLine"),h=n.getItemVisual(t,"color");uu(u.style,u.hoverStyle={},c,l,{labelFetcher:n.hostModel,labelDataIndex:t,defaultText:n.getName(t),autoColor:h,useInsideStyle:!!i.inside},{textAlign:i.textAlign,textVerticalAlign:i.verticalAlign,opacity:n.getItemVisual(t,"opacity")});u.ignore=u.normalIgnore=!c.get("show");u.hoverIgnore=!l.get("show");r.ignore=r.normalIgnore=!o.get("show");r.hoverIgnore=!a.get("show");r.setStyle({stroke:h,opacity:n.getItemVisual(t,"opacity")});r.setStyle(o.getModel("lineStyle").getLineStyle());r.hoverStyle=a.getModel("lineStyle").getLineStyle();f=o.get("smooth");f&&!0===f&&(f=.4);r.setShape({smooth:f})};ot(hst,f);vi.extend({type:"pie",init:function(){var n=new f;this._sectorGroup=n},render:function(n,t,i,r){if(!r||r.from!==this.uid){var u=n.getData(),e=this._data,f=this.group,s=t.get("animation"),h=!e,a=n.get("animationType"),v=l(shr,this.uid,n,s,i),y=n.get("selectedMode");if(u.diff(e).add(function(n){var t=new hst(u,n);h&&"scale"!==a&&t.eachChild(function(n){n.stopAnimation(!0)});y&&t.on("click",v);u.setItemGraphicEl(n,t);f.add(t)}).update(function(n,t){var i=e.getItemGraphicEl(t);i.updateData(u,n);i.off("click");y&&i.on("click",v);f.add(i);u.setItemGraphicEl(n,i)}).remove(function(n){var t=e.getItemGraphicEl(n);f.remove(t)}).execute(),s&&h&&u.count()>0&&"scale"!==a){var o=u.getItemLayout(0),p=Math.max(i.getWidth(),i.getHeight())/2,w=c(f.removeClipPath,f);f.setClipPath(this._createClipPath(o.cx,o.cy,p,o.startAngle,o.clockwise,w,n))}this._data=u}},dispose:function(){},_createClipPath:function(n,t,i,r,u,f,e){var o=new to({shape:{cx:n,cy:t,r0:0,r:i,startAngle:r,endAngle:r,clockwise:u}});return tr(o,{shape:{endAngle:r+(u?1:-1)*Math.PI*2}},e,f),o},containPoint:function(n,t){var i=t.getData().getItemLayout(0);if(i){var r=n[0]-i.cx,u=n[1]-i.cy,f=Math.sqrt(r*r+u*u);return f<=i.r&&f>=i.r0}}});var nbi=function(n,i){t(i,function(t){t.update="updateView";it(t,function(i,r){var u={};return r.eachComponent({mainType:"series",subType:n,query:i},function(n){n[t.method]&&n[t.method](i.name,i.dataIndex);var r=n.getData();r.each(function(t){var i=r.getName(t);u[i]=n.isSelected(i)||!1})}),{name:i.name,selected:u}})})},irt=function(n){return{getTargetSeries:function(t){var r={},i=y();return t.eachSeriesByType(n,function(n){n.__paletteScope=r;i.set(n.uid,n)}),i},reset:function(n){var t=n.getRawData(),r={},i=n.getData();i.each(function(n){var t=i.getRawIndex(n);r[t]=n});t.each(function(u){var f=r[u],o=null!=f&&i.getItemVisual(f,"color",!0),e;o?t.setItemVisual(u,"color",o):(e=t.getItemModel(u).get("itemStyle.color")||n.getColorFromPalette(t.getName(u)||u+"",n.__paletteScope,t.count()),t.setItemVisual(u,"color",e),null!=f&&i.setItemVisual(f,"color",e))})}}},gru=function(n,t,i,r){var f,e,u=n.getData(),o=[],s=!1;u.each(function(i){var l,a,tt,v,r=u.getItemLayout(i),d=u.getItemModel(i),g=d.getModel("label"),y=g.get("position")||d.get("emphasis.label.position"),it=d.getModel("labelLine"),nt=it.get("length"),rt=it.get("length2"),p=(r.startAngle+r.endAngle)/2,h=Math.cos(p),w=Math.sin(p),c,b,k;if(f=r.cx,e=r.cy,c="inside"===y||"inner"===y,"center"===y)l=r.cx,a=r.cy,v="center";else{if(b=(c?(r.r+r.r0)/2*h:r.r*h)+f,k=(c?(r.r+r.r0)/2*w:r.r*w)+e,l=b+3*h,a=k+3*w,!c){var ut=b+h*(nt+t-r.r),ft=k+w*(nt+t-r.r),et=ut+(h<0?-1:1)*rt,ot=ft;l=et+(h<0?-5:5);a=ot;tt=[[b,k],[ut,ft],[et,ot]]}v=c?"center":h>0?"left":"right"}var ht=g.getFont(),st=g.get("rotate")?h<0?-p+Math.PI:-p:0,ct=ve(n.getFormattedLabel(i,"normal")||u.getName(i),ht,v,"top");s=!!st;r.label={x:l,y:a,position:y,height:ct.height,len:nt,len2:rt,linePoints:tt,textAlign:v,verticalAlign:"middle",rotation:st,inside:c};c||o.push(r.label)});!s&&n.get("avoidLabelOverlap")&&hhr(o,f,e,t,i,r)},rrt=2*Math.PI,tbi=Math.PI/180,ww=function(n){return{seriesType:n,reset:function(n,t){var i=t.findComponents({mainType:"legend"}),r;i&&i.length&&(r=n.getData(),r.filterSelf(function(n){for(var u=r.getName(n),t=0;t<i.length;t++)if(!i[t].isSelected(u))return!1;return!0}))}}};nbi("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);vt(irt("pie"));bt(l(function(n,t,r){t.eachSeriesByType(n,function(n){var t=n.getData(),e=t.mapDimension("value"),o=n.get("center"),s=n.get("radius"),w;i(s)||(s=[0,s]);i(o)||(o=[o,o]);var b=r.getWidth(),k=r.getHeight(),tt=Math.min(b,k),it=u(o[0],b),rt=u(o[1],k),d=u(s[0],tt/2),a=u(s[1],tt/2),v=-n.get("startAngle")*tbi,h=n.get("minAngle")*tbi,c=0;t.each(e,function(n){isNaN(n)||c++});var ut=t.getSum(e),y=Math.PI/(ut||c)*2,g=n.get("clockwise"),nt=n.get("roseType"),ot=n.get("stillShowZeroSum"),ft=t.getDataExtent(e);ft[0]=0;var p=rrt,et=0,f=v,l=g?1:-1;(t.each(e,function(n,i){var r,u;isNaN(n)?t.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:g,cx:it,cy:rt,r0:d,r:nt?NaN:a}):((r="area"!==nt?0===ut&&ot?y:n*y:rrt/c)<h?(r=h,p-=h):et+=n,u=f+l*r,t.setItemLayout(i,{angle:r,startAngle:f,endAngle:u,clockwise:g,cx:it,cy:rt,r0:d,r:nt?dt(n,ft,[d,a]):a}),f=u)}),p<rrt&&c)&&(p<=.001?(w=rrt/c,t.each(e,function(n,i){if(!isNaN(n)){var r=t.getItemLayout(i);r.angle=w;r.startAngle=v+l*i*w;r.endAngle=v+l*(i+1)*w}})):(y=p/et,f=v,t.each(e,function(n,i){if(!isNaN(n)){var r=t.getItemLayout(i),u=r.angle===h?h:n*y;r.startAngle=f;r.endAngle=f+l*u;f+=l*u}})));gru(n,a,b,k)})},"pie"));pr(ww("pie"));gt.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(){return ke(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var n=this.option.progressive;return null==n?this.option.large?5e3:this.get("progressive"):n},getProgressiveThreshold:function(){var n=this.option.progressiveThreshold;return null==n?this.option.large?1e4:this.get("progressiveThreshold"):n},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8}}});urt=hf({shape:{points:null},symbolProxy:null,buildPath:function(n,t){var f=t.points,i=t.size,s=this.symbolProxy,r=s.shape,u,e,o;if(!((n.getContext?n.getContext():n)&&i[0]<4))for(u=0;u<f.length;)e=f[u++],o=f[u++],isNaN(e)||isNaN(o)||(r.x=e-i[0]/2,r.y=o-i[1]/2,r.width=i[0],r.height=i[1],s.buildPath(n,r,!0))},afterBrush:function(n){var e=this.shape,r=e.points,t=e.size,i,u,f;if(t[0]<4){for(this.setTransform(n),i=0;i<r.length;)u=r[i++],f=r[i++],isNaN(u)||isNaN(f)||n.fillRect(u-t[0]/2,f-t[1]/2,t[0],t[1]);this.restoreTransform(n)}},findDataIndex:function(n,t){for(var u=this.shape,r=u.points,f=u.size,e=Math.max(f[0],4),o=Math.max(f[1],4),i=r.length/2-1;i>=0;i--){var s=2*i,h=r[s]-e/2,c=r[s+1]-o/2;if(n>=h&&t>=c&&n<=h+e&&t<=c+o)return i}return-1}});eo=vfi.prototype;eo.isPersistent=function(){return!this._incremental};eo.updateData=function(n){this.group.removeAll();var t=new urt({rectHover:!0,cursor:"default"});t.setShape({points:n.getLayout("symbolPoints")});this._setCommon(t,n);this.group.add(t);this._incremental=null};eo.updateLayout=function(n){if(!this._incremental){var t=n.getLayout("symbolPoints");this.group.eachChild(function(n){if(null!=n.startIndex){var i=2*(n.endIndex-n.startIndex),r=8*n.startIndex;t=new Float32Array(t.buffer,r,i)}n.setShape("points",t)})}};eo.incrementalPrepareUpdate=function(n){this.group.removeAll();this._clearIncremental();n.count()>2e6?(this._incremental||(this._incremental=new yr({silent:!0})),this.group.add(this._incremental)):this._incremental=null};eo.incrementalUpdate=function(n,t){var i;this._incremental?(i=new urt,this._incremental.addDisplayable(i,!0)):((i=new urt({rectHover:!0,cursor:"default",startIndex:n.start,endIndex:n.end})).incremental=!0,this.group.add(i));i.setShape({points:t.getLayout("symbolPoints")});this._setCommon(i,t,!!this._incremental)};eo._setCommon=function(n,t,i){var f=t.hostModel,r=t.getVisual("symbolSize"),e,u;n.setShape("size",r instanceof Array?r:[r,r]);n.symbolProxy=br(t.getVisual("symbol"),0,0,0,0);n.setColor=n.symbolProxy.setColor;e=n.shape.size[0]<4;n.useStyle(f.getModel("itemStyle").getItemStyle(e?["color","shadowBlur","shadowColor"]:["color"]));u=t.getVisual("color");u&&n.setColor(u);i||(n.seriesIndex=f.seriesIndex,n.on("mousemove",function(t){n.dataIndex=null;var i=n.findDataIndex(t.offsetX,t.offsetY);i>=0&&(n.dataIndex=i+(n.startIndex||0))}))};eo.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};eo._clearIncremental=function(){var n=this._incremental;n&&n.clearDisplaybles()};fr({type:"scatter",render:function(n){var t=n.getData();this._updateSymbolDraw(t,n).updateData(t);this._finished=!0},incrementalPrepareRender:function(n){var t=n.getData();this._updateSymbolDraw(t,n).incrementalPrepareUpdate(t);this._finished=!1},incrementalRender:function(n,t){this._symbolDraw.incrementalUpdate(n,t.getData());this._finished=n.end===t.getData().count()},updateTransform:function(n){var t=n.getData(),i;if(this.group.dirty(),!this._finished||t.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};i=yw().reset(n);i.progress&&i.progress({start:0,end:t.count()},t);this._symbolDraw.updateLayout(t)},_updateSymbolDraw:function(n,t){var i=this._symbolDraw,r=t.pipelineContext.large;return i&&r===this._isLargeDraw||(i&&i.remove(),i=this._symbolDraw=r?new vfi:new ta,this._isLargeDraw=r,this.group.removeAll()),this.group.add(i.group),i},remove:function(){this._symbolDraw&&this._symbolDraw.remove(!0);this._symbolDraw=null},dispose:function(){}});vt(pc("scatter","circle"));bt(yw("scatter"));ot(yfi,ri);af.prototype.getIndicatorAxes=function(){return this._indicatorAxes};af.prototype.dataToPoint=function(n,t){var i=this._indicatorAxes[t];return this.coordToPoint(i.dataToCoord(n),t)};af.prototype.coordToPoint=function(n,t){var i=this._indicatorAxes[t].angle;return[this.cx+n*Math.cos(i),this.cy-n*Math.sin(i)]};af.prototype.pointToData=function(n){var t=n[0]-this.cx,i=n[1]-this.cy,u=Math.sqrt(t*t+i*i),e,o;t/=u;i/=u;for(var f,c=Math.atan2(-i,t),s=1/0,h=-1,r=0;r<this._indicatorAxes.length;r++)e=this._indicatorAxes[r],o=Math.abs(c-e.angle),o<s&&(f=e,h=r,s=o);return[h,+(f&&f.coodToData(u))]};af.prototype.resize=function(n,i){var r=n.get("center"),f=i.getWidth(),e=i.getHeight(),o=Math.min(f,e)/2;this.cx=u(r[0],f);this.cy=u(r[1],e);this.startAngle=n.get("startAngle")*Math.PI/180;this.r=u(n.get("radius"),o);t(this._indicatorAxes,function(n,t){n.setExtent(0,this.r);var i=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i));n.angle=i},this)};af.prototype.update=function(n){function r(n){var i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),t=n/i;return 2===t?t=5:t*=2,t*i}var u=this._indicatorAxes,f=this._model,i;t(u,function(n){n.scale.setExtent(1/0,-1/0)});n.eachSeriesByType("radar",function(i){if("radar"===i.get("coordinateSystem")&&n.getComponent("radar",i.get("radarIndex"))===f){var r=i.getData();t(u,function(n){n.scale.unionExtentFromData(r,r.mapDimension(n.dim))})}},this);i=f.get("splitNumber");t(u,function(n){var f=gri(n.scale,n.model),s,h,c,l;go(n.scale,n.model);var a=n.model,u=n.scale,e=a.getMin(),o=a.getMax(),t=u.getInterval();if(null!=e&&null!=o)u.setExtent(+e,+o),u.setInterval((o-e)/i);else if(null!=e){do s=e+t*i,u.setExtent(+e,s),u.setInterval(t),t=r(t);while(s<f[1]&&isFinite(s)&&isFinite(f[1]))}else if(null!=o){do h=o-t*i,u.setExtent(h,+o),u.setInterval(t),t=r(t);while(h>f[0]&&isFinite(h)&&isFinite(f[0]))}else u.getTicks().length-1>i&&(t=r(t)),c=Math.round((f[0]+f[1])/2/t)*t,l=Math.round(i/2),u.setExtent(ai(c-l*t),ai(c+(i-l)*t)),u.setInterval(t)})};af.dimensions=[];af.create=function(n,t){var i=[];return n.eachComponent("radar",function(r){var u=new af(r,n,t);i.push(u);r.coordinateSystem=u}),n.eachSeriesByType("radar",function(n){"radar"===n.get("coordinateSystem")&&(n.coordinateSystem=i[n.get("radarIndex")||0])}),i};ir.register("radar",af);lv=uo.valueAxis;ibi=(wr({type:"radar",optionUpdated:function(){var i=this.get("boundaryGap"),u=this.get("splitNumber"),f=this.get("scale"),s=this.get("axisLine"),c=this.get("axisTick"),l=this.get("axisLabel"),t=this.get("name"),a=this.get("name.show"),n=this.get("name.formatter"),y=this.get("nameGap"),p=this.get("triggerEvent"),w=r(this.get("indicator")||[],function(r){var b,k,w;return null!=r.max&&r.max>0&&!r.min?r.min=0:null!=r.min&&r.min<0&&!r.max&&(r.max=0),b=t,(null!=r.color&&(b=o({color:r.color},t)),r=v(h(r),{boundaryGap:i,splitNumber:u,scale:f,axisLine:s,axisTick:c,axisLabel:l,name:r.text,nameLocation:"end",nameGap:y,nameTextStyle:b,triggerEvent:p},!1),a||(r.name=""),"string"==typeof n)?(k=r.name,r.name=n.replace("{value}",null!=k?k:"")):"function"==typeof n&&(r.name=n(r.name,r)),w=e(new tt(r,null,this.ecModel),vc),w.mainType="radar",w.componentIndex=this.componentIndex,w},this);this.getIndicatorModels=function(){return w}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:v({lineStyle:{color:"#bbb"}},lv.axisLine),axisLabel:cd(lv.axisLabel,!1),axisTick:cd(lv.axisTick,!1),splitLine:cd(lv.splitLine,!0),splitArea:cd(lv.splitArea,!0),indicator:[]}}),["axisLine","axisTickLabel","axisName"]);si({type:"radar",render:function(n){this.group.removeAll();this._buildAxes(n);this._buildSplitLineAndArea(n)},_buildAxes:function(n){var i=n.coordinateSystem;t(r(i.getIndicatorAxes(),function(n){return new uf(n.model,{position:[i.cx,i.cy],rotation:n.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(n){t(ibi,n.add,n);this.group.add(n.getGroup())},this)},_buildSplitLineAndArea:function(n){function v(n,t,i){var r=i%t.length;return n[r]=n[r]||[],r}var y=n.coordinateSystem,p=y.getIndicatorAxes(),h,c,s,b,a,et,ot;if(p.length){var st=n.get("shape"),d=n.getModel("splitLine"),g=n.getModel("splitArea"),nt=d.getModel("lineStyle"),tt=g.getModel("areaStyle"),it=d.get("show"),rt=g.get("show"),f=nt.get("color"),e=tt.get("color");if(f=i(f)?f:[f],e=i(e)?e:[e],h=[],c=[],"circle"===st)for(var l=p[0].getTicksCoords(),ut=y.cx,ft=y.cy,u=0;u<l.length;u++)it&&h[a=v(h,f,u)].push(new fc({shape:{cx:ut,cy:ft,r:l[u].coord}})),rt&&u<l.length-1&&c[a=v(c,e,u)].push(new vyi({shape:{cx:ut,cy:ft,r0:l[u].coord,r:l[u+1].coord}}));else for(var w,ht=r(p,function(n,t){var i=n.getTicksCoords();return w=null==w?i.length-1:Math.min(i.length-1,w),r(i,function(n){return y.coordToPoint(n.coord,t)})}),k=[],u=0;u<=w;u++){for(s=[],b=0;b<p.length;b++)s.push(ht[b][u]);(s[0]&&s.push(s[0].slice()),it&&h[a=v(h,f,u)].push(new gf({shape:{points:s}})),rt&&k)&&(a=v(c,e,u-1),c[a].push(new gu({shape:{points:s.concat(k)}})));k=s.slice().reverse()}et=nt.getLineStyle();ot=tt.getAreaStyle();t(c,function(n,t){this.group.add(io(n,{style:o({stroke:"none",fill:e[t%e.length]},ot),silent:!0}))},this);t(h,function(n,t){this.group.add(io(n,{style:o({fill:"none",stroke:f[t%f.length]},et),silent:!0}))},this)}}});rbi=gt.extend({type:"series.radar",dependencies:["radar"],init:function(){rbi.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(){return cv(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(n){var t=this.getData(),u=this.coordinateSystem.getIndicatorAxes(),i=this.getData().getName(n);return wt(""===i?this.name:i)+"<br/>"+r(u,function(i){var r=t.get(t.mapDimension(i.dim),n);return wt(i.name+" : "+r)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});fr({type:"radar",render:function(n){function l(n,t){var u=n.getItemVisual(t,"symbol")||"circle",f=n.getItemVisual(t,"color"),i,r;if("none"!==u)return i=chr(n.getItemVisual(t,"symbolSize")),r=br(u,-1,-1,2,2,f),r.attr({style:{strokeNoScale:!0},z2:100,scale:[i[0]/2,i[1]/2]}),r}function u(t,i,r,u,f,e){var o,s;for(r.removeAll(),o=0;o<i.length-1;o++)s=l(u,f),s&&(s.__dimIdx=o,t[o]?(s.attr("position",t[o]),nf[e?"initProps":"updateProps"](s,{position:i[o]},n,f)):s.attr("position",i[o]),r.add(s))}function e(n){return r(n,function(){return[s.cx,s.cy]})}var s=n.coordinateSystem,c=this.group,t=n.getData(),i=this._data;t.diff(i).add(function(i){var r=t.getItemLayout(i),o,c;if(r){var h=new gu,s=new gf,l={shape:{points:r}};h.shape.points=e(r);s.shape.points=e(r);tr(h,l,n,i);tr(s,l,n,i);o=new f;c=new f;o.add(s);o.add(h);o.add(c);u(s.shape.points,r,c,t,i,!0);t.setItemGraphicEl(i,o)}}).update(function(r,f){var e=i.getItemGraphicEl(f),s=e.childAt(0),h=e.childAt(1),c=e.childAt(2),o={shape:{points:t.getItemLayout(r)}};o.shape.points&&(u(s.shape.points,o.shape.points,c,t,r,!1),p(s,o,n),p(h,o,n),t.setItemGraphicEl(r,e))}).remove(function(n){c.remove(i.getItemGraphicEl(n))}).execute();t.eachItemGraphicEl(function(n,i){function v(){u.attr("ignore",a)}function y(){u.attr("ignore",l)}var r=t.getItemModel(i),p=n.childAt(0),u=n.childAt(1),w=n.childAt(2),f=t.getItemVisual(i,"color");c.add(n);p.useStyle(o(r.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:f}));p.hoverStyle=r.getModel("emphasis.lineStyle").getLineStyle();var e=r.getModel("areaStyle"),s=r.getModel("emphasis.areaStyle"),l=e.isEmpty()&&e.parentModel.isEmpty(),a=s.isEmpty()&&s.parentModel.isEmpty();a=a&&l;u.ignore=l;u.useStyle(o(e.getAreaStyle(),{fill:f,opacity:.7}));u.hoverStyle=s.getAreaStyle();var b=r.getModel("itemStyle").getItemStyle(["color"]),k=r.getModel("emphasis.itemStyle").getItemStyle(),d=r.getModel("label"),g=r.getModel("emphasis.label");w.eachChild(function(n){n.setStyle(b);n.hoverStyle=h(k);uu(n.style,n.hoverStyle,d,g,{labelFetcher:t.hostModel,labelDataIndex:i,labelDimIndex:n.__dimIdx,defaultText:t.get(t.dimensions[n.__dimIdx],i),autoColor:f,isRectText:!0})});n.off("mouseover").off("mouseout").off("normal").off("emphasis");n.on("emphasis",v).on("mouseover",v).on("normal",y).on("mouseout",y);at(n)});this._data=t},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});vt(irt("radar"));vt(pc("radar","circle"));bt(function(n){n.eachSeriesByType("radar",function(n){var r=n.getData(),t=[],u=n.coordinateSystem,f,i;if(u){for(f=u.getIndicatorAxes(),i=0;i<f.length;i++)r.each(r.mapDimension(f[i].dim),function(n,r){t[r]=t[r]||[];t[r][i]=u.dataToPoint(n,i)});r.each(function(n){t[n][0]&&t[n].push(t[n][0].slice());r.setItemLayout(n,t[n])})}})});pr(ww("radar"));ki(function(n){var r=n.polar,u;r&&(i(r)||(r=[r]),u=[],t(r,function(t){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),n.radar=n.radar||[],i(n.radar)||(n.radar=[n.radar]),n.radar.push(t)):u.push(t)}),n.polar=u);t(n.series,function(n){n&&"radar"===n.type&&n.polarIndex&&(n.radarIndex=n.polarIndex)})});upt=ct;ft(cst,vf);ah.prototype={constructor:ah,type:"view",dimensions:["x","y"],setBoundingRect:function(n,t,i,r){return this._rect=new w(n,t,i,r),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(n,t,i,r){this.transformTo(n,t,i,r);this._viewRect=new w(n,t,i,r)},transformTo:function(n,t,i,r){var f=this.getBoundingRect(),u=this._rawTransformable;u.transform=f.calculateTransform(new w(n,t,i,r));u.decomposeTransform();this._updateTransform()},setCenter:function(n){n&&(this._center=n,this._updateCenterAndZoom())},setZoom:function(n){n=n||1;var t=this.zoomLimit;t&&(null!=t.max&&(n=Math.min(t.max,n)),null!=t.min&&(n=Math.max(t.min,n)));this._zoom=n;this._updateCenterAndZoom()},getDefaultCenter:function(){var n=this.getBoundingRect();return[n.x+n.width/2,n.y+n.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var r=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,t=this.getDefaultCenter(),n=this.getCenter(),u=this.getZoom();n=ct([],n,r);t=ct([],t,r);i.origin=n;i.position=[t[0]-n[0],t[1]-n[1]];i.scale=[u,u];this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,n=this._rawTransformable;n.parent=t;t.updateTransform();n.updateTransform();gb(this.transform||(this.transform=[]),n.transform||iu());this._rawTransform=n.getLocalTransform();this.invTransform=this.invTransform||[];tk(this.invTransform,this.transform);this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var n=this.getBoundingRect().clone();return n.applyTransform(this.transform),n},dataToPoint:function(n,t,i){var r=t?this._rawTransform:this.transform;return i=i||[],r?upt(i,n,r):wi(i,n)},pointToData:function(n){var t=this.invTransform;return t?upt([],n,t):[n[0],n[1]]},convertToPixel:l(pfi,"dataToPoint"),convertFromPixel:l(pfi,"pointToData"),containPoint:function(n){return this.getViewRectAfterRoam().contain(n[0],n[1])}};ft(ah,vf);for(var fpt=[126,25],wc=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],bc=0;bc<wc.length;bc++)for(kc=0;kc<wc[bc].length;kc++)wc[bc][kc][0]/=10.5,wc[bc][kc][1]/=-14,wc[bc][kc][0]+=fpt[0],wc[bc][kc][1]+=fpt[1];var nuu={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]},tuu={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},iuu=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],ruu=[function(n){"china"===n.map&&n.regions.push(new od("南海诸岛",r(wc,function(n){return{type:"polygon",exterior:n}}),fpt))},function(n){t(n.regions,function(n){var t=nuu[n.name],i;t&&(i=n.center,i[0]+=t[0]/10.5,i[1]+=-t[1]/14)})},function(n){t(n.regions,function(n){var t=tuu[n.name],i;t&&(i=n.center,i[0]=t[0],i[1]=t[1])})},function(n){if("china"===n.map)for(var t=0,i=n.regions.length;t<i;++t)"台湾"===n.regions[t].name&&n.regions[t].geometries.push({type:"polygon",exterior:iuu[0]})}];ra.prototype={constructor:ra,type:"geo",dimensions:["lng","lat"],containCoord:function(n){for(var i=this.regions,t=0;t<i.length;t++)if(i[t].contain(n))return!0;return!1},loadGeoJson:function(n,i,r){var u,o;try{this.regions=n?pyt(n):[]}catch(n){throw"Invalid geoJson format\n"+n.message;}i=i||{};r=r||{};for(var e=this.regions,s=y(),f=0;f<e.length;f++)u=e[f].name,u=r.hasOwnProperty(u)?r[u]:u,e[f].name=u,s.set(u,e[f]),this.addGeoCoord(u,e[f].center),o=i[u],o&&e[f].transformTo(o.left,o.top,o.width,o.height);this._regionsMap=s;this._rect=null;t(ruu,function(n){n(this)},this)},transformTo:function(n,t,i,r){var u=this.getBoundingRect(),f,e;(u=u.clone()).y=-u.y-u.height;f=this._rawTransformable;f.transform=u.calculateTransform(new w(n,t,i,r));f.decomposeTransform();e=f.scale;e[1]=-e[1];f.updateTransform();this._updateTransform()},getRegion:function(n){return this._regionsMap.get(n)},getRegionByCoord:function(n){for(var i=this.regions,t=0;t<i.length;t++)if(i[t].contain(n))return i[t]},addGeoCoord:function(n,t){this._nameCoordMap.set(n,t)},getGeoCoord:function(n){return this._nameCoordMap.get(n)},getBoundingRect:function(){var t,i,n,r;if(this._rect)return this._rect;for(i=this.regions,n=0;n<i.length;n++)r=i[n].getBoundingRect(),(t=t||r.clone()).union(r);return this._rect=t||new w(0,0,0,0)},dataToPoint:function(n,t,i){if("string"==typeof n&&(n=this.getGeoCoord(n)),n)return ah.prototype.dataToPoint.call(this,n,t,i)},convertToPixel:l(wfi,"dataToPoint"),convertFromPixel:l(wfi,"pointToData")};ft(ra,ah);frt={dimensions:ra.prototype.dimensions,create:function(n,i){var f=[],u;return n.eachComponent("geo",function(n,t){var e=n.get("map"),u=id(e),r=new ra(e+t,e,u&&u.geoJson,u&&u.specialAreas,n.get("nameMap"));r.zoomLimit=n.get("scaleLimit");f.push(r);kfi(r,n);n.coordinateSystem=r;r.model=n;r.resize=bfi;r.resize(n,i)}),n.eachSeries(function(n){if("geo"===n.get("coordinateSystem")){var t=n.get("geoIndex")||0;n.coordinateSystem=f[t]}}),u={},n.eachSeriesByType("map",function(n){if(!n.getHostGeoModel()){var t=n.getMapType();u[t]=u[t]||[];u[t].push(n)}}),t(u,function(n,u){var o=id(u),s=r(n,function(n){return n.get("nameMap")}),e=new ra(u,u,o&&o.geoJson,o&&o.specialAreas,gv(s));e.zoomLimit=li.apply(null,r(n,function(n){return n.get("scaleLimit")}));f.push(e);e.resize=bfi;e.resize(n[0],i);t(n,function(n){n.coordinateSystem=e;kfi(e,n)})}),f},getFilledRegions:function(n,t,i){var f=(n||[]).slice(),e,o,u;if(i=i||{},e=id(t),o=e&&e.geoJson,!o)return n;for(var s=y(),h=o.features,r=0;r<f.length;r++)s.set(f[r].name,f[r]);for(r=0;r<h.length;r++)u=h[r].properties.name,s.get(u)||(i.hasOwnProperty(u)&&(u=i[u]),f.push({name:u}));return f}};lot("geo",frt);ert=gt.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(){ert.superApply(this,"init",arguments);this.updateSelectedMap(this._createSelectableList())},getInitialData:function(){return cv(this,["value"])},mergeOption:function(){ert.superApply(this,"mergeOption",arguments);this.updateSelectedMap(this._createSelectableList())},_createSelectableList:function(){for(var n=this.getRawData(),r=n.mapDimension("value"),i=[],t=0,u=n.count();t<u;t++)i.push({name:n.getName(t),value:n.get(r,t),selected:rii(n,t,"selected")});return frt.getFilledRegions(i,this.getMapType(),this.option.nameMap)},getHostGeoModel:function(){var n=this.option.geoIndex;return null!=n?this.dependentModels.geo[n]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(){},getRawValue:function(n){var t=this.getData();return t.get(t.mapDimension("value"),n)},getRegionModel:function(n){var t=this.getData();return t.getItemModel(t.indexOfName(n))},formatTooltip:function(n){for(var e,o,r=this.getData(),s=hh(this.getRawValue(n)),u=r.getName(n),i=this.seriesGroup,f=[],t=0;t<i.length;t++)e=i[t].originalData.indexOfName(u),o=r.mapDimension("value"),isNaN(i[t].originalData.get(o,e))||f.push(wt(i[t].name));return f.join(", ")+"<br />"+wt(u+" : "+s)},getTooltipPosition:function(n){if(null!=n){var r=this.getData().getName(n),t=this.coordinateSystem,i=t.getRegion(r);return i&&t.dataToPoint(i.center)}},setZoom:function(n){this.option.zoom=n},setCenter:function(n){this.option.center=n},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});ft(ert,ipt);ept="\0_ec_interaction_mutex";it({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});ft(sp,ei);ubi={axisPointer:1,tooltip:1,brush:1};ld.prototype={constructor:ld,draw:function(n,i,r,u,e){var h="geo"===n.mainType,o=n.getData&&n.getData();h&&i.eachComponent({mainType:"series",subType:"map"},function(t){o||t.getHostGeoModel()!==n||(o=t.getData())});var c=n.coordinateSystem,s=this.group,l=c.scale,a={position:c.position,scale:l};!s.childAt(0)||e?s.attr(a):p(s,a,n);s.removeAll();var w=["itemStyle"],b=["emphasis","itemStyle"],k=["label"],g=["emphasis","label"],v=y();t(c.regions,function(i){var r=v.get(i.name)||v.set(i.name,new f),u=new pyi({shape:{paths:[]}}),y,rt,ut,a,c;r.add(u);var e,ft=(c=n.getRegionModel(i.name)||n).getModel(w),et=c.getModel(b),p=rei(ft),ot=rei(et),nt=c.getModel(k),tt=c.getModel(g);o&&(e=o.indexOfName(i.name),y=o.getItemVisual(e,"color",!0),y&&(p.fill=y));t(i.geometries,function(n){if("polygon"===n.type){u.shape.paths.push(new gu({shape:{points:n.exterior}}));for(var t=0;t<(n.interiors?n.interiors.length:0);t++)u.shape.paths.push(new gu({shape:{points:n.interiors[t]}}))}});u.setStyle(p);u.style.strokeNoScale=!0;u.culling=!0;var st=nt.get("show"),ht=tt.get("show"),ct=o&&isNaN(o.get(o.mapDimension("value"),e)),it=o&&o.getItemLayout(e);(h||ct&&(st||ht)||it&&it.showLabel)&&(ut=h?i.name:e,(!o||e>=0)&&(rt=n),a=new d({position:i.center.slice(),scale:[1/l[0],1/l[1]],z2:10,silent:!0}),uu(a.style,a.hoverStyle={},nt,tt,{labelFetcher:rt,labelDataIndex:ut,defaultText:i.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),r.add(a));o?o.setItemGraphicEl(e,r):(c=n.getRegionModel(i.name),u.eventData={componentType:"geo",geoIndex:n.componentIndex,name:i.name,region:c&&c.option||{}});(r.__regions||(r.__regions=[])).push(i);at(r,ot,{hoverSilentOnTouch:!!n.get("selectedMode")});s.add(r)});this._updateController(n,i,r);khr(this,n,s,r,u);uei(n,s)},remove:function(){this.group.removeAll();this._controller.dispose();this._controllerHost={}},_updateController:function(n,t,i){function o(){var t={type:"geoRoam",componentType:f};return t[f+"Id"]=n.id,t}var s=n.coordinateSystem,r=this._controller,u=this._controllerHost,f;u.zoomLimit=n.get("scaleLimit");u.zoom=s.getZoom();r.enable(n.get("roam")||!1);f=n.mainType;r.off("pan").on("pan",function(n,t){this._mouseDownFlag=!1;tei(u,n,t);i.dispatchAction(e(o(),{dx:n,dy:t}))},this);r.off("zoom").on("zoom",function(n,t,r){if(this._mouseDownFlag=!1,iei(u,n,t,r),i.dispatchAction(e(o(),{zoom:n,originX:t,originY:r})),this._updateGroup){var f=this.group,s=f.scale;f.traverse(function(n){"text"===n.type&&n.attr("scale",[1/s[0],1/s[1]])})}},this);r.setPointerChecker(function(t,r,u){return s.getViewRectAfterRoam().contain(r,u)&&!ast(t,i,n)})}};fr({type:"map",render:function(n,t,i,r){var f,u;r&&"mapToggleSelect"===r.type&&r.from===this.uid||(f=this.group,(f.removeAll(),n.getHostGeoModel())||(r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===n.id?(u=this._mapDraw)&&f.add(u.group):n.needsDrawMap?(u=this._mapDraw||new ld(i,!0),f.add(u.group),u.draw(n,t,i,this,r),this._mapDraw=u):(this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null),n.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(n,t,i)))},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null},_renderSymbols:function(n){var t=n.originalData,i=this.group;t.each(t.mapDimension("value"),function(r,u){var e;if(!isNaN(r)&&(e=t.getItemLayout(u),e&&e.point)){var c=e.point,o=e.offset,f=new fc({style:{fill:n.getData().getVisual("color")},shape:{cx:c[0]+9*o,cy:c[1],r:3},silent:!0,z2:o?8:10});if(!o){var l=n.mainSeries.getData(),a=t.getName(u),b=l.indexOfName(a),v=t.getItemModel(u),s=v.getModel("label"),y=v.getModel("emphasis.label"),k=l.getItemGraphicEl(b),p=oi(n.getFormattedLabel(u,"normal"),a),d=oi(n.getFormattedLabel(u,"emphasis"),p),w=function(){var n=kt({},y,{text:y.get("show")?d:null},{isRectText:!0,useInsideStyle:!1},!0);f.style.extendFrom(n);f.__mapOriginalZ2=f.z2;f.z2+=1},h=function(){kt(f.style,s,{text:s.get("show")?p:null,textPosition:s.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1});null!=f.__mapOriginalZ2&&(f.z2=f.__mapOriginalZ2,f.__mapOriginalZ2=null)};k.on("mouseover",w).on("mouseout",h).on("emphasis",w).on("normal",h);h()}i.add(f)}})}});it({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(n,i){var r=n.componentType||"series";i.eachComponent({mainType:r,query:n},function(i){var f=i.coordinateSystem,u;"geo"===f.type&&(u=fei(f,n,i.get("scaleLimit")),i.setCenter&&i.setCenter(u.center),i.setZoom&&i.setZoom(u.zoom),"series"===r&&t(i.seriesGroup,function(n){n.setCenter(u.center);n.setZoom(u.zoom)}))})});bt(function(n){var i={};n.eachSeriesByType("map",function(r){var e=r.getMapType(),f,u;r.getHostGeoModel()||i[e]||(f={},t(r.seriesGroup,function(t){var r=t.coordinateSystem,i=t.originalData;t.get("showLegendSymbol")&&n.getComponent("legend")&&i.each(i.mapDimension("value"),function(n,t){var u=i.getName(t),o=r.getRegion(u),e,s;o&&!isNaN(n)&&(e=f[u]||0,s=r.dataToPoint(o.center),f[u]=e+1,i.setItemLayout(t,{point:s,offset:e}))})}),u=r.getData(),u.each(function(n){var i=u.getName(n),t=u.getItemLayout(n)||{};t.showLabel=!f[i];u.setItemLayout(n,t)}),i[e]=!0)})});vt(function(n){n.eachSeriesByType("map",function(n){var t=n.get("color"),i=n.getModel("itemStyle"),r=i.get("areaColor"),u=i.get("color")||t[n.seriesIndex%t.length];n.getData().setVisual({areaColor:r,color:u})})});pr(ev.PROCESSOR.STATISTIC,function(n){var i={};n.eachSeriesByType("map",function(n){var t=n.getHostGeoModel(),r=t?"o"+t.id:"i"+n.getMapType();(i[r]=i[r]||[]).push(n)});t(i,function(n){for(var i=dhr(r(n,function(n){return n.getData()}),n[0].get("mapValueCalculation")),t=0;t<n.length;t++)n[t].originalData=n[t].getData();for(t=0;t<n.length;t++)n[t].seriesGroup=n,n[t].needsDrawMap=0===t&&!n[t].getHostGeoModel(),n[t].setData(i.cloneShallow()),n[t].mainSeries=n[0]})});ki(function(n){var i=[];t(n.series,function(n){n&&"map"===n.type&&(i.push(n),n.map=n.map||n.mapType,o(n,n.mapLocation))})});nbi("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var bw=t,kw="\0__link_datas",ort="\0__link_mainData",opt=function(n,t){this.name=n||"";this.depth=0;this.height=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=t};opt.prototype={constructor:opt,isRemoved:function(){return this.dataIndex<0},eachNode:function(n,t,i){var e,u,f,r;for("function"==typeof n&&(i=t,t=n,n=null),yt(n=n||{})&&(n={order:n}),u=n.order||"preorder",f=this[n.attr||"children"],"preorder"===u&&(e=t.call(i,this)),r=0;!e&&r<f.length;r++)f[r].eachNode(n,t,i);"postorder"===u&&t.call(i,this)},updateDepthAndHeight:function(n){var r=0,t,i;for(this.depth=n,t=0;t<this.children.length;t++)i=this.children[t],i.updateDepthAndHeight(n+1),i.height>r&&(r=i.height);this.height=r+1},getNodeById:function(n){var i;if(this.getId()===n)return this;for(var t=0,r=this.children,u=r.length;t<u;t++)if(i=r[t].getNodeById(n),i)return i},contains:function(n){var i;if(n===this)return!0;for(var t=0,r=this.children,u=r.length;t<u;t++)if(i=r[t].contains(n),i)return i},getAncestors:function(n){for(var i=[],t=n?this:this.parentNode;t;)i.push(t),t=t.parentNode;return i.reverse(),i},getValue:function(n){var t=this.hostTree.data;return t.get(t.getDimension(n||"value"),this.dataIndex)},setLayout:function(n,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(n){if(!(this.dataIndex<0)){var t,i=this.hostTree,u=i.data.getItemModel(this.dataIndex),r=this.getLevelModel();return r||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(t=this.getLeavesModel()),u.getModel(n,(r||t||i.hostModel).getModel(n))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(n,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,t)},getVisual:function(n,t){return this.hostTree.data.getItemVisual(this.dataIndex,n,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(n){for(var t=n.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},isDescendantOf:function(n){return n!==this&&n.isAncestorOf(this)}};vh.prototype={constructor:vh,type:"tree",eachNode:function(n,t,i){this.root.eachNode(n,t,i)},getNodeByDataIndex:function(n){var t=this.data.getRawIndex(n);return this._nodes[t]},getNodeByName:function(n){return this.root.getNodeByName(n)},update:function(){for(var r=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(n=0,i=r.count();n<i;n++)t[r.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}};vh.createTree=function(n,t,r){function s(n,t){var c=n.value,r,o,h;if(e=Math.max(e,i(c)?c.length:1),f.push(n),r=new opt(n.name,u),t?ucr(r,t):u.root=r,u._nodes.push(r),o=n.children,o)for(h=0;h<o.length;h++)s(o[h],r)}var u=new vh(t,r.levels,r.leaves),f=[],e=1,h,o;return s(n),u.root.updateDepthAndHeight(0),h=ac(f,{coordDimensions:["value"],dimensionsCount:e}),o=new hi(h,t),o.initData(f),eei({mainData:o,struct:u,structAttr:"tree"}),u.update(),u};gt.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(n){var f={name:n.name,children:n.data},e=n.leaves||{},r={},t,i,u;return r.leaves=e,t=vh.createTree(f,this,r),i=0,t.eachNode("preorder",function(n){n.depth>i&&(i=n.depth)}),u=n.expandAndCollapse&&n.initialTreeDepth>=0?n.initialTreeDepth:i,t.root.eachNode("preorder",function(n){var t=n.hostTree.data.getRawDataItem(n.dataIndex);n.isExpand=t&&null!=t.collapsed?!t.collapsed:n.depth<=u}),t.data},getOrient:function(){var n=this.get("orient");return"horizontal"===n?n="LR":"vertical"===n&&(n="TB"),n},formatTooltip:function(n){for(var u=this.getData().tree,f=u.root.children[0],t=u.getNodeByDataIndex(n),i=t.getValue(),r=t.name;t&&t!==f;)r=t.parentNode.name+"."+r,t=t.parentNode;return wt(r+(isNaN(i)||null==i?"":" : "+i))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});fr({type:"tree",init:function(){this._oldTree;this._mainGroup=new f;this.group.add(this._mainGroup)},render:function(n,t,i){var r=n.getData(),u=n.layoutInfo,f=this._mainGroup,s=n.get("layout"),e,o;"radial"===s?f.attr("position",[u.x+u.width/2,u.y+u.height/2]):f.attr("position",[u.x,u.y]);e=this._data;o={expandAndCollapse:n.get("expandAndCollapse"),layout:s,orient:n.getOrient(),curvature:n.get("lineStyle.curveness"),symbolRotate:n.get("symbolRotate"),symbolOffset:n.get("symbolOffset"),hoverAnimation:n.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};r.diff(e).add(function(t){hei(r,t)&&lei(r,t,null,f,n,o)}).update(function(t,i){var u=e.getItemGraphicEl(i);hei(r,t)?lei(r,t,u,f,n,o):u&&aei(e,i,u,f,n,o)}).remove(function(t){var i=e.getItemGraphicEl(t);i&&aei(e,t,i,f,n,o)}).execute();!0===o.expandAndCollapse&&r.eachItemGraphicEl(function(t,r){t.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:n.id,dataIndex:r})})});this._data=r},dispose:function(){},remove:function(){this._mainGroup.removeAll();this._data=null}});it({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(n,t){t.eachComponent({mainType:"series",subType:"tree",query:n},function(t){var r=n.dataIndex,i=t.getData().tree.getNodeByDataIndex(r);i.isExpand=!i.isExpand})});vt(pc("tree","circle"));bt(function(n,t){n.eachSeriesByType("tree",function(n){pcr(n,t)})});gt.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(n,t){var u={name:n.name,children:n.data},i,r;return yei(u),i=n.levels||[],i=n.levels=wcr(i,t),r={},r.levels=i,vh.createTree(u,this,r).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(n){var r=this.getData(),t=this.getRawValue(n),u=hh(i(t)?t[0]:t);return wt(r.getName(n)+": "+u)},getDataParams:function(n){var t=gt.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(n);return t.treePathInfo=kst(i,this),t},setLayoutInfo:function(n){this.layoutInfo=this.layoutInfo||{};e(this.layoutInfo,n)},mapIdToIndex:function(n){var t=this._idIndexMap,i;return t||(t=this._idIndexMap=y(),this._idIndexMapCount=0),i=t.get(n),null==i&&t.set(n,i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(n){n?this._viewRoot=n:n=this._viewRoot;var t=this.getRawData().tree.root;n&&(n===t||t.contains(n))||(this._viewRoot=t)}});srt=5;dst.prototype={constructor:dst,render:function(n,t,i,r){var u=n.getModel("breadcrumb"),e=this.group;if(e.removeAll(),u.get("show")&&i){var o=u.getModel("itemStyle"),s=o.getModel("textStyle"),f={pos:{left:u.get("left"),right:u.get("right"),top:u.get("top"),bottom:u.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:u.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,f,s);this._renderContent(n,f,o,s,r);kk(e,f.pos,f.box)}},_prepare:function(n,t,i){for(var r=n;r;r=r.parentNode){var u=r.getModel().get("name"),e=i.getTextRect(u),f=Math.max(e.width+16,t.emptyItemWidth);t.totalWidth+=f+8;t.renderList.push({node:r,text:u,width:f})}},_renderContent:function(n,t,i,r,u){for(var c,a=0,v=t.emptyItemWidth,b=n.get("breadcrumb.height"),k=hur(t.pos,t.box),y=t.totalWidth,s=t.renderList,f=s.length-1;f>=0;f--){var h=s[f],p=h.node,e=h.width,w=h.text;y>k.width&&(y-=e-v,e=v,w=null);c=new gu({shape:{points:bcr(a,0,e,b,f===s.length-1,0===f)},style:o(i.getItemStyle(),{lineJoin:"bevel",text:w,textFill:r.getTextColor(),textFont:r.getFont()}),z:10,onclick:l(u,p)});this.group.add(c);kcr(c,n,p);a+=e+8}},remove:function(){this.group.removeAll()}};var hrt=c,fbi=f,ebi=st,ue=t,uuu=["label"],fuu=["emphasis","label"],euu=["upperLabel"],ouu=["emphasis","upperLabel"],suu=10,huu=1,cuu=2,spt=ba([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),obi=function(n){var t=spt(n);return t.stroke=t.fill=t.lineWidth=null,t};for(fr({type:"treemap",init:function(){this._containerGroup;this._storage={nodeGroup:[],background:[],content:[]};this._oldTree;this._breadcrumb;this._controller;this._state="ready"},render:function(n,t,i,r){if(!(b(t.findComponents({mainType:"series",subType:"treemap",query:r}),n)<0)){this.seriesModel=n;this.api=i;this.ecModel=t;var f=lp(r,["treemapZoomToNode","treemapRootToNode"],n),u=r&&r.type,c=n.layoutInfo,l=!this._oldTree,e=this._storage,o="treemapRootToNode"===u&&f&&e?{rootNodeGroup:e.nodeGroup[f.node.getRawIndex()],direction:r.direction}:null,s=this._giveContainerGroup(c),h=this._doRender(s,n,o);l||u&&"treemapZoomToNode"!==u&&"treemapRootToNode"!==u?h.renderFinally():this._doAnimation(s,h,n,o);this._resetController(i);this._renderBreadcrumb(n,i,f)}},_giveContainerGroup:function(n){var t=this._containerGroup;return t||(t=this._containerGroup=new fbi,this._initEvents(t),this.group.add(t)),t.attr("position",[n.x,n.y]),t},_doRender:function(n,t,i){function e(n,t,i,r,u){function o(n){return n.getId()}function f(f,o){var s=null!=f?n[f]:null,h=null!=o?t[o]:null,c=a(s,h,i,u);c&&e(s&&s.viewChildren||[],h&&h.viewChildren||[],c,r,u+1)}r?(t=n,ue(n,function(n,t){n.isRemoved()||f(t,t)})):new we(t,n,o,o).add(f).update(f).remove(l(f,null)).execute()}var u=t.getData().tree,r=this._oldTree,o={nodeGroup:[],background:[],content:[]},s={nodeGroup:[],background:[],content:[]},h=this._storage,c=[],a=l(gcr,t,s,h,i,o,c),f;return e(u.root?[u.root]:[],r&&r.root?[r.root]:[],n,u===r||!r,0),f=function(n){var t={nodeGroup:[],background:[],content:[]};return n&&ue(n,function(n,i){var r=t[i];ue(n,function(n){n&&(r.push(n),n.__tmWillDelete=1)})}),t}(h),this._oldTree=u,this._storage=s,{lastsForAnimation:o,willDeleteEls:f,renderFinally:function(){ue(f,function(n){ue(n,function(n){n.parent&&n.parent.remove(n)})});ue(c,function(n){n.invisible=!0;n.dirty()})}}},_doAnimation:function(n,t,i,r){if(i.get("animation")){var f=i.get("animationDurationUpdate"),o=i.get("animationEasing"),u=dcr();ue(t.willDeleteEls,function(n,t){ue(n,function(n){var e,i,s,h;n.invisible||(i=n.parent,r&&"drillDown"===r.direction?e=i===r.rootNodeGroup?{shape:{x:0,y:0,width:i.__tmNodeWidth,height:i.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}:(s=0,h=0,i.__tmWillDelete||(s=i.__tmNodeWidth/2,h=i.__tmNodeHeight/2),e="nodeGroup"===t?{position:[s,h],style:{opacity:0}}:{shape:{x:s,y:h,width:0,height:0},style:{opacity:0}}),e&&u.add(n,e,f,o))})});ue(this._storage,function(n,i){ue(n,function(n,r){var s=t.lastsForAnimation[i][r],h={};s&&("nodeGroup"===i?s.old&&(h.position=n.position.slice(),n.attr("position",s.old)):(s.old&&(h.shape=e({},n.shape),n.setShape(s.old)),s.fadein?(n.setStyle("opacity",0),h.style={opacity:1}):1!==n.style.opacity&&(h.style={opacity:1})),u.add(n,h,f,o))})},this);this._state="animating";u.done(hrt(function(){this._state="ready";t.renderFinally()},this)).start()}},_resetController:function(n){var t=this._controller,i;t||((t=this._controller=new sp(n.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",hrt(this._onPan,this)),t.on("zoom",hrt(this._onZoom,this)));i=new w(0,0,n.getWidth(),n.getHeight());t.setPointerChecker(function(n,t,r){return i.contain(t,r)})},_clearController:function(){var n=this._controller;n&&(n.dispose(),n=null)},_onPan:function(n,t){var r,i;if("animating"!==this._state&&(Math.abs(n)>3||Math.abs(t)>3)){if(r=this.seriesModel.getData().tree.root,!r)return;if(i=r.getLayout(),!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+n,y:i.y+t,width:i.width,height:i.height}})}},_onZoom:function(n,t,i){var e,u,f,o,r;if("animating"!==this._state){if(e=this.seriesModel.getData().tree.root,!e)return;if(u=e.getLayout(),!u)return;f=new w(u.x,u.y,u.width,u.height);o=this.seriesModel.layoutInfo;t-=o.x;i-=o.y;r=iu();ef(r,r,[-t,-i]);nk(r,r,[n,n]);ef(r,r,[t,i]);f.applyTransform(r);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:f.x,y:f.y,width:f.width,height:f.height}})}},_initEvents:function(n){n.on("click",function(n){var i,t,r;if("ready"===this._state&&(i=this.seriesModel.get("nodeClick",!0),i&&(t=this.findTarget(n.offsetX,n.offsetY),t)))if(r=t.node,r.getLayout().isLeafRoot)this._rootToNode(t);else if("zoomToNode"===i)this._zoomToNode(t);else if("link"===i){var u=r.hostTree.data.getItemModel(r.dataIndex),f=u.get("link",!0),e=u.get("target",!0)||"blank";f&&window.open(f,e)}},this)},_renderBreadcrumb:function(n,t,i){i||(i=null!=n.get("leafDepth",!0)?{node:n.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(i={node:n.getData().tree.root});(this._breadcrumb||(this._breadcrumb=new dst(this.group))).render(n,t,i.node,hrt(function(t){"animating"!==this._state&&(bst(n.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))},this))},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage={nodeGroup:[],background:[],content:[]};this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(n){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},_rootToNode:function(n){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},findTarget:function(n,t){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(r){var e=this._storage.background[r.getRawIndex()],u,f;if(e){if(u=e.transformCoordToLocal(n,t),f=e.shape,!(f.x<=u[0]&&u[0]<=f.x+f.width&&f.y<=u[1]&&u[1]<=f.y+f.height))return!1;i={node:r,offsetX:u[0],offsetY:u[1]}}},this),i}}),hpt=["treemapZoomToNode","treemapRender","treemapMove"],crt=0;crt<hpt.length;crt++)it({type:hpt[crt],update:"updateView"},function(){});it({type:"treemapRootToNode",update:"updateView"},function(n,t){t.eachComponent({mainType:"series",subType:"treemap",query:n},function(t){var i=lp(n,["treemapZoomToNode","treemapRootToNode"],t),r;i&&(r=t.getViewRoot(),r&&(n.direction=bst(r,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node))})});var dw=t,sbi=a,lrt=-1,et=function(n){var i=n.mappingMethod,u=n.type,t=this.option=h(n),r;this.type=u;this.mappingMethod=i;this._normalizeData=hbi[i];r=av[u];this.applyVisual=r.applyVisual;this.getColorMapper=r.getColorMapper;this._doMap=r._doMap[i];"piecewise"===i?(gst(t),tlr(t)):"category"===i?t.categories?ilr(t):gst(t,!0):(co("linear"!==i||t.dataExtent),gst(t))};et.prototype={constructor:et,mapValueToVisual:function(n){var t=this._normalizeData(n);return this._doMap(t,n)},getNormalizer:function(){return c(this._normalizeData,this)}};av=et.visualHandlers={color:{applyVisual:vd("color"),getColorMapper:function(){var n=this.option;return c("category"===n.mappingMethod?function(n,t){return!t&&(n=this._normalizeData(n)),yd.call(this,n)}:function(t,i,r){var u=!!r;return!i&&(t=this._normalizeData(t)),r=ey(t,n.parsedVisual,r),u?r:ae(r,"rgba")},this)},_doMap:{linear:function(n){return ae(ey(n,this.option.parsedVisual),"rgba")},category:yd,piecewise:function(n,t){var i=tht.call(this,t);return null==i&&(i=ae(ey(n,this.option.parsedVisual),"rgba")),i},fixed:yh}},colorHue:ad(function(n,t){return wl(n,t)}),colorSaturation:ad(function(n,t){return wl(n,null,t)}),colorLightness:ad(function(n,t){return wl(n,null,null,t)}),colorAlpha:ad(function(n,t){return rk(n,t)}),opacity:{applyVisual:vd("opacity"),_doMap:nht([0,1])},liftZ:{applyVisual:vd("liftZ"),_doMap:{linear:yh,category:yh,piecewise:yh,fixed:yh}},symbol:{applyVisual:function(n,t,i){var r=this.mapValueToVisual(n),u;if(yt(r))i("symbol",r);else if(sbi(r))for(u in r)r.hasOwnProperty(u)&&i(u,r[u])},_doMap:{linear:pei,category:yd,piecewise:function(n,t){var i=tht.call(this,t);return null==i&&(i=pei.call(this,n)),i},fixed:yh}},symbolSize:{applyVisual:vd("symbolSize"),_doMap:nht([0,1])}};hbi={linear:function(n){return dt(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var t=this.option.pieceList,i=et.findPieceIndex(n,t,!0);if(null!=i)return dt(i,[0,t.length-1],[0,1],!0)},category:function(n){var t=this.option.categories?this.option.categoryMap[n]:n;return null==t?lrt:t},fixed:pi};et.listVisualTypes=function(){var n=[];return t(av,function(t,i){n.push(i)}),n};et.addVisualHandler=function(n,t){av[n]=t};et.isValidType=function(n){return av.hasOwnProperty(n)};et.eachVisual=function(n,i,r){a(n)?t(n,i,r):i.call(r,n)};et.mapVisual=function(n,t,r){var f,u=i(n)?[]:a(n)?{}:(f=!0,null);return et.eachVisual(n,function(n,i){var e=t.call(r,n,i);f?u=e:u[i]=e}),u};et.retrieveVisuals=function(n){var t,i={};return n&&dw(av,function(r,u){n.hasOwnProperty(u)&&(i[u]=n[u],t=!0)}),t?i:null};et.prepareVisualTypes=function(n){if(sbi(n)){var t=[];dw(n,function(n,i){t.push(i)});n=t}else{if(!i(n))return[];n=n.slice()}return n.sort(function(n,t){return"color"===t&&"color"!==n&&0===n.indexOf("color")?1:-1}),n};et.dependsOn=function(n,t){return"color"===t?!(!n||0!==n.indexOf(t)):n===t};et.findPieceIndex=function(n,t,i){function o(t,i){var r=Math.abs(t-n);r<c&&(c=r,h=i)}for(var f,h,c=1/0,r=0,s=t.length;r<s;r++)if(f=t[r].value,null!=f){if(f===n||"string"==typeof f&&f===n+"")return r;i&&o(f,r)}for(r=0,s=t.length;r<s;r++){var l=t[r],u=l.interval,e=l.close;if(u){if(u[0]===-1/0){if(pd(e[1],n,u[1]))return r}else if(u[1]===1/0){if(pd(e[0],u[0],n))return r}else if(pd(e[0],u[0],n)&&pd(e[1],n,u[1]))return r;i&&o(u[0],r);i&&o(u[1],r)}}if(i)return n===1/0?t.length-1:n===-1/0?0:h};var luu=i,cpt="itemStyle",auu={seriesType:"treemap",reset:function(n){var t=n.getData().tree,i=t.root,u=n.getModel(cpt);i.isRemoved()||bei(i,{},r(t.levelModels,function(n){return n?n.get(cpt):null}),u,n.getViewRoot().getAncestors(),n)}},gw=Math.max,art=Math.min,cbi=li,lpt=t,lbi=["itemStyle","borderWidth"],vuu=["itemStyle","gapWidth"],yuu=["upperLabel","show"],puu=["upperLabel","height"],wuu={seriesType:"treemap",reset:function(n,t,i,r){var b=i.getWidth(),k=i.getHeight(),c=n.option,o=fi(n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),d=c.size||[],g=u(cbi(o.width,d[0]),b),nt=u(cbi(o.height,d[1]),k),l=r&&r.type,tt=lp(r,["treemapZoomToNode","treemapRootToNode"],n),a="treemapRender"===l||"treemapMove"===l?r.rootRect:null,f=n.getViewRoot(),y=vei(f),h,s,it,v,p;"treemapMove"!==l&&(h="treemapZoomToNode"===l?alr(n,tt,f,g,nt):a?[a.width,a.height]:[g,nt],s=c.sort,s&&"asc"!==s&&"desc"!==s&&(s="desc"),it={squareRatio:c.squareRatio,sort:s,leafDepth:c.leafDepth},f.hostTree.clearLayouts(),v={x:0,y:0,width:h[0],height:h[1],area:h[0]*h[1]},f.setLayout(v),dei(f,it,!1,0),v=f.getLayout(),lpt(y,function(n,t){var i=(y[t+1]||f).getValue();n.setLayout(e({dataExtent:[i,i],borderWidth:0,upperHeight:0},v))}));p=n.getData().tree.root;p.setLayout(vlr(o,a,tt),!0);n.setLayoutInfo(o);noi(p,new w(-o.x,-o.y,b,k),y,f,0)}};vt(auu);bt(wuu);vv=function(n){this._directed=n||!1;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this.data;this.edgeData};lr=vv.prototype;lr.type="graph";lr.isDirected=function(){return this._directed};lr.addNode=function(n,t){var r,i;return n=n||""+t,r=this._nodesMap,r[ua(n)]?void 0:(i=new ku(n,t),i.hostGraph=this,this.nodes.push(i),r[ua(n)]=i,i)};lr.getNodeByIndex=function(n){var t=this.data.getRawIndex(n);return this.nodes[t]};lr.getNodeById=function(n){return this._nodesMap[ua(n)]};lr.addEdge=function(n,t,i){var f=this._nodesMap,e=this._edgesMap,u,r;if(("number"==typeof n&&(n=this.nodes[n]),"number"==typeof t&&(t=this.nodes[t]),ku.isInstance(n)||(n=f[ua(n)]),ku.isInstance(t)||(t=f[ua(t)]),n&&t)&&(u=n.id+"-"+t.id,!e[u]))return r=new ap(n,t,i),r.hostGraph=this,this._directed&&(n.outEdges.push(r),t.inEdges.push(r)),n.edges.push(r),n!==t&&t.edges.push(r),this.edges.push(r),e[u]=r,r};lr.getEdgeByIndex=function(n){var t=this.edgeData.getRawIndex(n);return this.edges[t]};lr.getEdge=function(n,t){ku.isInstance(n)&&(n=n.id);ku.isInstance(t)&&(t=t.id);var i=this._edgesMap;return this._directed?i[n+"-"+t]:i[n+"-"+t]||i[t+"-"+n]};lr.eachNode=function(n,t){for(var r=this.nodes,u=r.length,i=0;i<u;i++)r[i].dataIndex>=0&&n.call(t,r[i],i)};lr.eachEdge=function(n,t){for(var r=this.edges,u=r.length,i=0;i<u;i++)r[i].dataIndex>=0&&r[i].node1.dataIndex>=0&&r[i].node2.dataIndex>=0&&n.call(t,r[i],i)};lr.breadthFirstTraverse=function(n,t,i,r){var h,u,e,o,f;if(ku.isInstance(t)||(t=this._nodesMap[ua(t)]),t){for(h="out"===i?"outEdges":"in"===i?"inEdges":"edges",u=0;u<this.nodes.length;u++)this.nodes[u].__visited=!1;if(!n.call(r,t,null))for(e=[t];e.length;)for(var s=e.shift(),c=s[h],u=0;u<c.length;u++)if(o=c[u],f=o.node1===s?o.node2:o.node1,!f.__visited){if(n.call(r,f,s))return;e.push(f);f.__visited=!0}}};lr.update=function(){for(var f=this.data,i=this.edgeData,u=this.nodes,r=this.edges,n=0,t=u.length;n<t;n++)u[n].dataIndex=-1;for(n=0,t=f.count();n<t;n++)u[f.getRawIndex(n)].dataIndex=n;for(i.filterSelf(function(n){var t=r[i.getRawIndex(n)];return t.node1.dataIndex>=0&&t.node2.dataIndex>=0}),n=0,t=r.length;n<t;n++)r[n].dataIndex=-1;for(n=0,t=i.count();n<t;n++)r[i.getRawIndex(n)].dataIndex=n};lr.clone=function(){for(var t,i=new vv(this._directed),r=this.nodes,u=this.edges,n=0;n<r.length;n++)i.addNode(r[n].id,r[n].dataIndex);for(n=0;n<u.length;n++)t=u[n],i.addEdge(t.node1.id,t.node2.id,t.dataIndex);return i};ku.prototype={constructor:ku,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(n){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(n)}};ap.prototype.getModel=function(n){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(n)};apt=function(n,t){return{getValue:function(i){var r=this[n][t];return r.get(r.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,r){this.dataIndex>=0&&this[n][t].setItemVisual(this.dataIndex,i,r)},getVisual:function(i,r){return this[n][t].getItemVisual(this.dataIndex,i,r)},setLayout:function(i,r){this.dataIndex>=0&&this[n][t].setItemLayout(this.dataIndex,i,r)},getLayout:function(){return this[n][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][t].getRawIndex(this.dataIndex)}}};ft(ku,apt("hostGraph","data"));ft(ap,apt("hostGraph","edgeData"));vv.Node=ku;vv.Edge=ap;lk(ku);lk(ap);var abi=function(n,t,i,r,u){for(var o,h,c,l,d,a,e=new vv(r),f=0;f<n.length;f++)e.addNode(li(n[f].id,n[f].name,f),f);for(var v=[],y=[],p=0,f=0;f<t.length;f++){var s=t[f],w=s.source,k=s.target;e.addEdge(w,k,p)&&(y.push(s),v.push(li(s.id,w+" > "+k)),p++)}return h=i.get("coordinateSystem"),"cartesian2d"===h||"polar"===h?o=ke(n,i):(c=ir.get(h),l=c&&"view"!==c.type?c.dimensions||[]:[],b(l,"value")<0&&l.concat(["value"]),d=ac(n,{coordDimensions:l}),(o=new hi(d,i)).initData(n)),a=new hi(["value"],i),a.initData(y,v),u&&u(o,a),eei({mainData:o,struct:e,structAttr:"graph",datas:{node:o,edge:a},datasAttr:{node:"data",edge:"edgeData"}}),e.update(),e},nb=tp({type:"series.graph",init:function(n){nb.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(n.edges||n.links);this._updateCategoriesData()},mergeOption:function(n){nb.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(n.edges||n.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(n){nb.superApply(this,"mergeDefaultAndTheme",arguments);fh(n,["edgeLabel"],["show"])},getInitialData:function(n,t){var r=n.edges||n.links||[],u=n.data||n.nodes||[],i=this;if(u&&r)return abi(u,r,this,!0,function(n,r){function e(n){return(n=this.parsePath(n))&&"label"===n[0]?o:n&&"emphasis"===n[0]&&"label"===n[1]?s:this.parentModel}n.wrapMethod("getItemModel",function(n){var t=i._categoriesModels[n.getShallow("category")];return t&&(t.parentModel=n.parentModel,n.parentModel=t),n});var u=i.getModel("edgeLabel"),o=new tt({label:u.option},u.parentModel,t),f=i.getModel("emphasis.edgeLabel"),s=new tt({emphasis:{label:f.option}},f.parentModel,t);r.wrapMethod("getItemModel",function(n){return n.customizeGetParent(e),n})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(n,t,i){if("edge"===i){var u=this.getData(),f=this.getDataParams(n,i),e=u.graph.getEdgeByIndex(n),o=u.getName(e.node1.dataIndex),s=u.getName(e.node2.dataIndex),r=[];return null!=o&&r.push(o),null!=s&&r.push(s),r=wt(r.join(" > ")),f.value&&(r+=" : "+wt(f.value)),r}return nb.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=r(this.option.categories||[],function(n){return null!=n.value?n:e({value:0},n)}),n=new hi(["value"],this);n.initData(t);this._categoriesData=n;this._categoriesModels=n.mapArray(function(t){return n.getItemModel(t,!0)})},setZoom:function(n){this.option.zoom=n},setCenter:function(n){this.option.center=n},isAnimationEnabled:function(){return nb.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),vbi=hu.prototype,vpt=lvt.prototype,buu=hf({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(n,t){(uht(t)?vbi:vpt).buildPath(n,t)},pointAt:function(n){return uht(this.shape)?vbi.pointAt.call(this,n):vpt.pointAt.call(this,n)},tangentAt:function(n){var t=this.shape,i=uht(t)?[t.x2-t.x1,t.y2-t.y1]:vpt.tangentAt.call(this,n);return al(i,i)}}),ypt=["fromSymbol","toSymbol"],vs=vp.prototype;vs.beforeUpdate=function(){var v=this,c=v.childOfName("fromSymbol"),l=v.childOfName("toSymbol"),i=v.childOfName("label"),r,o,u,t,y,p,w,f,b;if(c||l||!i.ignore){for(r=1,o=this.parent;o;)o.scale&&(r/=o.scale[0]),o=o.parent;if(u=v.childOfName("line"),this.__dirty||u.__dirty){var s=u.shape.percent,a=u.pointAt(0),h=u.pointAt(s),n=he([],h,a);if((al(n,n),c&&(c.attr("position",a),t=u.tangentAt(0),c.attr("rotation",Math.PI/2-Math.atan2(t[1],t[0])),c.attr("scale",[r*s,r*s])),l)&&(l.attr("position",h),t=u.tangentAt(1),l.attr("rotation",-Math.PI/2-Math.atan2(t[1],t[0])),l.attr("scale",[r*s,r*s])),!i.ignore){if(i.attr("position",h),f=5*r,"end"===i.__position)y=[n[0]*f+h[0],n[1]*f+h[1]],p=n[0]>.8?"left":n[0]<-.8?"right":"center",w=n[1]>.8?"top":n[1]<-.8?"bottom":"middle";else if("middle"===i.__position){var k=s/2,e=[(t=u.tangentAt(k))[1],-t[0]],d=u.pointAt(k);e[1]>0&&(e[0]=-e[0],e[1]=-e[1]);y=[d[0]+e[0]*f,d[1]+e[1]*f];p="center";w="bottom";b=-Math.atan2(t[1],t[0]);h[0]<a[0]&&(b=Math.PI+b);i.attr("rotation",b)}else y=[-n[0]*f+a[0],-n[1]*f+a[1]],p=n[0]>.8?"right":n[0]<-.8?"left":"center",w=n[1]>.8?"bottom":n[1]<-.8?"top":"middle";i.attr({style:{textVerticalAlign:i.__verticalAlign||w,textAlign:i.__textAlign||p},position:y,scale:[r,r]})}}}};vs._createLine=function(n,i,r){var e=n.hostModel,u=ylr(n.getItemLayout(i)),f;u.shape.percent=0;tr(u,{shape:{percent:1}},e,i);this.add(u);f=new d({name:"label"});this.add(f);t(ypt,function(t){var r=roi(t,n,i);this.add(r);this[ioi(t)]=n.getItemVisual(i,t)},this);this._updateCommonStl(n,i,r)};vs.updateData=function(n,i,r){var f=n.hostModel,e=this.childOfName("line"),o=n.getItemLayout(i),u={shape:{}};fht(u.shape,o);p(e,u,f,i);t(ypt,function(t){var r=n.getItemVisual(i,t),u=ioi(t),f;this[u]!==r&&(this.remove(this.childOfName(t)),f=roi(t,n,i),this.add(f));this[u]=r},this);this._updateCommonStl(n,i,r)};vs._updateCommonStl=function(n,i,r){var a=n.hostModel,k=this.childOfName("line"),v=r&&r.lineStyle,d=r&&r.hoverLineStyle,h=r&&r.labelModel,u=r&&r.hoverLabelModel,e,c,y,s;(!r||n.hasItemOption)&&(e=n.getItemModel(i),v=e.getModel("lineStyle").getLineStyle(),d=e.getModel("emphasis.lineStyle").getLineStyle(),h=e.getModel("label"),u=e.getModel("emphasis.label"));c=n.getItemVisual(i,"color");y=th(n.getItemVisual(i,"opacity"),v.opacity,1);k.useStyle(o({strokeNoScale:!0,fill:"none",stroke:c,opacity:y},v));k.hoverStyle=d;t(ypt,function(n){var t=this.childOfName(n);t&&(t.setColor(c),t.setStyle({opacity:y}))},this);var g,l,p=h.getShallow("show"),w=u.getShallow("show"),f=this.childOfName("label");(p||w)&&(g=c||"#000",null==(l=a.getFormattedLabel(i,"normal",n.dataType)))&&(s=a.getRawValue(i),l=null==s?n.getName(i):isFinite(s)?ai(s):s);var nt=p?l:null,b=w?oi(a.getFormattedLabel(i,"emphasis",n.dataType),l):null,tt=f.style;null==nt&&null==b||(kt(f.style,h,{text:nt},{autoColor:g}),f.__textAlign=tt.textAlign,f.__verticalAlign=tt.textVerticalAlign,f.__position=h.get("position")||"middle");f.hoverStyle=null!=b?{text:b,textFill:u.getTextColor(!0),fontStyle:u.getShallow("fontStyle"),fontWeight:u.getShallow("fontWeight"),fontSize:u.getShallow("fontSize"),fontFamily:u.getShallow("fontFamily")}:{text:null};f.ignore=!p&&!w;at(this)};vs.highlight=function(){this.trigger("emphasis")};vs.downplay=function(){this.trigger("normal")};vs.updateLayout=function(n,t){this.setLinePoints(n.getItemLayout(t))};vs.setLinePoints=function(n){var t=this.childOfName("line");fht(t.shape,n);t.dirty()};ot(vp,f);ys=wd.prototype;ys.isPersistent=function(){return!0};ys.updateData=function(n){var t=this,u=t.group,i=t._lineData,r;t._lineData=n;i||u.removeAll();r=uoi(n);n.diff(i).add(function(i){plr(t,n,i,r)}).update(function(u,f){wlr(t,i,n,f,u,r)}).remove(function(n){u.remove(i.getItemGraphicEl(n))}).execute()};ys.updateLayout=function(){var n=this._lineData;n&&n.eachItemGraphicEl(function(t,i){t.updateLayout(n,i)},this)};ys.incrementalPrepareUpdate=function(n){this._seriesScope=uoi(n);this._lineData=null;this.group.removeAll()};ys.incrementalUpdate=function(n,t){for(var r,i=n.start;i<n.end;i++)eht(t.getItemLayout(i))&&(r=new this._ctor(t,i,this._seriesScope),r.traverse(function(n){n.isGroup||(n.incremental=n.useHoverLayer=!0)}),this.group.add(r),t.setItemGraphicEl(i,r))};ys.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};ys._clearIncremental=function(){var n=this._incremental;n&&n.clearDisplaybles()};var ppt=[],wpt=[],bpt=[],yv=nr,kpt=rs,ybi=Math.abs,dpt=function(n,t){function e(n){var t=n.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),t}var r=[],o=uet,i=[[],[],[]],u=[[],[]],f=[];t/=2;n.eachEdge(function(n){var s=n.getLayout(),a=n.getVisual("fromSymbol"),v=n.getVisual("toSymbol"),h,c,l;s.__original||(s.__original=[yu(s[0]),yu(s[1])],s[2]&&s.__original.push(yu(s[2])));h=s.__original;null!=s[2]?((wi(i[0],h[0]),wi(i[1],h[2]),wi(i[2],h[1]),a&&"none"!=a)&&(c=e(n.node1),l=eoi(i,h[0],c*t),o(i[0][0],i[1][0],i[2][0],l,r),i[0][0]=r[3],i[1][0]=r[4],o(i[0][1],i[1][1],i[2][1],l,r),i[0][1]=r[3],i[1][1]=r[4]),v&&"none"!=v&&(c=e(n.node2),l=eoi(i,h[1],c*t),o(i[0][0],i[1][0],i[2][0],l,r),i[1][0]=r[1],i[2][0]=r[2],o(i[0][1],i[1][1],i[2][1],l,r),i[1][1]=r[1],i[2][1]=r[2]),wi(s[0],i[0]),wi(s[1],i[2]),wi(s[2],i[1])):((wi(u[0],h[0]),wi(u[1],h[1]),he(f,u[1],u[0]),al(f,f),a&&"none"!=a)&&(c=e(n.node1),iy(u[0],u[0],f,c*t)),v&&"none"!=v&&(c=e(n.node2),iy(u[1],u[1],f,-c*t)),wi(s[0],u[0]),wi(s[1],u[1]))})},dc=["itemStyle","opacity"],vrt=["lineStyle","opacity"];fr({type:"graph",init:function(n,t){var r=new ta,u=new wd,i=this.group;this._controller=new sp(t.getZr());this._controllerHost={target:i};i.add(r.group);i.add(u.group);this._symbolDraw=r;this._lineDraw=u;this._firstRender=!0},render:function(n,t,i){var f=n.coordinateSystem,e,r,h,u,o;this._model=n;this._nodeScaleRatio=n.get("nodeScaleRatio");var l=this._symbolDraw,a=this._lineDraw,s=this.group;"view"===f.type&&(e={position:f.position,scale:f.scale},this._firstRender?s.attr(e):p(s,e,n));dpt(n.getGraph(),this._getNodeGlobalScale(n));r=n.getData();l.updateData(r);h=n.getEdgeData();a.updateData(h);this._updateNodeAndLinkScale();this._updateController(n,t,i);clearTimeout(this._layoutTimeout);u=n.forceLayout;o=n.get("force.layoutAnimation");u&&this._startForceLayoutIteration(u,o);r.eachItemGraphicEl(function(t,f){var s=r.getItemModel(f),e;t.off("drag").off("dragend");e=r.getItemModel(f).get("draggable");e&&t.on("drag",function(){u&&(u.warmUp(),!this._layouting&&this._startForceLayoutIteration(u,o),u.setFixed(f),r.setItemLayout(f,t.position))},this).on("dragend",function(){u&&u.setUnfixed(f)},this);t.setDraggable(e&&u);t.off("mouseover",t.__focusNodeAdjacency);t.off("mouseout",t.__unfocusNodeAdjacency);s.get("focusNodeAdjacency")&&(t.on("mouseover",t.__focusNodeAdjacency=function(){i.dispatchAction({type:"focusNodeAdjacency",seriesId:n.id,dataIndex:t.dataIndex})}),t.on("mouseout",t.__unfocusNodeAdjacency=function(){i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:n.id})}))},this);r.graph.eachEdge(function(t){var r=t.getGraphicEl();r.off("mouseover",r.__focusNodeAdjacency);r.off("mouseout",r.__unfocusNodeAdjacency);t.getModel().get("focusNodeAdjacency")&&(r.on("mouseover",r.__focusNodeAdjacency=function(){i.dispatchAction({type:"focusNodeAdjacency",seriesId:n.id,edgeDataIndex:t.dataIndex})}),r.on("mouseout",r.__unfocusNodeAdjacency=function(){i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:n.id})}))});var v="circular"===n.get("layout")&&n.get("circular.rotateLabel"),c=r.getLayout("cx"),y=r.getLayout("cy");r.eachItemGraphicEl(function(n,t){var u=n.getSymbolPath(),f,i,e,o;v?(f=r.getItemLayout(t),i=Math.atan2(f[1]-y,f[0]-c),i<0&&(i=2*Math.PI+i),e=f[0]<c,e&&(i-=Math.PI),o=e?"left":"right",u.setStyle({textRotation:-i,textPosition:o,textOrigin:"center"}),u.hoverStyle&&(u.hoverStyle.textPosition=o)):u.setStyle({textRotation:0})});this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={}},focusNodeAdjacency:function(n,i,r,u){var e=this._model.getData().graph,s=u.dataIndex,h=u.edgeDataIndex,o=e.getNodeByIndex(s),f=e.getEdgeByIndex(h);(o||f)&&(e.eachNode(function(n){bd(n,dc,.1)}),e.eachEdge(function(n){bd(n,vrt,.1)}),o&&(ph(o,dc),t(o.edges,function(n){n.dataIndex<0||(ph(n,vrt),ph(n.node1,dc),ph(n.node2,dc))})),f&&(ph(f,vrt),ph(f.node1,dc),ph(f.node2,dc)))},unfocusNodeAdjacency:function(){var n=this._model.getData().graph;n.eachNode(function(n){bd(n,dc)});n.eachEdge(function(n){bd(n,vrt)})},_startForceLayoutIteration:function(n,t){var i=this;!function r(){n.step(function(n){i.updateLayout(i._model);(i._layouting=!n)&&(t?i._layoutTimeout=setTimeout(r,16):r())})}()},_updateController:function(n,t,i){var r=this._controller,u=this._controllerHost,f=this.group;r.setPointerChecker(function(t,r,u){var e=f.getBoundingRect();return e.applyTransform(f.transform),e.contain(r,u)&&!ast(t,i,n)});"view"===n.coordinateSystem.type?(r.enable(n.get("roam")),u.zoomLimit=n.get("scaleLimit"),u.zoom=n.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",function(t,r){tei(u,t,r);i.dispatchAction({seriesId:n.id,type:"graphRoam",dx:t,dy:r})}).on("zoom",function(t,r,f){iei(u,t,r,f);i.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:t,originX:r,originY:f});this._updateNodeAndLinkScale();dpt(n.getGraph(),this._getNodeGlobalScale(n));this._lineDraw.updateLayout()},this)):r.disable()},_updateNodeAndLinkScale:function(){var n=this._model,i=n.getData(),t=this._getNodeGlobalScale(n),r=[t,t];i.eachItemGraphicEl(function(n){n.attr("scale",r)})},_getNodeGlobalScale:function(n){var t=n.coordinateSystem;if("view"!==t.type)return 1;var r=this._nodeScaleRatio,i=t.scale,u=i&&i[0]||1;return((t.getZoom()-1)*r+1)/u},updateLayout:function(n){dpt(n.getGraph(),this._getNodeGlobalScale(n));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}});it({type:"graphRoam",event:"graphRoam",update:"none"},function(n,t){t.eachComponent({mainType:"series",query:n},function(t){var i=fei(t.coordinateSystem,n);t.setCenter&&t.setCenter(i.center);t.setZoom&&t.setZoom(i.zoom)})});it({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){});it({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});gc=iy;pr(function(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),r=n.getGraph().data,u=i.mapArray(i.getName);r.filterSelf(function(n){var i=r.getItemModel(n).getShallow("category"),f;if(null!=i)for("number"==typeof i&&(i=u[i]),f=0;f<t.length;f++)if(!t[f].isSelected(i))return!1;return!0})},this)});vt(pc("graph","circle",null));vt(function(n){var t={};n.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),r=n.getData(),u={};i.each(function(r){var f=i.getName(r),e;u["ec-"+f]=r;e=i.getItemModel(r).get("itemStyle.color")||n.getColorFromPalette(f,t);i.setItemVisual(r,"color",e)});i.count()&&r.each(function(n){var t=r.getItemModel(n).getShallow("category");null!=t&&("string"==typeof t&&(t=u["ec-"+t]),r.getItemVisual(n,"color",!0)||r.setItemVisual(n,"color",i.getItemVisual(t,"color")))})})});vt(function(n){n.eachSeriesByType("graph",function(n){var e=n.getGraph(),t=n.getEdgeData(),i=kd(n.get("edgeSymbol")),r=kd(n.get("edgeSymbolSize")),u="lineStyle.color".split("."),f="lineStyle.opacity".split(".");t.setVisual("fromSymbol",i&&i[0]);t.setVisual("toSymbol",i&&i[1]);t.setVisual("fromSymbolSize",r&&r[0]);t.setVisual("toSymbolSize",r&&r[1]);t.setVisual("color",n.get(u));t.setVisual("opacity",n.get(f));t.each(function(n){var r=t.getItemModel(n),i=e.getEdgeByIndex(n),o=kd(r.getShallow("symbol",!0)),s=kd(r.getShallow("symbolSize",!0)),h=r.get(u),c=r.get(f);switch(h){case"source":h=i.node1.getVisual("color");break;case"target":h=i.node2.getVisual("color")}o[0]&&i.setVisual("fromSymbol",o[0]);o[1]&&i.setVisual("toSymbol",o[1]);s[0]&&i.setVisual("fromSymbolSize",s[0]);s[1]&&i.setVisual("toSymbolSize",s[1]);i.setVisual("color",h);i.setVisual("opacity",c)})})});bt(function(n){n.eachSeriesByType("graph",function(n){var s=n.get("layout"),f=n.coordinateSystem,i,u,r,o;if(f&&"view"!==f.type){for(i=n.getData(),u=[],t(f.dimensions,function(n){u=u.concat(i.mapDimension(n,!0))}),r=0;r<i.count();r++){for(var h=[],c=!1,e=0;e<u.length;e++)o=i.get(u[e],r),isNaN(o)||(c=!0),h.push(o);c?i.setItemLayout(r,f.dataToPoint(h)):i.setItemLayout(r,[NaN,NaN])}hoi(i.graph)}else s&&"none"!==s||soi(n)})});bt(function(n){n.eachSeriesByType("graph",function(n){"circular"===n.get("layout")&&coi(n)})});bt(function(n){n.eachSeriesByType("graph",function(n){var h=n.coordinateSystem;if(!h||"view"===h.type)if("force"===n.get("layout")){var c=n.preservedPoints||{},f=n.getGraph(),r=f.data,a=f.edgeData,o=n.getModel("force"),l=o.get("initLayout");n.preservedPoints?r.each(function(n){var t=r.getId(n);r.setItemLayout(n,c[t]||[NaN,NaN])}):l&&"none"!==l?"circular"===l&&coi(n):soi(n);var v=r.getDataExtent("value"),y=a.getDataExtent("value"),u=o.get("repulsion"),t=o.get("edgeLength");i(u)||(u=[u,u]);i(t)||(t=[t,t]);t=[t[1],t[0]];var e=r.mapArray("value",function(n,t){var i=r.getItemLayout(t),f=dt(n,v,u);return isNaN(f)&&(f=(u[0]+u[1])/2),{w:f,rep:f,fixed:r.getItemModel(t).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),p=a.mapArray("value",function(n,i){var r=f.getEdgeByIndex(i),u=dt(n,y,t);return isNaN(u)&&(u=(t[0]+t[1])/2),{n1:e[r.node1.dataIndex],n2:e[r.node2.dataIndex],d:u,curveness:r.getModel().get("lineStyle.curveness")||0}}),w=(h=n.coordinateSystem).getBoundingRect(),s=blr(e,p,{rect:w,gravity:o.get("gravity")}),b=s.step;s.step=function(n){for(var t=0,i=e.length;t<i;t++)e[t].fixed&&wi(e[t].p,f.getNodeByIndex(t).getLayout());b(function(t,i,u){for(var e=0,a=t.length;e<a;e++)t[e].fixed||f.getNodeByIndex(e).setLayout(t[e].p),c[r.getId(e)]=t[e].p;for(e=0,a=i.length;e<a;e++){var s=i[e],v=f.getEdgeByIndex(e),h=s.n1.p,l=s.n2.p,o=v.getLayout();(o=o?o.slice():[])[0]=o[0]||[];o[1]=o[1]||[];wi(o[0],h);wi(o[1],l);+s.curveness&&(o[2]=[(h[0]+l[0])/2-(h[1]-l[1])*s.curveness,(h[1]+l[1])/2-(l[0]-h[0])*s.curveness]);v.setLayout(o)}n&&n(u)})};n.forceLayout=s;n.preservedPoints=c;s.step()}else n.forceLayout=null})});lot("graphView",{create:function(n,t){var i=[];return n.eachSeriesByType("graph",function(n){var s=n.get("coordinateSystem"),o,u;if(!s||"view"===s){var h=n.getData(),r=[],f=[];dgt(h.mapArray(function(n){var t=h.getItemModel(n);return[+t.get("x"),+t.get("y")]}),r,f);f[0]-r[0]==0&&(f[0]+=1,r[0]-=1);f[1]-r[1]==0&&(f[1]+=1,r[1]-=1);o=(f[0]-r[0])/(f[1]-r[1]);u=klr(n,t,o);isNaN(o)&&(r=[u.x,u.y],f=[u.x+u.width,u.y+u.height]);var c=f[0]-r[0],l=f[1]-r[1],a=u.width,v=u.height,e=n.coordinateSystem=new ah;e.zoomLimit=n.get("scaleLimit");e.setBoundingRect(r[0],r[1],c,l);e.setViewRect(u.x,u.y,a,v);e.setCenter(n.get("center"));e.setZoom(n.get("zoom"));i.push(e)}}),i}});gt.extend({type:"series.gauge",getInitialData:function(n){var t=n.data||[];return i(t)||(t=[t]),n.data=t,cv(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var kuu=g.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(n,t){var u=Math.cos,f=Math.sin,e=t.r,i=t.width,r=t.angle,o=t.x-u(r)*i*(i>=e/3?1:2),s=t.y-f(r)*i*(i>=e/3?1:2);r=t.angle-Math.PI/2;n.moveTo(o,s);n.lineTo(t.x+u(r)*i,t.y+f(r)*i);n.lineTo(t.x+u(t.angle)*e,t.y+f(t.angle)*e);n.lineTo(t.x-u(r)*i,t.y-f(r)*i);n.lineTo(o,s)}}),duu=2*Math.PI,pbi=(vi.extend({type:"gauge",render:function(n,t,i){this.group.removeAll();var r=n.get("axisLine.lineStyle.color"),u=dlr(n,i);this._renderMain(n,t,i,r,u)},dispose:function(){},_renderMain:function(n,t,i,r,u){for(var v,c,o,y,p=this.group,l=n.getModel("axisLine").getModel("lineStyle"),s=n.get("clockwise"),f=-n.get("startAngle")/180*Math.PI,e=-n.get("endAngle")/180*Math.PI,w=(e-f)%duu,a=f,b=l.get("width"),h=0;h<r.length;h++)v=Math.min(Math.max(r[h][0],0),1),c=new to({shape:{startAngle:a,endAngle:e=f+w*v,cx:u.cx,cy:u.cy,clockwise:s,r0:u.r-b,r:u.r},silent:!0}),c.setStyle({fill:r[h][1]}),c.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),p.add(c),a=e;o=function(n){if(n<=0)return r[0][1];for(var t=0;t<r.length;t++)if(r[t][0]>=n&&(0===t?0:r[t-1][0])<n)return r[t][1];return r[t-1][1]};s||(y=f,f=e,e=y);this._renderTicks(n,t,i,o,u,f,e,s);this._renderPointer(n,t,i,o,u,f,e,s);this._renderTitle(n,t,i,o,u);this._renderDetail(n,t,i,o,u)},_renderTicks:function(n,t,i,r,f,e,o){for(var h,c,rt,g,nt=this.group,y=f.cx,p=f.cy,s=f.r,ut=+n.get("min"),at=+n.get("max"),tt=n.getModel("splitLine"),w=n.getModel("axisTick"),b=n.getModel("axisLabel"),l=n.get("splitNumber"),it=w.get("splitNumber"),k=u(tt.get("length"),s),ft=u(w.get("length"),s),a=e,et=(o-e)/l,ot=et/it,st=tt.getModel("lineStyle").getLineStyle(),ht=w.getModel("lineStyle").getLineStyle(),v=0;v<=l;v++){if(h=Math.cos(a),c=Math.sin(a),tt.get("show")&&(rt=new hu({shape:{x1:h*s+y,y1:c*s+p,x2:h*(s-k)+y,y2:c*(s-k)+p},style:st,silent:!0}),"auto"===st.stroke&&rt.setStyle({stroke:r(v/l)}),nt.add(rt)),b.get("show")){var vt=loi(ai(v/l*(at-ut)+ut),b.get("formatter")),ct=b.get("distance"),yt=r(v/l);nt.add(new d({style:kt({},b,{text:vt,x:h*(s-k-ct)+y,y:c*(s-k-ct)+p,textVerticalAlign:c<-.4?"top":c>.4?"bottom":"middle",textAlign:h<-.4?"left":h>.4?"right":"center"},{autoColor:yt}),silent:!0}))}if(w.get("show")&&v!==l){for(g=0;g<=it;g++){var h=Math.cos(a),c=Math.sin(a),lt=new hu({shape:{x1:h*s+y,y1:c*s+p,x2:h*(s-ft)+y,y2:c*(s-ft)+p},silent:!0,style:ht});"auto"===ht.stroke&&lt.setStyle({stroke:r((v+g/it)/l)});nt.add(lt);a+=ot}a-=ot}else a+=et}},_renderPointer:function(n,t,i,r,f,e,o){var c=this.group,h=this._data;if(n.get("pointer.show")){var l=[+n.get("min"),+n.get("max")],v=[e,o],s=n.getData(),a=s.mapDimension("value");s.diff(h).add(function(t){var i=new kuu({shape:{angle:e}});tr(i,{shape:{angle:dt(s.get(a,t),l,v,!0)}},n);c.add(i);s.setItemGraphicEl(t,i)}).update(function(t,i){var r=h.getItemGraphicEl(i);p(r,{shape:{angle:dt(s.get(a,t),l,v,!0)}},n);c.add(r);s.setItemGraphicEl(t,r)}).remove(function(n){var t=h.getItemGraphicEl(n);c.remove(t)}).execute();s.eachItemGraphicEl(function(n,t){var i=s.getItemModel(t),e=i.getModel("pointer");n.setShape({x:f.cx,y:f.cy,width:u(e.get("width"),f.r),r:u(e.get("length"),f.r)});n.useStyle(i.getModel("itemStyle").getItemStyle());"auto"===n.style.fill&&n.setStyle("fill",r(dt(s.get(a,t),l,[0,1],!0)));at(n,i.getModel("emphasis.itemStyle").getItemStyle())});this._data=s}else h&&h.eachItemGraphicEl(function(n){c.remove(n)})},_renderTitle:function(n,t,i,r,f){var o=n.getData(),h=o.mapDimension("value"),e=n.getModel("title");if(e.get("show")){var s=e.get("offsetCenter"),c=f.cx+u(s[0],f.r),l=f.cy+u(s[1],f.r),a=+n.get("min"),v=+n.get("max"),y=r(dt(n.getData().get(h,0),[a,v],[0,1],!0));this.group.add(new d({silent:!0,style:kt({},e,{x:c,y:l,text:o.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:y,forceRich:!0})}))}},_renderDetail:function(n,t,i,r,f){var e=n.getModel("detail"),a=+n.get("min"),v=+n.get("max");if(e.get("show")){var o=e.get("offsetCenter"),y=f.cx+u(o[0],f.r),p=f.cy+u(o[1],f.r),s=u(e.get("width"),f.r),h=u(e.get("height"),f.r),c=n.getData(),l=c.get(c.mapDimension("value"),0),w=r(dt(l,[a,v],[0,1],!0));this.group.add(new d({silent:!0,style:kt({},e,{x:y,y:p,text:loi(l,e.get("formatter")),textWidth:isNaN(s)?null:s,textHeight:isNaN(h)?null:h,textAlign:"center",textVerticalAlign:"middle"},{autoColor:w,forceRich:!0})}))}}}),tp({type:"series.funnel",init:function(n){pbi.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this._defaultLabelLine(n)},getInitialData:function(){return cv(this,["value"])},_defaultLabelLine:function(n){fh(n,"labelLine",["show"]);var t=n.labelLine,i=n.emphasis.labelLine;t.show=t.show&&n.label.show;i.show=i.show&&n.emphasis.label.show},getDataParams:function(n){var t=this.getData(),i=pbi.superCall(this,"getDataParams",n),r=t.mapDimension("value"),u=t.getSum(r);return i.percent=u?+(t.get(r,n)/u*100).toFixed(2):0,i.$vars.push("percent"),i},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}})),wbi=oht.prototype,guu=["itemStyle","opacity"];wbi.updateData=function(n,t,i){var r=this.childAt(0),e=n.hostModel,c=n.getItemModel(t),s=n.getItemLayout(t),u=n.getItemModel(t).get(guu),f,h;u=null==u?1:u;r.useStyle({});i?(r.setShape({points:s.points}),r.setStyle({opacity:0}),tr(r,{style:{opacity:u}},e,t)):p(r,{style:{opacity:u},shape:{points:s.points}},e,t);f=c.getModel("itemStyle");h=n.getItemVisual(t,"color");r.setStyle(o({lineJoin:"round",fill:h},f.getItemStyle(["opacity"])));r.hoverStyle=f.getModel("emphasis").getItemStyle();this._updateLabel(n,t);at(this)};wbi._updateLabel=function(n,t){var r=this.childAt(1),u=this.childAt(2),e=n.hostModel,f=n.getItemModel(t),i=n.getItemLayout(t).label,o=n.getItemVisual(t,"color");p(r,{shape:{points:i.linePoints||i.linePoints}},e,t);p(u,{style:{x:i.x,y:i.y}},e,t);u.attr({rotation:i.rotation,origin:[i.x,i.y],z2:10});var s=f.getModel("label"),h=f.getModel("emphasis.label"),c=f.getModel("labelLine"),l=f.getModel("emphasis.labelLine"),o=n.getItemVisual(t,"color");uu(u.style,u.hoverStyle={},s,h,{labelFetcher:n.hostModel,labelDataIndex:t,defaultText:n.getName(t),autoColor:o,useInsideStyle:!!i.inside},{textAlign:i.textAlign,textVerticalAlign:i.verticalAlign});u.ignore=u.normalIgnore=!s.get("show");u.hoverIgnore=!h.get("show");r.ignore=r.normalIgnore=!c.get("show");r.hoverIgnore=!l.get("show");r.setStyle({stroke:o});r.setStyle(c.getModel("lineStyle").getLineStyle());r.hoverStyle=l.getModel("lineStyle").getLineStyle()};ot(oht,f);vi.extend({type:"funnel",render:function(n){var t=n.getData(),i=this._data,r=this.group;t.diff(i).add(function(n){var i=new oht(t,n);t.setItemGraphicEl(n,i);r.add(i)}).update(function(n,u){var f=i.getItemGraphicEl(u);f.updateData(t,n);r.add(f);t.setItemGraphicEl(n,f)}).remove(function(n){var t=i.getItemGraphicEl(n);r.remove(t)}).execute();this._data=t},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});vt(irt("funnel"));bt(function(n,t){n.eachSeriesByType("funnel",function(n){var r=n.getData(),p=r.mapDimension("value"),c=n.get("sort"),i=glr(n,t),e=nar(r,c),g=[u(n.get("minSize"),i.width),u(n.get("maxSize"),i.width)],w=r.getDataExtent(p),l=n.get("min"),a=n.get("max"),o,k,d;null==l&&(l=Math.min(w[0],0));null==a&&(a=w[1]);var nt=n.get("funnelAlign"),s=n.get("gap"),v=(i.height-s*(r.count()-1))/r.count(),h=i.y,b=function(n,t){var u,f=dt(r.get(p,n)||0,[l,a],g,!0);switch(nt){case"left":u=i.x;break;case"center":u=i.x+(i.width-f)/2;break;case"right":u=i.x+i.width-f}return[[u,t],[u+f,t]]};for("ascending"===c&&(v=-v,s=-s,h+=i.height,e=e.reverse()),o=0;o<e.length;o++){var y=e[o],tt=e[o+1],f=r.getItemModel(y).get("itemStyle.height");null==f?f=v:(f=u(f,i.height),"ascending"===c&&(f=-f));k=b(y,h);d=b(tt,h+f);h+=f+s;r.setItemLayout(y,{points:k.concat(d.slice().reverse())})}tar(r)})});pr(ww("funnel"));tb=function(n,t,i,r,u){ri.call(this,n,t,i);this.type=r||"value";this.axisIndex=u};tb.prototype={constructor:tb,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}};ot(tb,ri);var pv=function(n,t,i,r,u,f){var c,o,h,s,e;return t[0]=dd(t[0],i),t[1]=dd(t[1],i),n=n||0,c=i[1]-i[0],null!=u&&(u=dd(u,[0,c])),null!=f&&(f=Math.max(f,null!=u?u:0)),"all"===r&&(u=f=Math.abs(t[1]-t[0]),r=0),o=sht(t,r),t[r]+=n,h=u||0,s=i.slice(),o.sign<0?s[0]+=h:s[1]-=h,t[r]=dd(t[r],s),e=sht(t,r),null!=u&&(e.sign!==o.sign||e.span<u)&&(t[1-r]=t[r]+o.sign*u),e=sht(t,r),null!=f&&e.span>f&&(t[1-r]=t[r]+e.sign*f),t},gpt=t,bbi=Math.min,kbi=Math.max,dbi=Math.floor,nfu=Math.ceil,gbi=ai,tfu=Math.PI;hht.prototype={type:"parallel",constructor:hht,_init:function(n,t){var i=n.dimensions,r=n.parallelAxisIndex;gpt(i,function(n,i){var e=r[i],u=t.getComponent("parallelAxis",e),f=this._axesMap.set(n,new tb(n,na(u),[0,0],u.get("type"),e)),o="category"===f.type;f.onBand=o&&u.get("boundaryGap");f.inverse=u.get("inverse");u.axis=f;f.model=u;f.coordinateSystem=u.coordinateSystem=this},this)},update:function(n){this._updateAxesFromSeries(this._model,n)},containPoint:function(n){var t=this._makeLayoutInfo(),i=t.axisBase,r=t.layoutBase,u=t.pixelDimIndex,f=n[1-u],e=n[u];return f>=i&&f<=i+t.axisLength&&e>=r&&e<=r+t.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(n,t){t.eachSeries(function(i){if(n.contains(i,t)){var r=i.getData();gpt(this.dimensions,function(n){var t=this._axesMap.get(n);t.scale.unionExtentFromData(r,r.mapDimension(n));go(t.scale,t.model)},this)}},this)},resize:function(n,t){this._rect=fi(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var i,r=this._model,o=this._rect,l=["x","y"],a=["width","height"],v=r.get("layout"),f="horizontal"===v?0:1,s=o[a[f]],c=[0,s],u=this.dimensions.length,t=gd(r.get("axisExpandWidth"),c),h=gd(r.get("axisExpandCount")||0,[0,u]),w=r.get("axisExpandable")&&u>3&&u>h&&h>1&&t>0&&s>0,n=r.get("axisExpandWindow"),e,y,p;return n?(i=gd(n[1]-n[0],c),n[1]=n[0]+i):(i=gd(t*(h-1),c),(n=[t*(r.get("axisExpandCenter")||dbi(u/2))-i/2])[1]=n[0]+i),e=(s-i)/(u-h),e<3&&(e=0),y=[dbi(gbi(n[0]/t,1))+1,nfu(gbi(n[1]/t,1))-1],p=e/t*n[0],{layout:v,pixelDimIndex:f,layoutBase:o[l[f]],layoutLength:s,axisBase:o[l[1-f]],axisLength:o[a[1-f]],axisExpandable:w,axisExpandWidth:t,axisCollapseWidth:e,axisExpandWindow:n,axisCount:u,winInnerIndices:y,axisExpandWindow0Pos:p}},_layoutAxes:function(){var i=this._rect,r=this._axesMap,u=this.dimensions,n=this._makeLayoutInfo(),t=n.layout;r.each(function(t){var i=[0,n.axisLength],r=t.inverse?1:0;t.setExtent(i[r],i[1-r])});gpt(u,function(r,u){var f=(n.axisExpandable?far:uar)(u,n),o={horizontal:{x:f.position,y:n.axisLength},vertical:{x:0,y:f.position}},c={horizontal:tfu/2,vertical:0},s=[o[t].x+i.x,o[t].y+i.y],h=c[t],e=iu();ao(e,e,h);ef(e,e,s);this._axesLayout[r]={position:s,rotation:h,transform:e,axisNameAvailableWidth:f.axisNameAvailableWidth,axisLabelShow:f.axisLabelShow,nameTruncateMaxWidth:f.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(n){return this._axesMap.get(n)},dataToPoint:function(n,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(n),t)},eachActiveState:function(n,i,r,u){var l,f,e;null==r&&(r=0);null==u&&(u=n.count());var a=this._axesMap,s=this.dimensions,h=[],c=[];for(t(s,function(t){h.push(n.mapDimension(t));c.push(a.get(t).model)}),l=this.hasAxisBrushed(),f=r;f<u;f++){if(l){e="active";for(var v=n.getValues(h,f),o=0,y=s.length;o<y;o++)if("inactive"===c[o].getActiveState(v[o])){e="inactive";break}}else e="normal";i(e,f)}},hasAxisBrushed:function(){for(var t=this.dimensions,r=this._axesMap,i=!1,n=0,u=t.length;n<u;n++)"normal"!==r.get(t[n]).model.getActiveState()&&(i=!0);return i},axisCoordToPoint:function(n,t){return lf([n,0],this._axesLayout[t].transform)},getAxisLayout:function(n){return h(this._axesLayout[n])},getSlidedAxisExpandWindow:function(n){var r=this._makeLayoutInfo(),l=r.pixelDimIndex,t=r.axisExpandWindow.slice(),i=t[1]-t[0],h=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(n))return{behavior:"none",axisExpandWindow:t};var u,f=n[l]-r.layoutBase-r.axisExpandWindow0Pos,o="slide",s=r.axisCollapseWidth,e=this._model.get("axisExpandSlideTriggerArea"),c=null!=e[0];return s?(c&&s&&f<i*e[0]?(o="jump",u=f-i*e[2]):c&&s&&f>i*(1-e[0])?(o="jump",u=f-i*(1-e[2])):(u=f-i*e[1])>=0&&(u=f-i*(1-e[1]))<=0&&(u=0),(u*=r.axisExpandWidth/s)?pv(u,t,h,"all"):o="none"):(i=t[1]-t[0],(t=[kbi(0,h[1]*f/i-i/2)])[1]=bbi(h[1],t[0]+i),t[0]=t[1]-i),{axisExpandWindow:t,behavior:o}}};ir.register("parallel",{create:function(n,t){var i=[];return n.eachComponent("parallel",function(r,u){var f=new hht(r,n,t);f.name="parallel_"+u;f.resize(r,t);r.coordinateSystem=f;f.model=r;i.push(f)}),n.eachSeries(function(t){if("parallel"===t.get("coordinateSystem")){var i=n.queryComponents({mainType:"parallel",index:t.get("parallelIndex"),id:t.get("parallelId")})[0];t.coordinateSystem=i.coordinateSystem}}),i}});nwt=nt.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return ba([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(n){var i=this.activeIntervals=h(n),t;if(i)for(t=i.length-1;t>=0;t--)sh(i[t])},getActiveState:function(n){var t=this.activeIntervals,r,i,u;if(!t.length)return"normal";if(null==n||isNaN(n))return"inactive";if(1===t.length){if(r=t[0],r[0]<=n&&n<=r[1])return"active"}else for(i=0,u=t.length;i<u;i++)if(t[i][0]<=n&&n<=t[i][1])return"active";return"inactive"}});nki={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};v(nwt.prototype,vc);ov("parallel",nwt,function(n,t){return t.type||(t.data?"category":"value")},nki);nt.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){nt.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(n){var t=this.option;n&&v(t,n,!0);this._initDimensions()},contains:function(n,t){var i=n.get("parallelIndex");return null!=i&&t.getComponent("parallel",i)===this},setAxisExpand:function(n){t(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){n.hasOwnProperty(t)&&(this.option[t]=n[t])},this)},_initDimensions:function(){var n=this.dimensions=[],i=this.parallelAxisIndex=[];t(ui(this.dependentModels.parallelAxis,function(n){return(n.get("parallelIndex")||0)===this.componentIndex},this),function(t){n.push("dim"+t.get("dim"));i.push(t.componentIndex)})}});it({type:"axisAreaSelect",event:"axisAreaSelected"},function(n,t){t.eachComponent({mainType:"parallelAxis",query:n},function(t){t.axis.model.setActiveIntervals(n.intervals)})});it("parallelAxisExpand",function(n,t){t.eachComponent({mainType:"parallel",query:n},function(t){t.setAxisExpand(n)})});var ps=l,fe=t,ifu=r,ib=Math.min,wv=Math.max,rfu=Math.pow,ufu=1e4,ffu=6,efu=6,tki="globalPan",ofu={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},sfu={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},iki={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},hfu=0;fa.prototype={constructor:fa,enableBrush:function(n){return this._brushType&&oar(this),n.brushType&&ear(this,n),this},setPanels:function(n){if(n&&n.length){var i=this._panels={};t(n,function(n){i[n.panelId]=h(n)})}else this._panels=null;return this},mount:function(n){n=n||{};this._enableGlobalPan=n.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:n.position||[0,0],rotation:n.rotation||0,scale:n.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(n,t){fe(this._covers,n,t)},updateCovers:function(n){function u(n,t){return(null!=n.id?n.id:s+t)+"-"+n.brushType}function f(r,u){var f=n[r],s;null!=u&&t[u]===o?e[r]=t[u]:(s=e[r]=null!=u?(t[u].__brushOption=f,t[u]):voi(i,aoi(i,f)),cht(i,s))}n=r(n,function(n){return v(h(iki),n,!0)});var s="\0-brush-index-",t=this._covers,e=this._covers=[],i=this,o=this._creatingCover;return new we(t,n,function(n,t){return u(n.__brushOption,t)},u).add(f).update(f).remove(function(n){t[n]!==o&&i.group.remove(t[n])}).execute(),this},unmount:function(){return this.enableBrush(!1),vht(this),this._zr.remove(this.group),this},dispose:function(){this.unmount();this.off()}};ft(fa,ei);var cfu={mousedown:function(n){if(this._dragging)usi.call(this,n);else if(!n.target||!n.target.draggable){kht(n);var t=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;(this._creatingPanel=aht(this,n,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(n){var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY),t;(aar(this,n,i),this._dragging)&&(kht(n),t=isi(this,n,i,!1),t&&wh(this,t))},mouseup:usi},yrt={lineX:fsi(0),lineY:fsi(1),rect:{createCover:function(n,t){return koi(ps(nsi,function(n){return n},function(n){return n}),n,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(n){var t=boi(n);return goi(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,i,r){doi(n,t,i,r)},updateCommon:yht,contain:dht},polygon:{createCover:function(n,t){var i=new f;return i.add(new gf({name:"main",style:pht(t),silent:!0})),i},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0));t.add(new gu({name:"main",draggable:!0,drift:ps(car,n,t),ondragend:ps(wh,n,{isEnd:!0})}))},updateCoverShape:function(n,t,i){t.childAt(0).setShape({points:bht(n,t,i)})},updateCommon:yht,contain:dht}},lfu=["axisLine","axisTickLabel","axisName"],afu=si({type:"parallelAxis",init:function(n,t){afu.superApply(this,"init",arguments);(this._brushController=new fa(t.getZr())).on("brush",c(this._onBrush,this))},render:function(n,i,r,u){var s,v;if(!yar(n,i,u)&&(this.axisModel=n,this.api=r,this.group.removeAll(),s=this._axisGroup,this._axisGroup=new f,this.group.add(this._axisGroup),n.get("show"))){var h=war(n,i),y=h.coordinateSystem,c=n.getAreaSelectStyle(),l=c.width,p=n.axis.dim,a=e({strokeContainThreshold:l},y.getAxisLayout(p)),o=new uf(n,a);t(lfu,o.add,o);this._axisGroup.add(o.getGroup());this._refreshBrushController(a,c,n,h,l,r);v=u&&!1===u.animation?null:n;set(s,this._axisGroup,v)}},_refreshBrushController:function(n,t,i,r,u,f){var o=i.axis.getExtent(),s=o[1]-o[0],h=Math.min(30,.1*Math.abs(s)),e=w.create({x:o[0],y:-u/2,width:s,height:u});e.x-=h;e.width+=2*h;this._brushController.mount({enableGlobalPan:!0,rotation:n.rotation,position:n.position}).setPanels([{panelId:"pl",clipPath:esi(e),isTargetByCursor:ssi(e,f,r),getLinearBrushOtherExtent:osi(e,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(par(i))},_onBrush:function(n,t){var i=this.axisModel,u=i.axis,f=r(n,function(n){return[u.coordToData(n.range[0],!0),u.coordToData(n.range[1],!0)]});(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:f})},dispose:function(){this._brushController.dispose()}});si({type:"parallel",render:function(n,i,r){this._model=n;this._api=r;this._handlers||(this._handlers={},t(rki,function(n,t){r.getZr().on(t,this._handlers[t]=c(n,this))},this));ky(this,"_throttledDispatchExpand",n.get("axisExpandRate"),"fixRate")},dispose:function(n,i){t(this._handlers,function(n,t){i.getZr().off(t,n)});this._handlers=null},_throttledDispatchExpand:function(n){this._dispatchExpand(n)},_dispatchExpand:function(n){n&&this._api.dispatchAction(e({type:"parallelAxisExpand"},n))}});rki={mousedown:function(n){nct(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var t=this._mouseDownPoint,i,r;if(nct(this,"click")&&t){if(i=[n.offsetX,n.offsetY],Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2)>5)return;r=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&nct(this,"mousemove")){var i=this._model,r=i.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),t=r.behavior;"jump"===t&&this._throttledDispatchExpand.debounceNextCall(i.get("axisExpandDebounce"));this._throttledDispatchExpand("none"===t?null:{axisExpandWindow:r.axisExpandWindow,animation:"jump"===t&&null})}}};ki(function(n){iar(n);rar(n)});gt.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(){var n=this.getSource();return bar(n,this),ke(n,this)},getRawIndicesByActiveState:function(n){var r=this.coordinateSystem,t=this.getData(),i=[];return r.eachActiveState(t,function(r,u){n===r&&i.push(t.getRawIndex(u))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});twt=.3;uki=(vi.extend({type:"parallel",init:function(){this._dataGroup=new f;this.group.add(this._dataGroup);this._data;this._initialized},render:function(n,t,i,r){var f=this._dataGroup,u=n.getData(),o=this._data,e=n.coordinateSystem,s=e.dimensions,h=lsi(n),c;(u.diff(o).add(function(n){tct(csi(u,f,n,s,e),u,n,h)}).update(function(t,i){var f=o.getItemGraphicEl(i),c=hsi(u,t,s,e);u.setItemGraphicEl(t,f);p(f,{shape:{points:c}},r&&!1===r.animation?null:n,t);tct(f,u,t,h)}).remove(function(n){var t=o.getItemGraphicEl(n);f.remove(t)}).execute(),this._initialized)||(this._initialized=!0,c=dar(e,n,function(){setTimeout(function(){f.removeClipPath()})}),f.setClipPath(c));this._data=u},incrementalPrepareRender:function(){this._initialized=!0;this._data=null;this._dataGroup.removeAll()},incrementalRender:function(n,t){for(var r,u=t.getData(),f=t.coordinateSystem,e=f.dimensions,o=lsi(t),i=n.start;i<n.end;i++)r=csi(u,this._dataGroup,i,e,f),r.incremental=!0,tct(r,u,i,o)},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}}),["lineStyle","normal","opacity"]);vt({seriesType:"parallel",reset:function(n,t){var r=n.getModel("itemStyle"),u=n.getModel("lineStyle"),i=t.get("color"),f=u.get("color")||r.get("color")||i[n.seriesIndex%i.length],e=n.get("inactiveOpacity"),o=n.get("activeOpacity"),s=n.getModel("lineStyle").getLineStyle(),h=n.coordinateSystem,c=n.getData(),l={normal:s.opacity,active:o,inactive:e};return c.setVisual("color",f),{progress:function(n,t){h.eachActiveState(t,function(n,i){var u=l[n],r;"normal"===n&&t.hasItemOption&&(r=t.getItemModel(i).get(uki,!0),null!=r&&(u=r));t.setItemVisual(i,"opacity",u)},n.start,n.end)}}}});fki=gt.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(n){var t=n.edges||n.links,i=n.data||n.nodes;if(i&&t)return abi(i,t,this,!0).data},setNodePosition:function(n,t){var i=this.option.data[n];i.localX=t[0];i.localY=t[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(n,t,i){if("edge"===i){var r=this.getDataParams(n,i),u=r.data,f=u.source+" -- "+u.target;return r.value&&(f+=" : "+r.value),wt(f)}return fki.superCall(this,"formatTooltip",n,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}});eki=hf({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(n,t){var i=t.extent/2;n.moveTo(t.x1,t.y1-i);n.bezierCurveTo(t.cpx1,t.cpy1-i,t.cpx2,t.cpy2-i,t.x2,t.y2-i);n.lineTo(t.x2,t.y2+i);n.bezierCurveTo(t.cpx2,t.cpy2+i,t.cpx1,t.cpy1+i,t.x1,t.y1+i);n.closePath()}});fr({type:"sankey",_model:null,render:function(n,t,i){var s=n.getGraph(),r=this.group,u=n.layoutInfo,f=u.width,e=u.height,o=n.getData(),h=n.getData("edge");this._model=n;r.removeAll();r.attr("position",[u.x,u.y]);s.eachEdge(function(t){var i=new eki;i.dataIndex=t.dataIndex;i.seriesIndex=n.seriesIndex;i.dataType="edge";var a=t.getModel("lineStyle"),o=a.get("curveness"),s=t.node1.getLayout(),v=t.node1.getModel(),y=v.get("localX"),p=v.get("localY"),w=t.node2.getLayout(),b=t.node2.getModel(),k=b.get("localX"),d=b.get("localY"),u=t.getLayout();i.shape.extent=Math.max(1,u.dy);var c=(null!=y?y*f:s.x)+s.dx,g=(null!=p?p*e:s.y)+u.sy+u.dy/2,l=null!=k?k*f:w.x,nt=(null!=d?d*e:w.y)+u.ty+u.dy/2,tt=c*(1-o)+l*o,it=g,rt=c*o+l*(1-o),ut=nt;switch(i.setShape({x1:c,y1:g,x2:l,y2:nt,cpx1:tt,cpy1:it,cpx2:rt,cpy2:ut}),i.setStyle(a.getItemStyle()),i.style.fill){case"source":i.style.fill=t.node1.getVisual("color");break;case"target":i.style.fill=t.node2.getVisual("color")}at(i,t.getModel("emphasis.lineStyle").getItemStyle());r.add(i);h.setItemGraphicEl(t.dataIndex,i)});s.eachNode(function(t){var s=t.getLayout(),u=t.getModel(),h=u.get("localX"),c=u.get("localY"),a=u.getModel("label"),v=u.getModel("emphasis.label"),i=new st({shape:{x:null!=h?h*f:s.x,y:null!=c?c*e:s.y,width:s.dx,height:s.dy},style:u.getModel("itemStyle").getItemStyle()}),l=t.getModel("emphasis.itemStyle").getItemStyle();uu(i.style,l,a,v,{labelFetcher:n,labelDataIndex:t.dataIndex,defaultText:t.id,isRectText:!0});i.setStyle("fill",t.getVisual("color"));at(i,l);r.add(i);o.setItemGraphicEl(t.dataIndex,i);i.dataType="node"});n.get("draggable")&&o.eachItemGraphicEl(function(t,r){t.drift=function(t,u){this.shape.x+=t;this.shape.y+=u;this.dirty();i.dispatchAction({type:"dragNode",seriesId:n.id,dataIndex:o.getRawIndex(r),localX:this.shape.x/f,localY:this.shape.y/e})};t.draggable=!0;t.cursor="move"});!this._data&&n.get("animation")&&r.setClipPath(nvr(r.getBoundingRect(),n,function(){r.removeClipPath()}));this._data=n.getData()},dispose:function(){}});it({type:"dragNode",event:"dragNode",update:"update"},function(n,t){t.eachComponent({mainType:"series",subType:"sankey",query:n},function(t){t.setNodePosition(n.dataIndex,[n.localX,n.localY])})});bt(function(n,t){n.eachSeriesByType("sankey",function(n){var f=n.get("nodeWidth"),e=n.get("nodeGap"),i=tvr(n,t);n.layoutInfo=i;var o=i.width,s=i.height,u=n.getGraph(),r=u.nodes,h=u.edges;rvr(r);ivr(r,h,f,e,o,s,0!==ui(r,function(n){return 0===n.getLayout().value}).length?0:n.get("layoutIterations"))})});vt(function(n){n.eachSeriesByType("sankey",function(n){var u=n.getGraph().nodes,i,r;u.length&&(i=1/0,r=-1/0,t(u,function(n){var t=n.getLayout().value;t<i&&(i=t);t>r&&(r=t)}),t(u,function(t){var f=new et({type:"color",mappingMethod:"linear",dataExtent:[i,r],visual:n.get("color")}).mapValueToVisual(t.getLayout().value),u;t.setVisual("color",f);u=t.getModel().get("itemStyle.color");null!=u&&t.setVisual("color",u)}))})});iwt={_baseAxisDim:null,getInitialData:function(n,r){var f,e,o=r.getComponent("xAxis",this.get("xAxisIndex")),s=r.getComponent("yAxis",this.get("yAxisIndex")),y=o.get("type"),p=s.get("type"),h,c;"category"===y?(n.layout="horizontal",f=o.getOrdinalMeta(),e=!0):"category"===p?(n.layout="vertical",f=s.getOrdinalMeta(),e=!0):n.layout=n.layout||"horizontal";var l=["x","y"],u="horizontal"===n.layout?0:1,w=this._baseAxisDim=l[u],b=l[1-u],a=[o,s],k=a[u].get("type"),d=a[1-u].get("type"),v=n.data;return v&&e&&(h=[],t(v,function(n,t){var r;n.value&&i(n.value)?(r=n.value.slice(),n.value.unshift(t)):i(n)?(r=n.slice(),n.unshift(t)):r=n;h.push(r)}),n.data=h),c=this.defaultValueDimensions,cv(this,{coordDimensions:[{name:w,type:rd(k),ordinalMeta:f,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:b,type:rd(d),dimsDef:c.slice()}],dimensionsCount:c.length+1})},getBaseAxis:function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis}};ft(gt.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}}),iwt,!0);var vfu=["itemStyle"],yfu=["emphasis","itemStyle"],pfu=(vi.extend({type:"boxplot",render:function(n){var t=n.getData(),i=this.group,r=this._data,u;this._data||i.removeAll();u="horizontal"===n.get("layout")?1:0;t.diff(r).add(function(n){if(t.hasValue(n)){var r=asi(t.getItemLayout(n),t,n,u,!0);t.setItemGraphicEl(n,r);i.add(r)}}).update(function(n,f){var e=r.getItemGraphicEl(f),o;t.hasValue(n)?(o=t.getItemLayout(n),e?vsi(o,e,t,n):e=asi(o,t,n,u),i.add(e),t.setItemGraphicEl(n,e)):i.remove(e)}).remove(function(n){var t=r.getItemGraphicEl(n);t&&i.remove(t)}).execute();this._data=t},remove:function(){var t=this.group,n=this._data;this._data=null;n&&n.eachItemGraphicEl(function(n){n&&t.remove(n)})},dispose:pi}),g.extend({type:"boxplotBoxPath",shape:{},buildPath:function(n,t){var r=t.points,i=0;for(n.moveTo(r[i][0],r[i][1]),i++;i<4;i++)n.lineTo(r[i][0],r[i][1]);for(n.closePath();i<r.length;i++)n.moveTo(r[i][0],r[i][1]),i++,n.lineTo(r[i][0],r[i][1])}})),oki=["itemStyle","borderColor"],rb=t;vt(function(n){var t=n.get("color");n.eachRawSeriesByType("boxplot",function(i){var u=t[i.seriesIndex%t.length],r=i.getData();r.setVisual({legendSymbol:"roundRect",color:i.get(oki)||u});n.isSeriesFiltered(i)||r.each(function(n){var t=r.getItemModel(n);r.setItemVisual(n,{color:t.get(oki,!0)})})})});bt(function(n){var t=dvr(n);rb(t,function(n){var t=n.seriesModels;t.length&&(gvr(n),rb(t,function(t,i){nyr(t,n.boxOffsetList[i],n.boxWidthList[i])}))})});ft(gt.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(n,t,i){var r=t.getItemLayout(n);return r&&i.rect(r.brushRect)}}),iwt,!0);var ski=["itemStyle"],wfu=["emphasis","itemStyle"],hki=["color","color0","borderColor","borderColor0"],bfu=(vi.extend({type:"candlestick",render:function(n){this._updateDrawMode(n);this._isLargeDraw?this._renderLarge(n):this._renderNormal(n)},incrementalPrepareRender:function(n){this._clear();this._updateDrawMode(n)},incrementalRender:function(n,t){this._isLargeDraw?this._incrementalRenderLarge(n,t):this._incrementalRenderNormal(n,t)},_updateDrawMode:function(n){var t=n.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(n){var t=n.getData(),r=this._data,i=this.group,u=t.getLayout("isSimpleBox");this._data||i.removeAll();t.diff(r).add(function(r){if(t.hasValue(r)){var f,e=t.getItemLayout(r);tr(f=uct(e,0,!0),{shape:{points:e.ends}},n,r);fct(f,t,r,u);i.add(f);t.setItemGraphicEl(r,f)}}).update(function(f,e){var o=r.getItemGraphicEl(e),s;t.hasValue(f)?(s=t.getItemLayout(f),o?p(o,{shape:{points:s.ends}},n,f):o=uct(s),fct(o,t,f,u),i.add(o),t.setItemGraphicEl(f,o)):i.remove(o)}).remove(function(n){var t=r.getItemGraphicEl(n);t&&i.remove(t)}).execute();this._data=t},_renderLarge:function(n){this._clear();ysi(n,this.group)},_incrementalRenderNormal:function(n,t){for(var r,u,i=t.getData(),f=i.getLayout("isSimpleBox");null!=(r=n.next());)fct(u=uct(i.getItemLayout(r)),i,r,f),u.incremental=!0,this.group.add(u)},_incrementalRenderLarge:function(n,t){ysi(t,this.group,!0)},remove:function(){this._clear()},_clear:function(){this.group.removeAll();this._data=null},dispose:pi}),g.extend({type:"normalCandlestickBox",shape:{},buildPath:function(n,t){var i=t.points;this.__simpleBox?(n.moveTo(i[4][0],i[4][1]),n.lineTo(i[6][0],i[6][1])):(n.moveTo(i[0][0],i[0][1]),n.lineTo(i[1][0],i[1][1]),n.lineTo(i[2][0],i[2][1]),n.lineTo(i[3][0],i[3][1]),n.closePath(),n.moveTo(i[4][0],i[4][1]),n.lineTo(i[5][0],i[5][1]),n.moveTo(i[6][0],i[6][1]),n.lineTo(i[7][0],i[7][1]))}})),cki=g.extend({type:"largeCandlestickBox",shape:{},buildPath:function(n,t){for(var u,r=t.points,i=0;i<r.length;)this.__sign===r[i++]?(u=r[i++],n.moveTo(u,r[i++]),n.lineTo(u,r[i++])):i+=3}}),kfu=["itemStyle","borderColor"],dfu=["itemStyle","borderColor0"],gfu=["itemStyle","color"],neu=["itemStyle","color0"],teu={seriesType:"candlestick",plan:uv(),performRawSeries:!0,reset:function(n,t){function i(n,t){return t.get(n>0?gfu:neu)}function r(n,t){return t.get(n>0?kfu:dfu)}var u=n.getData(),f=n.pipelineContext.large;if(u.setVisual({legendSymbol:"roundRect",colorP:i(1,n),colorN:i(-1,n),borderColorP:r(1,n),borderColorN:r(-1,n)}),!t.isSeriesFiltered(n))return!f&&{progress:function(n,t){for(var u,f,e;null!=(u=n.next());)f=t.getItemModel(u),e=t.getItemLayout(u).sign,t.setItemVisual(u,{color:i(e,f),borderColor:r(e,f)})}}}},ieu="undefined"!=typeof Float32Array?Float32Array:Array,reu={seriesType:"candlestick",plan:uv(),reset:function(n){var o=n.coordinateSystem,f=n.getData(),i=iyr(n,f),t=0,r=1,h=["x","y"],s=f.mapDimension(h[t]),u=f.mapDimension(h[r],!0),c=u[0],e=u[1],l=u[2],a=u[3];if(f.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(null==s||u.length<4))return{progress:n.pipelineContext.large?function(n,i){for(var u,f,h=new ieu(5*n.count),v=0,y=[],p=[];null!=(f=n.next());){var w=i.get(s,f),d=i.get(c,f),g=i.get(e,f),b=i.get(l,f),k=i.get(a,f);isNaN(w)||isNaN(b)||isNaN(k)?(h[v++]=NaN,v+=4):(h[v++]=wsi(i,f,d,g,e),y[t]=w,y[r]=b,u=o.dataToPoint(y,null,p),h[v++]=u?u[0]:NaN,h[v++]=u?u[1]:NaN,y[r]=k,u=o.dataToPoint(y,null,p),h[v++]=u?u[1]:NaN)}i.setLayout("largePoints",h)}:function(n,u){function h(n,i){var u=[];return u[t]=i,u[r]=n,isNaN(i)||isNaN(n)?[NaN,NaN]:o.dataToPoint(u)}function g(n,r,u){var f=r.slice(),e=r.slice();f[t]=cf(f[t]+i/2,1,!1);e[t]=cf(e[t]-i/2,1,!0);u?n.push(f,e):n.push(e,f)}function y(n){return n[t]=cf(n[t],1),n}for(var f;null!=(f=n.next());){var v=u.get(s,f),p=u.get(c,f),w=u.get(e,f),nt=u.get(l,f),tt=u.get(a,f),it=Math.min(p,w),rt=Math.max(p,w),k=h(it,v),d=h(rt,v),ut=h(nt,v),ft=h(tt,v),b=[];g(b,d,0);g(b,k,1);b.push(y(ft),y(d),y(ut),y(k));u.setItemLayout(f,{sign:wsi(u,f,p,w,e),initBaseline:p>w?d[r]:k[r],ends:b,brushRect:function(n,u,f){var e=h(n,f),o=h(u,f);return e[t]-=i/2,o[t]-=i/2,{x:e[0],y:e[1],width:r?i:o[0]-e[0],height:r?o[1]-e[1]:i}}(nt,tt,v)})}}}}};ki(function(n){n&&i(n.series)&&t(n.series,function(n){a(n)&&"k"===n.type&&(n.type="candlestick")})});vt(teu);bt(reu);gt.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(){return ke(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});ws=ect.prototype;ws.stopEffectAnimation=function(){this.childAt(1).removeAll()};ws.startEffectAnimation=function(n){for(var t,r,f=n.symbolType,e=n.color,u=this.childAt(1),i=0;i<3;i++)t=br(f,-1,-1,2,2,e),t.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]}),r=-i/3*n.period+n.effectOffset,t.animate("",!0).when(n.period,{scale:[n.rippleScale/2,n.rippleScale/2]}).delay(r).start(),t.animateStyle(!0).when(n.period,{opacity:0}).delay(r).start(),u.add(t);bsi(u,n)};ws.updateEffectAnimation=function(n){for(var i,u=this._effectCfg,f=this.childAt(1),r=["symbolType","period","rippleScale"],t=0;t<r.length;t++)if(i=r[t],u[i]!==n[i])return this.stopEffectAnimation(),void this.startEffectAnimation(n);bsi(f,n)};ws.highlight=function(){this.trigger("emphasis")};ws.downplay=function(){this.trigger("normal")};ws.updateData=function(n,t){var v=n.hostModel,e,s,i;this.childAt(0).updateData(n,t);var f=this.childAt(1),r=n.getItemModel(t),y=n.getItemVisual(t,"symbol"),o=ryr(n.getItemVisual(t,"symbolSize")),h=n.getItemVisual(t,"color");if(f.attr("scale",o),f.traverse(function(n){n.attr({fill:h})}),e=r.getShallow("symbolOffset"),e&&(s=f.position,s[0]=u(e[0],o[0]),s[1]=u(e[1],o[1])),f.rotation=(r.getShallow("symbolRotate")||0)*Math.PI/180||0,i={},i.showEffectOn=v.get("showEffectOn"),i.rippleScale=r.get("rippleEffect.scale"),i.brushType=r.get("rippleEffect.brushType"),i.period=1e3*r.get("rippleEffect.period"),i.effectOffset=t/n.count(),i.z=r.getShallow("z")||0,i.zlevel=r.getShallow("zlevel")||0,i.symbolType=y,i.color=h,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===i.showEffectOn)this._effectCfg?this.updateEffectAnimation(i):this.startEffectAnimation(i),this._effectCfg=i;else{this._effectCfg=null;this.stopEffectAnimation();var c=this.childAt(0),l=function(){c.highlight();"render"!==i.showEffectOn&&this.startEffectAnimation(i)},a=function(){c.downplay();"render"!==i.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",l,this).on("mouseout",a,this).on("emphasis",l,this).on("normal",a,this)}this._effectCfg=i};ws.fadeOut=function(n){this.off("mouseover").off("mouseout").off("emphasis").off("normal");n&&n()};ot(ect,f);fr({type:"effectScatter",init:function(){this._symbolDraw=new ta(ect)},render:function(n){var i=n.getData(),t=this._symbolDraw;t.updateData(i);this.group.add(t.group)},updateTransform:function(n){var t=n.getData(),i;this.group.dirty();i=yw().reset(n);i.progress&&i.progress({start:0,end:t.count()},t);this._symbolDraw.updateLayout(t)},_updateGroupTransform:function(n){var t=n.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=ndt(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(n,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}});vt(pc("effectScatter","circle"));bt(yw("effectScatter"));var ueu="undefined"==typeof Uint32Array?Array:Uint32Array,feu="undefined"==typeof Float64Array?Array:Float64Array,lki=gt.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(n){n.data=n.data||[];ksi(n);var t=this._processFlatCoordsArray(n.data);this._flatCoords=t.flatCoords;this._flatCoordsOffset=t.flatCoordsOffset;t.flatCoords&&(n.data=new Float32Array(t.count));lki.superApply(this,"init",arguments)},mergeOption:function(n){if(n.data=n.data||[],ksi(n),n.data){var t=this._processFlatCoordsArray(n.data);this._flatCoords=t.flatCoords;this._flatCoordsOffset=t.flatCoordsOffset;t.flatCoords&&(n.data=new Float32Array(t.count))}lki.superApply(this,"mergeOption",arguments)},appendData:function(n){var t=this._processFlatCoordsArray(n.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=wut(this._flatCoords,t.flatCoords),this._flatCoordsOffset=wut(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),n.data=new Float32Array(t.count));this.getRawData().appendData(n.data)},_getCoordsFromItemModel:function(n){var t=this.getData().getItemModel(n);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(n){return this._flatCoordsOffset?this._flatCoordsOffset[2*n+1]:this._getCoordsFromItemModel(n).length},getLineCoords:function(n,t){var r,i;if(this._flatCoordsOffset){for(var u=this._flatCoordsOffset[2*n],f=this._flatCoordsOffset[2*n+1],i=0;i<f;i++)t[i]=t[i]||[],t[i][0]=this._flatCoords[u+2*i],t[i][1]=this._flatCoords[u+2*i+1];return f}for(r=this._getCoordsFromItemModel(n),i=0;i<r.length;i++)t[i]=t[i]||[],t[i][0]=r[i][0],t[i][1]=r[i][1];return r.length},_processFlatCoordsArray:function(n){var h=0,o,s,l,a;if(this._flatCoords&&(h=this._flatCoords.length),"number"==typeof n[0]){for(var i=n.length,r=new ueu(i),u=new feu(i),f=0,e=0,c=0,t=0;t<i;)for(c++,o=n[t++],r[e++]=f+h,r[e++]=o,s=0;s<o;s++)l=n[t++],a=n[t++],u[f++]=l,u[f++]=a;return{flatCoordsOffset:new Uint32Array(r.buffer,0,e),flatCoords:u,count:c}}return{flatCoordsOffset:null,flatCoords:null,count:n.length}},getInitialData:function(n){var t=new hi(["value"],this);return t.hasItemOption=!1,t.initData(n.data,[],function(n,i,r,u){if(n instanceof Array)return NaN;t.hasItemOption=!0;var f=n.value;if(null!=f)return f instanceof Array?f[u]:f}),t},formatTooltip:function(n){var t=this.getData().getItemModel(n),r=t.get("name");if(r)return r;var u=t.get("fromName"),f=t.get("toName"),i=[];return null!=u&&i.push(u),null!=f&&i.push(f),wt(i.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var n=this.option.progressive;return null==n?this.option.large?1e4:this.get("progressive"):n},getProgressiveThreshold:function(){var n=this.option.progressiveThreshold;return null==n?this.option.large?2e4:this.get("progressiveThreshold"):n},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),bs=yp.prototype;bs.createLine=function(n,t,i){return new vp(n,t,i)};bs._updateEffectSymbol=function(n,t){var f=n.getItemModel(t).getModel("effect"),u=f.get("symbolSize"),o=f.get("symbol"),e,r;i(u)||(u=[u,u]);e=f.get("color")||n.getItemVisual(t,"color");r=this.childAt(1);this._symbolType!==o&&(this.remove(r),(r=br(o,-.5,-.5,1,1,e)).z2=100,r.culling=!0,this.add(r));r&&(r.setStyle("shadowColor",e),r.setStyle(f.getItemStyle(["color"])),r.attr("scale",u),r.setColor(e),r.attr("scale",u),this._symbolType=o,this._updateEffectAnimation(n,f,t))};bs._updateEffectAnimation=function(n,t,i){var r=this.childAt(1),e,s;if(r){var h=this,l=n.getItemLayout(i),u=1e3*t.get("period"),f=t.get("loop"),c=t.get("constantSpeed"),o=li(t.get("delay"),function(t){return t/n.count()*u/3}),a="function"==typeof o;(r.ignore=!0,this.updateAnimationPoints(r,l),c>0&&(u=this.getLineLength(r)/c*1e3),u!==this._period||f!==this._loop)&&(r.stopAnimation(),e=o,a&&(e=o(i)),r.__t>0&&(e=-u*r.__t),r.__t=0,s=r.animate("",f).when(u,{__t:1}).delay(e).during(function(){h.updateSymbolPosition(r)}),f||s.done(function(){h.remove(r)}),s.start());this._period=u;this._loop=f}};bs.getLineLength=function(n){return gh(n.__p1,n.__cp1)+gh(n.__cp1,n.__p2)};bs.updateAnimationPoints=function(n,t){n.__p1=t[0];n.__p2=t[1];n.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]};bs.updateData=function(n,t,i){this.childAt(0).updateData(n,t,i);this._updateEffectSymbol(n,t)};bs.updateSymbolPosition=function(n){var t=n.__p1,i=n.__p2,r=n.__cp1,u=n.__t,f=n.position,e=nr,o=ret,s,h;f[0]=e(t[0],r[0],i[0],u);f[1]=e(t[1],r[1],i[1],u);s=o(t[0],r[0],i[0],u);h=o(t[1],r[1],i[1],u);n.rotation=-Math.atan2(h,s)-Math.PI/2;n.ignore=!1};bs.updateLayout=function(n,t){this.childAt(0).updateLayout(n,t);var i=n.getItemModel(t).getModel("effect");this._updateEffectAnimation(n,i,t)};ot(yp,f);ub=ig.prototype;ub._createPolyline=function(n,t,i){var r=n.getItemLayout(t),u=new gf({shape:{points:r}});this.add(u);this._updateCommonStl(n,t,i)};ub.updateData=function(n,t,i){var r=n.hostModel;p(this.childAt(0),{shape:{points:n.getItemLayout(t)}},r,t);this._updateCommonStl(n,t,i)};ub._updateCommonStl=function(n,t,i){var r=this.childAt(0),u=n.getItemModel(t),s=n.getItemVisual(t,"color"),f=i&&i.lineStyle,e=i&&i.hoverLineStyle;i&&!n.hasItemOption||(f=u.getModel("lineStyle").getLineStyle(),e=u.getModel("emphasis.lineStyle").getLineStyle());r.useStyle(o({strokeNoScale:!0,fill:"none",stroke:s},f));r.hoverStyle=e;at(this)};ub.updateLayout=function(n,t){this.childAt(0).setShape("points",n.getItemLayout(t))};ot(ig,f);fb=oct.prototype;fb.createLine=function(n,t,i){return new ig(n,t,i)};fb.updateAnimationPoints=function(n,t){var f,e;this._points=t;for(var u=[0],r=0,i=1;i<t.length;i++)f=t[i-1],e=t[i],r+=gh(f,e),u.push(r);if(0!==r){for(i=0;i<u.length;i++)u[i]/=r;this._offsets=u;this._length=r}};fb.getLineLength=function(){return this._length};fb.updateSymbolPosition=function(n){var u=n.__t,i=this._points,r=this._offsets,f=i.length,e,t,o,s;if(r){if(e=this._lastFrame,u<this._lastFramePercent){for(t=Math.min(e+1,f-1);t>=0&&!(r[t]<=u);t--);t=Math.min(t,f-2)}else{for(t=e;t<f&&!(r[t]>u);t++);t=Math.min(t-1,f-2)}dkt(n.position,i[t],i[t+1],(u-r[t])/(r[t+1]-r[t]));o=i[t+1][0]-i[t][0];s=i[t+1][1]-i[t][1];n.rotation=-Math.atan2(s,o)-Math.PI/2;this._lastFrame=t;this._lastFramePercent=u;n.ignore=!1}};ot(oct,yp);rwt=hf({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(n,t){var r=t.segs,e=t.curveness,o,s,i,l,a;if(t.polyline){for(i=0;i<r.length;)if(o=r[i++],o>0)for(n.moveTo(r[i++],r[i++]),s=1;s<o;s++)n.lineTo(r[i++],r[i++])}else for(i=0;i<r.length;){var h=r[i++],c=r[i++],u=r[i++],f=r[i++];(n.moveTo(h,c),e>0)?(l=(h+u)/2-(c-f)*e,a=(c+f)/2-(u-h)*e,n.quadraticCurveTo(l,a,u,f)):n.lineTo(u,f)}},findDataIndex:function(){var o=this.shape,t=o.segs,s=o.curveness,h,i,n;if(o.polyline)for(i=0,n=0;n<t.length;){if(h=t[n++],h>0)for(var r=t[n++],u=t[n++],c=1;c<h;c++)if(wo(r,u,f=t[n++],e=t[n++]))return i;i++}else for(i=0,n=0;n<t.length;){var r=t[n++],u=t[n++],f=t[n++],e=t[n++];if(s>0){if(nnt(r,u,(r+f)/2-(u-e)*s,(u+e)/2-(f-r)*s,f,e))return i}else if(wo(r,u,f,e))return i;i++}return-1}});ks=dsi.prototype;ks.isPersistent=function(){return!this._incremental};ks.updateData=function(n){this.group.removeAll();var t=new rwt({rectHover:!0,cursor:"default"});t.setShape({segs:n.getLayout("linesPoints")});this._setCommon(t,n);this.group.add(t);this._incremental=null};ks.incrementalPrepareUpdate=function(n){this.group.removeAll();this._clearIncremental();n.count()>5e5?(this._incremental||(this._incremental=new yr({silent:!0})),this.group.add(this._incremental)):this._incremental=null};ks.incrementalUpdate=function(n,t){var i=new rwt;i.setShape({segs:t.getLayout("linesPoints")});this._setCommon(i,t,!!this._incremental);this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor="default",i.__startIndex=n.start,this.group.add(i))};ks.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};ks._setCommon=function(n,t,i){var r=t.hostModel,u;n.setShape({polyline:r.get("polyline"),curveness:r.get("lineStyle.curveness")});n.useStyle(r.getModel("lineStyle").getLineStyle());n.style.strokeNoScale=!0;u=t.getVisual("color");u&&n.setStyle("stroke",u);n.setStyle("fill");i||(n.seriesIndex=r.seriesIndex,n.on("mousemove",function(t){n.dataIndex=null;var i=n.findDataIndex(t.offsetX,t.offsetY);i>0&&(n.dataIndex=i+n.__startIndex)}))};ks._clearIncremental=function(){var n=this._incremental;n&&n.clearDisplaybles()};uwt={seriesType:"lines",plan:uv(),reset:function(n){var t=n.coordinateSystem,i=n.get("polyline"),r=n.pipelineContext.large;return{progress:function(u,f){var s=[],h,p,w,e,l,v,y;if(r){if(p=u.end-u.start,i){for(w=0,e=u.start;e<u.end;e++)w+=n.getLineCoordsCount(e);h=new Float32Array(p+2*w)}else h=new Float32Array(4*p);for(var b=0,c=[],e=u.start;e<u.end;e++)for(a=n.getLineCoords(e,s),i&&(h[b++]=a),l=0;l<a;l++)c=t.dataToPoint(s[l],!1,c),h[b++]=c[0],h[b++]=c[1];f.setLayout("linesPoints",h)}else for(e=u.start;e<u.end;e++){var k=f.getItemModel(e),a=n.getLineCoords(e,s),o=[];if(i)for(v=0;v<a;v++)o.push(t.dataToPoint(s[v]));else o[0]=t.dataToPoint(s[0]),o[1]=t.dataToPoint(s[1]),y=k.get("lineStyle.curveness"),+y&&(o[2]=[(o[0][0]+o[1][0])/2-(o[0][1]-o[1][1])*y,(o[0][1]+o[1][1])/2-(o[1][0]-o[0][0])*y]);f.setItemLayout(e,o)}}}}};fr({type:"lines",init:function(){},render:function(n,t,i){var e=n.getData(),s=this._updateLineDraw(e,n),u=n.get("zlevel"),o=n.get("effect.trailLength"),r=i.getZr(),f="svg"===r.painter.getType();f||r.painter.getLayer(u).clear(!0);null==this._lastZlevel||f||r.configLayer(this._lastZlevel,{motionBlur:!1});this._showEffect(n)&&o&&(f||r.configLayer(u,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)}));s.updateData(e);this._lastZlevel=u;this._finished=!0},incrementalPrepareRender:function(n,t,i){var r=n.getData();this._updateLineDraw(r,n).incrementalPrepareUpdate(r);this._clearLayer(i);this._finished=!1},incrementalRender:function(n,t){this._lineDraw.incrementalUpdate(n,t.getData());this._finished=n.end===t.getData().count()},updateTransform:function(n,t,i){var u=n.getData(),f=n.pipelineContext,r;if(!this._finished||f.large||f.progressiveRender)return{update:!0};r=uwt.reset(n);r.progress&&r.progress({start:0,end:u.count()},u);this._lineDraw.updateLayout();this._clearLayer(i)},_updateLineDraw:function(n,t){var i=this._lineDraw,r=this._showEffect(t),u=!!t.get("polyline"),f=t.pipelineContext.large;return i&&r===this._hasEffet&&u===this._isPolyline&&f===this._isLargeDraw||(i&&i.remove(),i=this._lineDraw=f?new dsi:new wd(u?r?oct:ig:r?yp:vp),this._hasEffet=r,this._isPolyline=u,this._isLargeDraw=f,this.group.removeAll()),this.group.add(i.group),i},_showEffect:function(n){return!!n.get("effect.show")},_clearLayer:function(n){var t=n.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(n,t){this._lineDraw&&this._lineDraw.remove();this._lineDraw=null;this._clearLayer(t)},dispose:function(){}});fwt="lineStyle.opacity".split(".");aki={seriesType:"lines",reset:function(n){var i=rg(n.get("symbol")),r=rg(n.get("symbolSize")),t=n.getData();return t.setVisual("fromSymbol",i&&i[0]),t.setVisual("toSymbol",i&&i[1]),t.setVisual("fromSymbolSize",r&&r[0]),t.setVisual("toSymbolSize",r&&r[1]),t.setVisual("opacity",n.get(fwt)),{dataEach:t.hasItemOption?function(n,t){var u=n.getItemModel(t),i=rg(u.getShallow("symbol",!0)),r=rg(u.getShallow("symbolSize",!0)),f=u.get(fwt);i[0]&&n.setItemVisual(t,"fromSymbol",i[0]);i[1]&&n.setItemVisual(t,"toSymbol",i[1]);r[0]&&n.setItemVisual(t,"fromSymbolSize",r[0]);r[1]&&n.setItemVisual(t,"toSymbolSize",r[1]);n.setItemVisual(t,"opacity",f)}:null}}};bt(uwt);vt(aki);gt.extend({type:"series.heatmap",getInitialData:function(){return ke(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var n=ir.get(this.get("coordinateSystem"));if(n&&n.dimensions)return"lng"===n.dimensions[0]&&"lat"===n.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});gsi.prototype={update:function(n,t,i,r,u,f){var k=this._getBrush(),d=this._getGradient(n,u,"inRange"),g=this._getGradient(n,u,"outOfRange"),p=this.pointSize+this.blurSize,e=this.canvas,a=e.getContext("2d"),nt=n.length,v,o,c,l;for(e.width=t,e.height=i,v=0;v<nt;++v){var y=n[v],tt=y[0],it=y[1],o=r(y[2]);a.globalAlpha=o;a.drawImage(k,tt-p,it-p)}if(!e.width||!e.height)return e;for(var w=a.getImageData(0,0,e.width,e.height),h=w.data,s=0,rt=h.length,b=this.minOpacity,ut=this.maxOpacity-b;s<rt;)o=h[s+3]/256,c=4*Math.floor(255*o),o>0?(l=f(o)?d:g,o>0&&(o=o*ut+b),h[s++]=l[c],h[s++]=l[c+1],h[s++]=l[c+2],h[s++]=l[c+3]*o*256):s+=4;return a.putImageData(w,0,0),e},_getBrush:function(){var i=this._brushCanvas||(this._brushCanvas=aa()),r=this.pointSize+this.blurSize,t=2*r,n;return i.width=t,i.height=t,n=i.getContext("2d"),n.clearRect(0,0,t,t),n.shadowOffsetX=t,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-r,r,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),i},_getGradient:function(n,t,i){for(var o=this._gradientPixels,r=o[i]||(o[i]=new Uint8ClampedArray(1024)),u=[0,0,0,0],f=0,e=0;e<256;e++)t[i](e/255,!0,u),r[f++]=u[0],r[f++]=u[1],r[f++]=u[2],r[f++]=u[3];return r}};fr({type:"heatmap",render:function(n,t,i){var u,r;t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(i){i===n&&(u=t)})});this.group.removeAll();this._incrementalDisplayable=null;r=n.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(n,i,0,n.getData().count()):eyr(r)&&this._renderOnGeo(r,n,u,i)},incrementalPrepareRender:function(){this.group.removeAll()},incrementalRender:function(n,t,i,r){t.coordinateSystem&&this._renderOnCartesianAndCalendar(t,r,n.start,n.end,!0)},_renderOnCartesianAndCalendar:function(n,t,i,r,u){var y,p,h=n.coordinateSystem,d,g,s,b,l,v,k;"cartesian2d"===h.type&&(d=h.getAxis("x"),g=h.getAxis("y"),y=d.getBandWidth(),p=g.getBandWidth());for(var rt=this.group,f=n.getData(),w=n.getModel("itemStyle").getItemStyle(["color"]),a=n.getModel("emphasis.itemStyle").getItemStyle(),nt=n.getModel("label"),tt=n.getModel("emphasis.label"),it=h.type,c="cartesian2d"===it?[f.mapDimension("x"),f.mapDimension("y"),f.mapDimension("value")]:[f.mapDimension("time"),f.mapDimension("value")],o=i;o<r;o++){if("cartesian2d"===it){if(isNaN(f.get(c[2],o)))continue;b=h.dataToPoint([f.get(c[0],o),f.get(c[1],o)]);s=new st({shape:{x:b[0]-y/2,y:b[1]-p/2,width:y,height:p},style:{fill:f.getItemVisual(o,"color"),opacity:f.getItemVisual(o,"opacity")}})}else{if(isNaN(f.get(c[1],o)))continue;s=new st({z2:1,shape:h.dataToRect([f.get(c[0],o)]).contentShape,style:{fill:f.getItemVisual(o,"color"),opacity:f.getItemVisual(o,"opacity")}})}l=f.getItemModel(o);f.hasItemOption&&(w=l.getModel("itemStyle").getItemStyle(["color"]),a=l.getModel("emphasis.itemStyle").getItemStyle(),nt=l.getModel("label"),tt=l.getModel("emphasis.label"));v=n.getRawValue(o);k="-";v&&null!=v[2]&&(k=v[2]);uu(w,a,nt,tt,{labelFetcher:n,labelDataIndex:o,defaultText:k,isRectText:!0});s.setStyle(w);at(s,f.hasItemOption?a:e({},a));s.incremental=u;u&&(s.useHoverLayer=!0);rt.add(s);f.setItemGraphicEl(o,s)}},_renderOnGeo:function(n,t,i,r){var h=i.targetVisuals.inRange,p=i.targetVisuals.outOfRange,e=t.getData(),f=this._hmLayer||this._hmLayer||new gsi,u,c,y;f.blurSize=t.get("blurSize");f.pointSize=t.get("pointSize");f.minOpacity=t.get("minOpacity");f.maxOpacity=t.get("maxOpacity");u=n.getViewRect().clone();c=n.getRoamTransform();u.applyTransform(c);var o=Math.max(u.x,0),s=Math.max(u.y,0),w=Math.min(u.width+u.x,r.getWidth()),b=Math.min(u.height+u.y,r.getHeight()),l=w-o,a=b-s,k=[e.mapDimension("lng"),e.mapDimension("lat"),e.mapDimension("value")],d=e.mapArray(k,function(t,i,r){var u=n.dataToPoint([t,i]);return u[0]-=o,u[1]-=s,u.push(r),u}),v=i.getExtent(),g="visualMap.continuous"===i.type?fyr(v,i.option.range):uyr(v,i.getPieceList(),i.option.selected);f.update(d,l,a,h.color.getNormalizer(),{inRange:h.color.getColorMapper(),outOfRange:p.color.getColorMapper()},g);y=new gi({style:{width:l,height:a,x:o,y:s,image:f.canvas},silent:!0});this.group.add(y)},dispose:function(){}});var eeu=tpt.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(n){return n.stack=null,eeu.superApply(this,"getInitialData",arguments)}}),oeu=["itemStyle","borderWidth"],vki=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],ewt=new fc;fr({type:"pictorialBar",render:function(n,t,i){var e=this.group,r=n.getData(),o=this._data,s=n.coordinateSystem,h=!!s.getBaseAxis().isHorizontal(),f=s.grid.getRect(),u={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:n,coordSys:s,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:h,valueDim:vki[+h],categoryDim:vki[1-h]};return r.diff(o).add(function(n){if(r.hasValue(n)){var f=ehi(r,n),i=nhi(r,n,f,u),t=ohi(r,u,i);r.setItemGraphicEl(n,t);e.add(t);chi(t,u,i)}}).update(function(n,t){var i=o.getItemGraphicEl(t);if(r.hasValue(n)){var s=ehi(r,n),f=nhi(r,n,s,u),h=hhi(r,f);i&&h!==i.__pictorialShapeStr&&(e.remove(i),r.setItemGraphicEl(n,null),i=null);i?vyr(i,u,f):i=ohi(r,u,f,!0);r.setItemGraphicEl(n,i);i.__pictorialSymbolMeta=f;e.add(i);chi(i,u,f)}else e.remove(i)}).remove(function(n){var t=o.getItemGraphicEl(n);t&&shi(o,n,t.__pictorialSymbolMeta.animationModel,t)}).execute(),this._data=r,this.group},dispose:pi,remove:function(n){var i=this.group,t=this._data;n.get("animation")?t&&t.eachItemGraphicEl(function(i){shi(t,i.dataIndex,n,i)}):i.removeAll()}});bt(l(wri,"pictorialBar"));vt(pc("pictorialBar","roundRect"));eb=function(n,t,i,r,u){ri.call(this,n,t,i);this.type=r||"value";this.position=u||"bottom";this.orient=null};eb.prototype={constructor:eb,model:null,isHorizontal:function(){var n=this.position;return"top"===n||"bottom"===n},pointToData:function(n,t){return this.coordinateSystem.pointToData(n,t)[0]},toGlobalCoord:null,toLocalCoord:null};ot(eb,ri);ug.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:ug,_init:function(n){var i=this.dimension,t=new eb(i,na(n),[0,0],n.get("type"),n.get("position")),r="category"===t.type;t.onBand=r&&n.get("boundaryGap");t.inverse=n.get("inverse");t.orient=n.get("orient");n.axis=t;t.model=n;t.coordinateSystem=this;this._axis=t},update:function(n){n.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();t(i.mapDimension(this.dimension,!0),function(n){this._axis.scale.unionExtentFromData(i,n)},this);go(this._axis.scale,this._axis.model)}},this)},resize:function(n,t){this._rect=fi({left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")},{width:t.getWidth(),height:t.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var n=this._rect,t=this._axis,i=t.isHorizontal(),r=i?[0,n.width]:[0,n.height],u=t.reverse?1:0;t.setExtent(r[u],r[1-u]);this._updateAxisTransform(t,i?n.x:n.y)},_updateAxisTransform:function(n,t){var i=n.getExtent(),r=i[0]+i[1],u=n.isHorizontal();n.toGlobalCoord=u?function(n){return n+t}:function(n){return r-n+t};n.toLocalCoord=u?function(n){return n-t}:function(n){return r-n+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(n){var t=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(n[0]))&&n[1]>=t.y&&n[1]<=t.y+t.height:i.contain(i.toLocalCoord(n[1]))&&n[0]>=t.y&&n[0]<=t.y+t.height},pointToData:function(n){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(n["horizontal"===t.orient?0:1]))]},dataToPoint:function(n){var i=this.getAxis(),t=this.getRect(),r=[],u="horizontal"===i.orient?0:1;return n instanceof Array&&(n=n[0]),r[u]=i.toGlobalCoord(i.dataToCoord(+n)),r[1-u]=0===u?t.y+t.height/2:t.x+t.width/2,r}};ir.register("single",{create:function(n,t){var i=[];return n.eachComponent("singleAxis",function(r,u){var f=new ug(r,n,t);f.name="single_"+u;f.resize(r,t);r.coordinateSystem=f;i.push(f)}),n.eachSeries(function(t){if("singleAxis"===t.get("coordinateSystem")){var i=n.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0];t.coordinateSystem=i&&i.coordinateSystem}}),i},dimensions:ug.prototype.dimensions});var seu=["axisLine","axisTickLabel","axisName"],heu=gr.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(n,i,r,u){var e=this.group,o,f;e.removeAll();o=cct(n);f=new uf(n,o);t(seu,f.add,f);e.add(f.getGroup());n.get("splitLine.show")&&this._splitLine(n);heu.superCall(this,"render",n,i,r,u)},_splitLine:function(n){var s=n.axis,o,h;if(!s.scale.isBlank()){var a=n.getModel("splitLine"),c=a.getModel("lineStyle"),l=c.get("width"),i=c.get("color");i=i instanceof Array?i:[i];for(var r=n.coordinateSystem.getRect(),y=s.isHorizontal(),e=[],p=0,v=s.getTicksCoords({tickModel:a}),u=[],f=[],t=0;t<v.length;++t)o=s.toGlobalCoord(v[t].coord),y?(u[0]=o,u[1]=r.y,f[0]=o,f[1]=r.y+r.height):(u[0]=r.x,u[1]=o,f[0]=r.x+r.width,f[1]=o),h=p++%i.length,e[h]=e[h]||[],e[h].push(new hu(eh({shape:{x1:u[0],y1:u[1],x2:f[0],y2:f[1]},style:{lineWidth:l},silent:!0})));for(t=0;t<e.length;++t)this.group.add(io(e[t],{style:{stroke:i[t%i.length],lineDash:c.getLineDash(l),lineWidth:l},silent:!0}))}}}),yki=nt.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});v(yki.prototype,vc);ov("single",yki,function(n,t){return t.type||(t.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var pki=function(n,t){var e,c=[],l=n.seriesIndex,o,u,s,h,f;return null==l||!(e=t.getSeriesByIndex(l))?{point:[]}:(o=e.getData(),u=hk(o,n),null==u||u<0||i(u))?{point:[]}:(s=o.getItemGraphicEl(u),h=e.coordinateSystem,e.getTooltipPosition?c=e.getTooltipPosition(u)||[]:h&&h.dataToPoint?c=h.dataToPoint(o.getValues(r(h.dimensions,function(n){return o.mapDimension(n)}),u,!0))||[]:s&&(f=s.getBoundingRect().clone(),f.applyTransform(s.transform),c=[f.x+f.width/2,f.y+f.height/2]),{point:c,el:s})},ee=t,wki=l,bki=wu(),oo=(wr({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),wu()),ceu=t,kki=si({type:"axisPointer",render:function(n,t,i){var r=t.getComponent("tooltip"),u=n.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";yhi("axisPointer",i,function(n,t,i){"none"!==u&&("leave"===n||u.indexOf(n)>=0)&&i({type:"updateAxisPointer",currTrigger:n,x:t&&t.offsetX,y:t&&t.offsetY})})},remove:function(n,t){lct(t.getZr(),"axisPointer");kki.superApply(this._model,"remove",arguments)},dispose:function(n,t){lct("axisPointer",t);kki.superApply(this._model,"dispose",arguments)}}),nl=wu(),dki=h,owt=c;(sa.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(n,t,i,r){var s=t.get("value"),h=t.get("status"),u,o,e,c,v,a;if(this._axisModel=n,this._axisPointerModel=t,this._api=i,r||this._lastValue!==s||this._lastStatus!==h){if(this._lastValue=s,this._lastStatus=h,u=this._group,o=this._handle,!h||"hide"===h)return u&&u.hide(),void(o&&o.hide());u&&u.show();o&&o.show();e={};this.makeElOption(e,s,n,t,i);c=e.graphicKey;c!==this._lastGraphicKey&&this.clear(i);this._lastGraphicKey=c;v=this._moveAnimation=this.determineAnimation(n,t);u?(a=l(whi,t,v),this.updatePointerEl(u,e,a,t),this.updateLabelEl(u,e,a,t)):(u=this._group=new f,this.createPointerEl(u,e,n,t),this.createLabelEl(u,e,n,t),i.getZr().add(u));dhi(u,t,!0);this._renderHandle(s)}},remove:function(n){this.clear(n)},dispose:function(n){this.clear(n)},determineAnimation:function(n,t){var i=t.get("animation"),r=n.axis,e="category"===r.type,o=t.get("snap"),u,s,f;return!o&&!e?!1:"auto"===i||null==i?(u=this.animationThreshold,e&&r.getBandWidth()>u)?!0:o?(s=est(n).seriesDataCount,f=r.getExtent(),Math.abs(f[0]-f[1])/s>u):!1:!0===i},makeElOption:function(){},createPointerEl:function(n,t){var i=t.pointer,r;i&&(r=nl(n).pointerEl=new nf[i.type](dki(t.pointer)),n.add(r))},createLabelEl:function(n,t,i,r){if(t.label){var u=nl(n).labelEl=new st(dki(t.label));n.add(u);khi(u,r)}},updatePointerEl:function(n,t,i){var r=nl(n).pointerEl;r&&(r.setStyle(t.pointer.style),i(r,{shape:t.pointer.shape}))},updateLabelEl:function(n,t,i,r){var u=nl(n).labelEl;u&&(u.setStyle(t.label.style),i(u,{shape:t.label.shape,position:t.label.position}),khi(u,r))},_renderHandle:function(n){var s,h,r;if(!this._dragging&&this.updateHandleTransform){var f=this._axisPointerModel,e=this._api.getZr(),t=this._handle,u=f.getModel("handle"),o=f.get("status");if(!u.get("show")||!o||"hide"===o)return t&&e.remove(t),void(this._handle=null);this._handle||(s=!0,t=this._handle=vy(u.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(n){fs(n.event)},onmousedown:owt(this._onHandleDragMove,this,0,0),drift:owt(this._onHandleDragMove,this),ondragend:owt(this._onHandleDragEnd,this)}),e.add(t));dhi(t,f,!1);h=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];t.setStyle(u.getItemStyle(null,h));r=u.get("size");i(r)||(r=[r,r]);t.attr("scale",[r[0]/2,r[1]/2]);ky(this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate");this._moveHandleToValue(n,s)}},_moveHandleToValue:function(n,t){whi(this._axisPointerModel,!t&&this._moveAnimation,this._handle,act(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(n,t){var i=this._handle,r;i&&(this._dragging=!0,r=this.updateHandleTransform(act(i),[n,t],this._axisModel,this._axisPointerModel),this._payloadInfo=r,i.stopAnimation(),i.attr(act(r)),nl(i).lastProp=null,this._doDispatchAxisPointer())},_doDispatchAxisPointer:function(){if(this._handle){var n=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(){if(this._dragging=!1,this._handle){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n);this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(n){this._lastValue=null;this._lastStatus=null;var t=n.getZr(),i=this._group,r=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(n,t,i){return i=i||0,{x:n[i],y:n[1-i],width:t[i],height:t[1-i]}}}).constructor=sa;ly(sa);gki=sa.extend({makeElOption:function(n,t,i,r,u){var f=i.axis,h=f.grid,o=r.get("type"),c=uci(h,f).getOtherAxis(f).getGlobalExtent(),l=f.toGlobalCoord(f.dataToCoord(t,!0)),s,e;o&&"none"!==o&&(s=vct(r),e=ndi[o](f,l,c,s),e.style=s,n.graphicKey=e.type,n.pointer=e);tci(t,n,sst(h.model,i),i,r,u)},getHandleTransform:function(n,t,i){var r=sst(t.axis.grid.model,t,{labelInside:!1});return r.labelMargin=i.get("handle.margin"),{position:yct(t.axis,n,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(n,t,i){var f=i.axis,l=f.grid,s=f.getGlobalExtent(!0),h=uci(l,f).getOtherAxis(f).getGlobalExtent(),r="x"===f.dim?0:1,u=n.position,e,o,c;return u[r]+=t[r],u[r]=Math.min(s[1],u[r]),u[r]=Math.max(s[0],u[r]),e=(h[1]+h[0])/2,o=[e,e],o[r]=u[r],c=[{verticalAlign:"middle"},{align:"center"}],{position:u,rotation:n.rotation,cursorPoint:o,tooltipOption:c[r]}}});ndi={line:function(n,t,i,r){var u=pct([t,i[0]],[t,i[1]],fci(n));return eh({shape:u,style:r}),{type:"Line",shape:u}},shadow:function(n,t,i){var r=Math.max(1,n.getBandWidth()),u=i[1]-i[0];return{type:"Rect",shape:ici([t-r/2,i[0]],[r,u],fci(n))}}};gr.registerAxisPointerClass("CartesianAxisPointer",gki);ki(function(n){if(n){n.axisPointer&&0!==n.axisPointer.length||(n.axisPointer={});var t=n.axisPointer.link;t&&!i(t)&&(n.axisPointer.link=[t])}});pr(ev.PROCESSOR.STATISTIC,function(n,t){n.getComponent("axisPointer").coordSysAxesInfo=gsr(n,t)});it({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(n,t,i){var p=n.currTrigger,r=[n.x,n.y],s=n,w=n.dispatchAction||c(i.dispatchAction,i),u=t.getComponent("axisPointer").coordSysAxesInfo,h;if(u){fg(r)&&(r=pki({seriesIndex:s.seriesIndex,dataIndex:s.dataIndex},t).point);var l=fg(r),a=s.axesInfo,f=u.axesInfo,b="leave"===p||fg(r),e={},o={},v={list:[],map:{}},y={showPointer:wki(pyr,o),showTooltip:wki(wyr,v)};return ee(u.coordSysMap,function(n,t){var i=l||n.containPoint(r);ee(u.coordSysAxesInfo[t],function(n){var f=n.axis,u=gyr(a,n),t;!b&&i&&(!a||u)&&(t=u&&u.value,null!=t||l||(t=f.pointToData(r)),null!=t&&ahi(n,t,y,!1,e))})}),h={},ee(f,function(n,t){var i=n.linkGroup;i&&!o[t]&&ee(i.axesInfo,function(t,r){var f=o[r],u;t!==n&&f&&(u=f.value,i.mapper&&(u=n.axis.scale.parse(i.mapper(u,vhi(t),vhi(n)))),h[n.key]=u)})}),ee(h,function(n,t){ahi(f[t],n,y,!0,e)}),byr(o,f,e),kyr(v,r,n,w),dyr(f,0,i),e}});var tdi=["x","y"],leu=["width","height"],aeu=sa.extend({makeElOption:function(n,t,i,r,u){var e=i.axis,h=e.coordinateSystem,c=wct(h,1-eg(e)),l=h.dataToPoint(t)[0],o=r.get("type"),s,f;o&&"none"!==o&&(s=vct(r),f=veu[o](e,l,c,s),f.style=s,n.graphicKey=f.type,n.pointer=f);tci(t,n,cct(i),i,r,u)},getHandleTransform:function(n,t,i){var r=cct(t,{labelInside:!1});return r.labelMargin=i.get("handle.margin"),{position:yct(t.axis,n,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(n,t,i){var f=i.axis,e=f.coordinateSystem,r=eg(f),o=wct(e,r),u=n.position;u[r]+=t[r];u[r]=Math.min(o[1],u[r]);u[r]=Math.max(o[0],u[r]);var s=wct(e,1-r),h=(s[1]+s[0])/2,c=[h,h];return c[r]=u[r],{position:u,rotation:n.rotation,cursorPoint:c,tooltipOption:{verticalAlign:"middle"}}}}),veu={line:function(n,t,i,r){var u=pct([t,i[0]],[t,i[1]],eg(n));return eh({shape:u,style:r}),{type:"Line",shape:u}},shadow:function(n,t,i){var r=n.getBandWidth(),u=i[1]-i[0];return{type:"Rect",shape:ici([t-r/2,i[0]],[r,u],eg(n))}}};gr.registerAxisPointerClass("SingleAxisPointer",aeu);si({type:"single"});idi=gt.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(){idi.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},fixData:function(n){for(var c,t,a,e,u=n.length,i=r(ict().key(function(n){return n[2]}).entries(n),function(n){return{name:n.key,dataList:n.values}}),l=i.length,s=-1,h=-1,f=0;f<l;++f)c=i[f].dataList.length,c>s&&(s=c,h=f);for(t=0;t<l;++t)if(t!==h)for(a=i[t].name,e=0;e<s;++e){for(var v=i[h].dataList[e][0],p=i[t].dataList.length,y=-1,o=0;o<p;++o)if(i[t].dataList[o][0]===v){y=o;break}-1===y&&(n[u]=[],n[u][0]=v,n[u][1]=0,n[u][2]=a,u++)}return n},getInitialData:function(n,t){for(var o,u,s=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),h=ui(n.data,function(n){return void 0!==n[2]}),i=this.fixData(h||[]),c=[],f=this.nameMap=y(),e=0,r=0;r<i.length;++r)c.push(i[r][2]),f.get(i[r][2])||(f.set(i[r][2],e),e++);return o=ac(i,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:rd(s)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),u=new hi(o,this),u.initData(i),u},getLayerSeries:function(){for(var n=this.getData(),o=n.count(),f=[],t=0;t<o;++t)f[t]=t;for(var i=r(ict().key(function(t){return n.get("name",t)}).entries(f),function(n){return{name:n.key,indices:n.values}}),e=n.mapDimension("single"),u=0;u<i.length;++u)i[u].indices.sort(function(t,i){return n.get(e,t)-n.get(e,i)});return i},getAxisTooltipData:function(n,t){var e,o;i(n)||(n=n?[n]:[]);for(var s,a=this.getData(),u=this.getLayerSeries(),h=[],v=u.length,r=0;r<v;++r){for(var c=Number.MAX_VALUE,l=-1,y=u[r].indices.length,f=0;f<y;++f)e=a.get(n[0],u[r].indices[f]),o=Math.abs(e-t),o<=c&&(s=e,c=o,l=u[r].indices[f]);h.push(l)}return{dataIndices:h,nestestValue:s}},formatTooltip:function(n){var i=this.getData(),r=i.getName(n),t=i.get(i.mapDimension("value"),n);return(isNaN(t)||null==t)&&(t="-"),wt(r+" : "+t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});fr({type:"themeRiver",init:function(){this._layers=[]},render:function(n){function s(n){return n.name}function u(u,s,h){var it=this._layers,l,ot,st;if("remove"!==u){for(var rt,b=[],k=[],a=o[s].indices,v=0;v<a.length;v++){var g=t.getItemLayout(a[v]),ut=g.x,ft=g.y0,ht=g.y;b.push([ut,ft]);k.push([ut,ft+ht]);rt=t.getItemVisual(a[v],"color")}var c,w,y=t.getItemLayout(a[0]),nt=t.getItemModel(a[v-1]),tt=nt.getModel("label"),et=tt.get("margin");"add"===u?(l=r[s]=new f,c=new ywi({shape:{points:b,stackedOnPoints:k,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),w=new d({style:{x:y.x-et,y:y.y0+y.y/2}}),l.add(c),l.add(w),i.add(l),c.setClipPath(fpr(c.getBoundingRect(),n,function(){c.removeClipPath()}))):(l=it[h],c=l.childAt(0),w=l.childAt(1),i.add(l),r[s]=l,p(c,{shape:{points:b,stackedOnPoints:k}},n),p(w,{style:{x:y.x-et,y:y.y0+y.y/2}},n));ot=nt.getModel("emphasis.itemStyle");st=nt.getModel("itemStyle");kt(w.style,tt,{text:tt.get("show")?n.getFormattedLabel(a[v-1],"normal")||t.getName(a[v-1]):null,textVerticalAlign:"middle"});c.setStyle(e({fill:rt},st.getItemStyle(["color"])));at(c,ot.getItemStyle())}else i.remove(it[s])}var t=n.getData(),i=this.group,o=n.getLayerSeries(),h=t.getLayout("layoutInfo"),l=h.rect,a=h.boundaryGap,r;i.attr("position",[0,l.y+a[0]]);r={};new we(this._layersSeries||[],o,s,s).add(c(u,this,"add")).update(c(u,this,"update")).remove(c(u,this,"remove")).execute();this._layersSeries=o;this._layers=r},dispose:function(){}});bt(function(n){n.eachSeriesByType("themeRiver",function(n){var r=n.getData(),e=n.coordinateSystem,f={},i=e.getRect(),t,o;f.rect=i;t=n.get("boundaryGap");o=e.getAxis();f.boundaryGap=t;"horizontal"===o.orient?(t[0]=u(t[0],i.height),t[1]=u(t[1],i.height),eci(r,n,i.height-t[0]-t[1])):(t[0]=u(t[0],i.width),t[1]=u(t[1],i.width),eci(r,n,i.width-t[0]-t[1]));r.setLayout("layoutInfo",f)})});vt(function(n){n.eachSeriesByType("themeRiver",function(n){var t=n.getData(),i=n.getRawData(),r=n.get("color"),u=y();t.each(function(n){u.set(t.getRawIndex(n),n)});i.each(function(f){var s=i.getName(f),o=r[(n.nameMap.get(s)-1)%r.length],e;i.setItemVisual(f,"color",o);e=u.get(f);null!=e&&t.setItemVisual(e,"color",o)})})});pr(ww("themeRiver"));gt.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(n){var i={name:n.name,children:n.data},r,t;return oci(i),r=n.levels||[],t={},t.levels=r,vh.createTree(i,this,t).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(n){var t=gt.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(n);return t.treePathInfo=kst(i,this),t},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(n){n?this._viewRoot=n:n=this._viewRoot;var t=this.getRawData().tree.root;n&&(n===t||t.contains(n))||(this._viewRoot=t)}});var prt={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},yeu=2,peu=4,tl=og.prototype;tl.updateData=function(n,t,i,r,u){var f,l,h,c,s,a,y,w,b;this.node=t;t.piece=this;r=r||this._seriesModel;u=u||this._ecModel;f=this.childAt(0);f.dataIndex=t.dataIndex;l=t.getModel();h=t.getLayout();h||console.log(t.getLayout());c=e({},h);c.label=null;a=opr(t,0,u);y=l.getModel("itemStyle").getItemStyle();s=o({lineJoin:"bevel",fill:(s="normal"===i?y:v(l.getModel(i+".itemStyle").getItemStyle(),y)).fill||a},s);n?(f.setShape(c),f.shape.r=h.r0,p(f,{shape:{r:h.r}},r,t.dataIndex),f.useStyle(s)):"object"==typeof s.fill&&s.fill.type||"object"==typeof f.style.fill&&f.style.fill.type?(p(f,{shape:c},r),f.useStyle(s)):p(f,{shape:c,style:s},r);this._updateLabel(r,a,i);w=l.getShallow("cursor");(w&&f.attr("cursor",w),n)&&(b=r.getShallow("highlightPolicy"),this._initEvents(f,t,r,b));this._seriesModel=r||this._seriesModel;this._ecModel=u||this._ecModel};tl.onEmphasis=function(n){var t=this;this.node.hostTree.root.eachNode(function(i){i.piece&&(t.node===i?i.piece.updateData(!1,i,"emphasis"):hpr(i,t.node,n)?i.piece.childAt(0).trigger("highlight"):n!==prt.NONE&&i.piece.childAt(0).trigger("downplay"))})};tl.onNormal=function(){this.node.hostTree.root.eachNode(function(n){n.piece&&n.piece.updateData(!1,n,"normal")})};tl.onHighlight=function(){this.updateData(!1,this.node,"highlight")};tl.onDownplay=function(){this.updateData(!1,this.node,"downplay")};tl._updateLabel=function(n,t,i){function e(n){var t=p.get(n);return null==t?a.get(n):t}var y=this.node.getModel(),a=y.getModel("label"),p="normal"===i||"emphasis"===i?a:y.getModel(i+".label"),g=y.getModel("emphasis.label"),v=li(n.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name),r,o,b,h,k,d,l,f;!1===e("show")&&(v="");r=this.node.getLayout();o=p.get("minAngle");null==o&&(o=a.get("minAngle"));o=o/180*Math.PI;b=r.endAngle-r.startAngle;null!=o&&Math.abs(b)<o&&(v="");h=this.childAt(1);uu(h.style,h.hoverStyle||{},a,g,{defaultText:p.getShallow("show")?v:null,autoColor:t,useInsideStyle:!0});var c,s=(r.startAngle+r.endAngle)/2,nt=Math.cos(s),tt=Math.sin(s),it=e("position"),w=e("distance")||0,u=e("align");"outside"===it?(c=r.r+w,u=s>Math.PI/2?"right":"left"):u&&"center"!==u?"left"===u?(c=r.r0+w,s>Math.PI/2&&(u="right")):"right"===u&&(c=r.r-w,s>Math.PI/2&&(u="left")):(c=(r.r+r.r0)/2,u="center");h.attr("style",{text:v,textAlign:u,textVerticalAlign:e("verticalAlign")||"middle",opacity:e("opacity")});k=c*nt+r.cx;d=c*tt+r.cy;h.attr("position",[k,d]);l=e("rotate");f=0;"radial"===l?(f=-s)<-Math.PI/2&&(f+=Math.PI):"tangential"===l?(f=Math.PI/2-s)>Math.PI/2?f-=Math.PI:f<-Math.PI/2&&(f+=Math.PI):"number"==typeof l&&(f=l*Math.PI/180);h.attr("rotation",f)};tl._initEvents=function(n,t,i,r){n.off("mouseover").off("mouseout").off("emphasis").off("normal");var u=this,f=function(){u.onEmphasis(r)},e=function(){u.onNormal()};i.isAnimationEnabled()&&n.on("mouseover",f).on("mouseout",e).on("emphasis",f).on("normal",e).on("downplay",function(){u.onDownplay()}).on("highlight",function(){u.onHighlight()})};ot(og,f);vi.extend({type:"sunburst",init:function(){},render:function(n,t,i,r){function y(i,r){if(w||!i||i.getValue()||(i=null),i!==f&&r!==f)if(r&&r.piece)i?(r.piece.updateData(!1,i,"normal",n,t),s.setItemGraphicEl(i.dataIndex,r.piece)):p(r);else if(i){var u=new og(i,n,t);o.add(u);s.setItemGraphicEl(i.dataIndex,u)}}function p(n){n&&n.piece&&(o.remove(n.piece),n.piece=null)}var u=this,a,v,e;this.seriesModel=n;this.api=i;this.ecModel=t;var s=n.getData(),f=s.tree.root,c=n.getViewRoot(),o=this.group,w=n.get("renderLabelForZeroData"),h=[];if(c.eachNode(function(n){h.push(n)}),a=this._oldChildren||[],function(n,t){function r(n){return n.getId()}function i(i,r){y(null==i?null:n[i],null==r?null:t[r])}0===n.length&&0===t.length||new we(t,n,r,r).add(i).update(i).remove(l(i,null)).execute()}(h,a),function(i,r){if(r.depth>0){u.virtualPiece?u.virtualPiece.updateData(!1,i,"normal",n,t):(u.virtualPiece=new og(i,n,t),o.add(u.virtualPiece));r.piece._onclickEvent&&r.piece.off("click",r.piece._onclickEvent);var f=function(){u._rootToNode(r.parentNode)};r.piece._onclickEvent=f;u.virtualPiece.on("click",f)}else u.virtualPiece&&(o.remove(u.virtualPiece),u.virtualPiece=null)}(f,c),r&&r.highlight&&r.highlight.piece){v=n.getShallow("highlightPolicy");r.highlight.piece.onEmphasis(v)}else r&&r.unhighlight&&(e=this.virtualPiece,!e&&f.children.length&&(e=f.children[0].piece),e&&e.onNormal());this._initEvents();this._oldChildren=h},dispose:function(){},_initEvents:function(){var n=this,t=function(t){var i=!1;n.seriesModel.getViewRoot().eachNode(function(r){var u,f,e,o;!i&&r.piece&&r.piece.childAt(0)===t.target&&(u=r.getModel().get("nodeClick"),"rootToNode"===u?n._rootToNode(r):"link"===u&&(f=r.getModel(),e=f.get("link"),e&&(o=f.get("target",!0)||"_blank",window.open(e,o))),i=!0)})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent);this.group.on("click",t);this.group._onclickEvent=t},_rootToNode:function(n){n!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n})},containPoint:function(n,t){var i=t.getData().getItemLayout(0);if(i){var r=n[0]-i.cx,u=n[1]-i.cy,f=Math.sqrt(r*r+u*u);return f<=i.r&&f>=i.r0}}});swt="sunburstRootToNode";it({type:swt,update:"updateView"},function(n,t){t.eachComponent({mainType:"series",subType:"sunburst",query:n},function(t){var i=lp(n,[swt],t),r;i&&(r=t.getViewRoot(),r&&(n.direction=bst(r,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node))})});hwt="sunburstHighlight";it({type:hwt,update:"updateView"},function(n,t){t.eachComponent({mainType:"series",subType:"sunburst",query:n},function(t){var i=lp(n,[hwt],t);i&&(n.highlight=i.node)})});it({type:"sunburstUnhighlight",update:"updateView"},function(n,t){t.eachComponent({mainType:"series",subType:"sunburst",query:n},function(){n.unhighlight=!0})});cwt=Math.PI/180;vt(l(irt,"sunburst"));bt(l(function(n,r,f){r.eachSeriesByType(n,function(n){var e=n.get("center"),o=n.get("radius"),l;i(o)||(o=[0,o]);i(e)||(e=[e,e]);var p=f.getWidth(),w=f.getHeight(),h=Math.min(p,w),b=u(e[0],p),k=u(e[1],w),s=u(o[0],h/2),ft=u(o[1],h/2),c=-n.get("startAngle")*cwt,d=n.get("minAngle")*cwt,g=n.getData().tree.root,r=n.getViewRoot(),et=r.depth,nt=n.get("sort");null!=nt&&sci(r,nt);l=0;t(r.children,function(n){isNaN(n.getValue())||l++});var tt=r.getValue(),it=Math.PI/(tt||l)*2,a=r.depth>0,ot=r.height-(a?-1:1),v=(ft-s)/(ot||1),y=n.get("clockwise"),st=n.get("stillShowZeroSum"),ht=y?1:-1,rt=function(n,i){var f,c,r,o;if(n){if(f=i,n!==g){c=n.getValue();r=0===tt&&st?it:c*it;r<d&&(r=d);f=i+ht*r;var l=n.depth-et-(a?-1:1),p=s+v*l,w=s+v*(l+1),e=n.getModel();null!=e.get("r0")&&(p=u(e.get("r0"),h/2));null!=e.get("r")&&(w=u(e.get("r"),h/2));n.setLayout({angle:r,startAngle:i,endAngle:f,clockwise:y,cx:b,cy:k,r0:p,r:w})}return n.children&&n.children.length&&(o=0,t(n.children,function(n){o+=rt(n,i+o)})),f-i}};if(a){var ct=s,lt=s+v,ut=2*Math.PI;g.setLayout({angle:ut,startAngle:c,endAngle:c+ut,clockwise:y,cx:b,cy:k,r0:ct,r:lt})}rt(r,c)})},"sunburst"));pr(l(ww,"sunburst"));var weu=["itemStyle"],beu=["emphasis","itemStyle"],keu=["label"],deu=["emphasis","label"],geu="e\0\0",nou={cartesian2d:function(n){var t=n.grid.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return n.dataToPoint(t)},size:c(lpr,n)}}},geo:function(n){var t=n.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return n.dataToPoint(t)},size:c(apr,n)}}},singleAxis:function(n){var t=n.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return n.dataToPoint(t)},size:c(vpr,n)}}},polar:function(n){var i=n.getRadiusAxis(),r=n.getAngleAxis(),t=i.getExtent();return t[0]>t[1]&&t.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:t[1],r0:t[0]},api:{coord:c(function(t){var u=i.dataToRadius(t[0]),f=r.dataToAngle(t[1]),e=n.coordToPoint([u,f]);return e.push(u,f*Math.PI/180),e}),size:c(ypr,n)}}},calendar:function(n){var t=n.getRect(),i=n.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(t,i){return n.dataToPoint(t,i)}}}}};tp({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(){return ke(this.getSource(),this)}});fr({type:"custom",_data:null,render:function(n,t,i){var u=this._data,r=n.getData(),f=this.group,e=cci(n,r,t,i);this.group.removeAll();r.diff(u).add(function(t){bct(null,t,e(t),n,f,r)}).update(function(t,i){bct(u.getItemGraphicEl(i),t,e(t),n,f,r)}).remove(function(n){var t=u.getItemGraphicEl(n);t&&f.remove(t)}).execute();this._data=r},incrementalPrepareRender:function(){this.group.removeAll();this._data=null},incrementalRender:function(n,t,i,r){for(var f=t.getData(),e=cci(t,f,i,r),u=n.start;u<n.end;u++)bct(null,u,e(u),t,this.group,f).traverse(function(n){n.isGroup||(n.incremental=!0,n.useHoverLayer=!0)})},dispose:pi});ki(function(n){var t=n.graphic;i(t)?n.graphic=t[0]&&t[0].elements?[n.graphic[0]]:[{elements:t}]:t&&!t.elements&&(n.graphic=[{elements:[t]}])});rdi=wr({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(){var n=this.option.elements;this.option.elements=null;rdi.superApply(this,"mergeOption",arguments);this.option.elements=n},optionUpdated:function(n,i){var f=this.option,h=(i?f:n).elements,r=f.elements=i?[]:f.elements,o=[],e,s,u;for(this._flatten(h,o),e=net(r,o),agt(e),s=this._elOptionsToUpdate=[],t(e,function(n,t){var i=n.option;i&&(s.push(i),nwr(n,i),twr(r,t,i),iwr(r[t],i))},this),u=r.length-1;u>=0;u--)null==r[u]?r.splice(u,1):delete r[u].$action},_flatten:function(n,i,r){t(n,function(n){if(n){r&&(n.parentOption=r);i.push(n);var t=n.children;"group"===n.type&&t&&this._flatten(t,i,n);delete n.children}},this)},useElOptionsToUpdate:function(){var n=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,n}});si({type:"graphic",init:function(){this._elMap=y();this._lastGraphicModel},render:function(n,t,i){n!==this._lastGraphicModel&&this._clear();this._lastGraphicModel=n;this._updateElements(n,i);this._relocate(n,i)},_updateElements:function(n){var r=n.useElOptionsToUpdate(),i,u;r&&(i=this._elMap,u=this.group,t(r,function(n){var r=n.$action,f=n.id,e=i.get(f),h=n.parentId,c=null!=h?i.get(h):u,t,o,s;"text"===n.type&&(t=n.style,n.hv&&n.hv[1]&&(t.textVerticalAlign=t.textBaseline=null),!t.hasOwnProperty("textFill")&&t.fill&&(t.textFill=t.fill),!t.hasOwnProperty("textStroke")&&t.stroke&&(t.textStroke=t.stroke));o=gpr(n);r&&"merge"!==r?"replace"===r?(sg(e,i),vci(f,c,o,i)):"remove"===r&&sg(e,i):e?e.attr(o):vci(f,c,o,i);s=i.get(f);s&&(s.__ecGraphicWidth=n.width,s.__ecGraphicHeight=n.height)}))},_relocate:function(n,t){for(var i,r,u,e=n.option.elements,o=this.group,s=this._elMap,f=e.length-1;f>=0;f--)i=e[f],r=s.get(i.id),r&&(u=r.parent,kk(r,i,u===o?{width:t.getWidth(),height:t.getHeight()}:{width:u.__ecGraphicWidth||0,height:u.__ecGraphicHeight||0},null,{hv:i.hv,boundingMode:i.bounding}))},_clear:function(){var n=this._elMap;n.each(function(t){sg(t,n)});this._elMap=y()},dispose:function(){this._clear()}});lwt=wr({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(n,t,i){this.mergeDefaultAndTheme(n,i);n.selected=n.selected||{}},mergeOption:function(n){lwt.superCall(this,"mergeOption",n)},optionUpdated:function(){var n,i,t,r;if(this._updateData(this.ecModel),n=this._data,n[0]&&"single"===this.get("selectedMode")){for(i=!1,t=0;t<n.length;t++)if(r=n[t].get("name"),this.isSelected(r)){this.select(r);i=!0;break}i||this.select(n[0].get("name"))}},_updateData:function(n){var t=[],i=[],u;n.eachRawSeries(function(r){var o=r.name,f,e,u;i.push(o);r.legendDataProvider?(e=r.legendDataProvider(),u=e.mapArray(e.getName),n.isSeriesFiltered(r)||(i=i.concat(u)),u.length?t=t.concat(u):f=!0):f=!0;f&&tet(r)&&t.push(r.name)});this._availableNames=i;u=r(this.get("data")||t,function(n){return"string"!=typeof n&&"number"!=typeof n||(n={name:n}),new tt(n,this,this.ecModel)},this);this._data=u},getData:function(){return this._data},select:function(n){var i=this.option.selected;"single"===this.get("selectedMode")&&t(this._data,function(n){i[n.get("name")]=!1});i[n]=!0},unSelect:function(n){"single"!==this.get("selectedMode")&&(this.option.selected[n]=!1)},toggleSelected:function(n){var t=this.option.selected;t.hasOwnProperty(n)||(t[n]=!0);this[t[n]?"unSelect":"select"](n)},isSelected:function(n){var t=this.option.selected;return!(t.hasOwnProperty(n)&&!t[n])&&b(this._availableNames,n)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});it("legendToggleSelect","legendselectchanged",l(dct,"toggleSelected"));it("legendSelect","legendselected",l(dct,"select"));it("legendUnSelect","legendunselected",l(dct,"unSelect"));var bv=l,tou=t,awt=f,iou=si({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new awt);this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(n,t,i){var r;if(this.resetInner(),n.get("show",!0)){r=n.get("align");r&&"auto"!==r||(r="right"===n.get("left")&&"vertical"===n.get("orient")?"right":"left");this.renderInner(r,n,t,i);var f=n.getBoxLayoutParams(),e={width:i.getWidth(),height:i.getHeight()},s=n.get("padding"),c=fi(f,e,s),u=this.layoutInner(n,r,c),h=fi(o({width:u.width,height:u.height},f),e,s);this.group.attr("position",[h.x-u.x,h.y-u.y]);this.group.add(this._backgroundEl=pci(u,n))}},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(n,t,i,r){var o=this.getContentGroup(),f=y(),e=t.get("selectedMode"),u=[];i.eachRawSeries(function(n){n.get("legendHoverLink")||u.push(n.id)});tou(t.getData(),function(s,h){var c=s.get("name"),l,v,a,y,p;this.newlineDisabled||""!==c&&"\n"!==c?(l=i.getSeriesByName(c)[0],f.get(c)||(l?(v=l.getData(),a=v.getVisual("color"),"function"==typeof a&&(a=a(l.getDataParams(0))),y=v.getVisual("legendSymbol")||"roundRect",p=v.getVisual("symbol"),this._createItem(c,h,s,t,y,p,n,a,e).on("click",bv(wci,c,r)).on("mouseover",bv(bci,l,null,r,u)).on("mouseout",bv(kci,l,null,r,u)),f.set(c,!0)):i.eachRawSeries(function(i){var o,l,a;if(!f.get(c)&&i.legendDataProvider){if(o=i.legendDataProvider(),l=o.indexOfName(c),l<0)return;a=o.getItemVisual(l,"color");this._createItem(c,h,s,t,"roundRect",null,n,a,e).on("click",bv(wci,c,r)).on("mouseover",bv(bci,i,c,r,u)).on("mouseout",bv(kci,i,c,r,u));f.set(c,!0)}},this))):o.add(new awt({newline:!0}))},this)},_createItem:function(n,t,i,r,u,f,o,s,h){var p=r.get("itemWidth"),v=r.get("itemHeight"),w=r.get("inactiveColor"),y=r.get("symbolKeepAspect"),b=r.isSelected(n),c=new awt,tt=i.getModel("textStyle"),it=i.get("icon"),k=i.getModel("tooltip"),rt=k.parentModel,l,nt;(u=it||u,c.add(br(u,0,0,p,v,b?s:w,null==y||y)),!it&&f&&(f!==u||"none"==f))&&(l=.8*v,"none"===f&&(f="circle"),c.add(br(f,(p-l)/2,(v-l)/2,l,l,b?s:w,null==y||y)));var ut="left"===o?p+5:-5,ft=o,a=r.get("formatter"),g=n;return"string"==typeof a&&a?g=a.replace("{name}",null!=n?n:""):"function"==typeof a&&(g=a(n)),c.add(new d({style:kt({},tt,{text:g,x:ut,y:v/2,textFill:b?tt.getTextColor():w,textAlign:ft,textVerticalAlign:"middle"})})),nt=new st({shape:c.getBoundingRect(),invisible:!0,tooltip:k.get("show")?e({content:n,formatter:rt.get("formatter",!0)||function(){return n},formatterParams:{componentType:"legend",legendIndex:r.componentIndex,name:n,$vars:["name"]}},k.option):null}),c.add(nt),c.eachChild(function(n){n.silent=!0}),nt.silent=!h,this.getContentGroup().add(c),at(c),c.__legendDataIndex=t,c},layoutInner:function(n,t,i){var r=this.getContentGroup(),u;return cw(n.get("orient"),r,n.get("itemGap"),i.width,i.height),u=r.getBoundingRect(),r.attr("position",[-u.x,-u.y]),this.group.getBoundingRect()}});pr(function(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(n){for(var i=0;i<t.length;i++)if(!t[i].isSelected(n.name))return!1;return!0})});nt.registerSubTypeDefaulter("legend",function(){return"plain"});var udi=lwt.extend({type:"legend.scroll",setScrollDataIndex:function(n){this.option.scrollDataIndex=n},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(n,t,i,r){var u=kl(n);udi.superCall(this,"init",n,t,i,r);dci(this,n,u)},mergeOption:function(n,t){udi.superCall(this,"mergeOption",n,t);dci(this,this.option,n)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),fdi=f,wrt=["width","height"],edi=["x","y"],vwt=iou.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){vwt.superCall(this,"init");this._currentIndex=0;this.group.add(this._containerGroup=new fdi);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new fdi);this._showController},resetInner:function(){vwt.superCall(this,"resetInner");this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(n,t,r,u){function s(n,i){var o=n+"DataIndex",r=vy(t.get("pageIcons",!0)[t.getOrient().name][i],{onclick:c(h._pageGo,h,o,t,u)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});r.name=n;e.add(r)}var h=this,e,f,o;vwt.superCall(this,"renderInner",n,t,r,u);e=this._controllerGroup;f=t.get("pageIconSize",!0);i(f)||(f=[f,f]);s("pagePrev",0);o=t.getModel("pageTextStyle");e.add(new d({name:"pageText",style:{textFill:o.getTextColor(),font:o.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0}));s("pageNext",1)},layoutInner:function(n,t,i){var h=this.getContentGroup(),l=this._containerGroup,a=this._controllerGroup,u=n.getOrient().index,r=wrt[u],e=wrt[1-u],b=edi[1-u],s,c,w;cw(n.get("orient"),h,n.get("itemGap"),u?i.width:null,u?null:i.height);cw("horizontal",a,n.get("pageButtonItemGap",!0));var o=h.getBoundingRect(),f=a.getBoundingRect(),v=this._showController=o[r]>i[r],k=[-o.x,-o.y];k[u]=h.position[u];var d=[0,0],y=[-f.x,-f.y],g=oi(n.get("pageButtonGap",!0),n.get("itemGap",!0));return v&&("end"===n.get("pageButtonPosition",!0)?y[u]+=i[r]-f[r]:d[u]+=f[r]+g),y[1-u]+=o[e]/2-f[e]/2,h.attr("position",k),l.attr("position",d),a.attr("position",y),s=this.group.getBoundingRect(),((s={x:0,y:0})[r]=v?i[r]:o[r],s[e]=Math.max(o[e],f[e]),s[b]=Math.min(0,f[b]+y[1-u]),l.__rectSize=i[r],v)?(c={x:0,y:0},c[r]=Math.max(i[r]-f[r]-g,0),c[e]=s[e],l.setClipPath(new st({shape:c})),l.__rectSize=c[r]):a.eachChild(function(n){n.attr({invisible:!0,silent:!0})}),w=this._getPageInfo(n),null!=w.pageIndex&&p(h,{position:w.contentPosition},!!v&&n),this._updatePageInfoView(n,w),s},_pageGo:function(n,t,i){var r=this._getPageInfo(t)[n];null!=r&&i.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:t.id})},_updatePageInfoView:function(n,i){var u=this._controllerGroup;t(["pagePrev","pageNext"],function(t){var f=null!=i[t+"DataIndex"],r=u.childOfName(t);r&&(r.setStyle("fill",f?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),r.cursor=f?"pointer":"default")});var f=u.childOfName("pageText"),r=n.get("pageFormatter"),e=i.pageIndex,o=null!=e?e+1:0,s=i.pageCount;f&&r&&f.setStyle("text",yt(r)?r.replace("{current}",o).replace("{total}",s):r({current:o,total:s}))},_getPageInfo:function(n){function y(n){var i=n.getBoundingRect().clone();return i[t]+=n.position[f],i}var l,p,w,s,nt=n.get("scrollDataIndex",!0),e=this.getContentGroup(),o=e.getBoundingRect(),a=this._containerGroup.__rectSize,f=n.getOrient().index,u=wrt[f],g=wrt[1-f],t=edi[f],b=e.position.slice(),h,k,d,i,r,c,v;if(this._showController?e.eachChild(function(n){n.__legendDataIndex===nt&&(s=n)}):s=e.childAt(0),h=a?Math.ceil(o[u]/a):0,s&&(k=s.getBoundingRect(),d=s.position[f]+k[t],b[f]=-d-o[t],l=Math.floor(h*(d+k[t]+a/2)/o[u]),l=o[u]&&h?Math.max(0,Math.min(h-1,l)):-1,i={x:0,y:0},i[u]=a,i[g]=o[g],i[t]=-b[f]-o[t],c=e.children(),e.eachChild(function(n,f){var e=y(n);e.intersect(i)&&(null==r&&(r=f),w=n.__legendDataIndex);f===c.length-1&&e[t]+e[u]<=i[t]+i[u]&&(w=null)}),null!=r))if(v=y(c[r]),i[t]=v[t]+v[u]-i[u],r<=0&&v[t]>=i[t])p=null;else{for(;r>0&&y(c[r-1]).intersect(i);)r--;p=c[r].__legendDataIndex}return{contentPosition:b,pageIndex:l,pageCount:h,pagePrevDataIndex:p,pageNextDataIndex:w}}});it("legendScroll","legendscroll",function(n,t){var i=n.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:n},function(n){n.setScrollDataIndex(i)})});wr({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var odi=t,rou=sti,uou=["","-webkit-","-moz-","-o-"];gct.prototype={constructor:gct,_enterable:!0,update:function(){var n=this._container,i=n.currentStyle||document.defaultView.getComputedStyle(n),t=n.style;"absolute"!==t.position&&"absolute"!==i.position&&(t.position="relative")},show:function(n){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+ewr(n)+";left:"+this._x+"px;top:"+this._y+"px;"+(n.get("extraCssText")||"");t.style.display=t.innerHTML?"block":"none";this._show=!0},setContent:function(n){this.el.innerHTML=null==n?"":n},setEnterable:function(n){this._enterable=n},getSize:function(){var n=this.el;return[n.clientWidth,n.clientHeight]},moveTo:function(n,t){var i,r=this._zr,u;r&&r.painter&&(i=r.painter.getViewportRootOffset())&&(n+=i.offsetLeft,t+=i.offsetTop);u=this.el.style;u.left=n+"px";u.top=t+"px";this._x=n;this._y=t},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(n){!this._show||this._inContent&&this._enterable||(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(c(this.hide,this),n)):this.hide())},isShow:function(){return this._show}};var sdi=c,ob=t,hdi=u,fou=new st({shape:{x:-1,y:-1,width:2,height:2}});si({type:"tooltip",init:function(n,t){if(!k.node){var i=new gct(t.getDom(),t);this._tooltipContent=i}},render:function(n,t,i){if(!k.node&&!k.wxa){this.group.removeAll();this._tooltipModel=n;this._ecModel=t;this._api=i;this._lastDataByCoordSys=null;this._alwaysShowContent=n.get("alwaysShowContent");var r=this._tooltipContent;r.update();r.setEnterable(n.get("enterable"));this._initGlobalListener();this._keepShow()}},_initGlobalListener:function(){var n=this._tooltipModel.get("triggerOn");yhi("itemTooltip",this._api,sdi(function(t,i,r){"none"!==n&&(n.indexOf(t)>=0?this._tryShow(i,r):"leave"===t&&this._hide(r))},this))},_keepShow:function(){var t=this._tooltipModel,i=this._ecModel,r=this._api,n;null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")&&(n=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){n.manuallyShowTip(t,i,r,{x:n._lastX,y:n._lastY})}))},manuallyShowTip:function(n,t,i,r){var u,o,f;if(r.from!==this.uid&&!k.node)if(u=gci(r,i),this._ticket="",o=r.dataByCoordSys,r.tooltip&&null!=r.x&&null!=r.y)f=fou,f.position=[r.x,r.y],f.update(),f.tooltip=r.tooltip,this._tryShow({offsetX:r.x,offsetY:r.y,target:f},u);else if(o)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,event:{},dataByCoordSys:r.dataByCoordSys,tooltipOption:r.tooltipOption},u);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(n,t,i,r))return;var e=pki(r,t),s=e.point[0],h=e.point[1];null!=s&&null!=h&&this._tryShow({offsetX:s,offsetY:h,position:r.position,target:e.el,event:{}},u)}else null!=r.x&&null!=r.y&&(i.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:i.getZr().findHover(r.x,r.y).target,event:{}},u))},manuallyHideTip:function(n,t,i,r){var u=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&u.hideLater(this._tooltipModel.get("hideDelay"));this._lastX=this._lastY=null;r.from!==this.uid&&this._hide(gci(r,i))},_manuallyAxisShowTip:function(n,t,i,r){var f=r.seriesIndex,e=r.dataIndex,o=t.getComponent("axisPointer").coordSysAxesInfo,u;if(null!=f&&null!=e&&null!=o&&(u=t.getSeriesByIndex(f),u&&"axis"===(n=nlt([u.getData().getItemModel(e),u,(u.coordinateSystem||{}).model,n])).get("trigger")))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:f,dataIndex:e,position:r.position}),!0},_tryShow:function(n,t){var i=n.target,r;this._tooltipModel&&(this._lastX=n.offsetX,this._lastY=n.offsetY,r=n.dataByCoordSys,r&&r.length?this._showAxisTooltip(r,n):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(n,i,t)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(n,i,t)):(this._lastDataByCoordSys=null,this._hide(t)))},_showOrMove:function(n,t){var i=n.get("showDelay");t=c(t,this);clearTimeout(this._showTimout);i>0?this._showTimout=setTimeout(t,i):t()},_showAxisTooltip:function(n,i){var f=this._ecModel,h=this._tooltipModel,u=[i.offsetX,i.offsetY],r=[],e=[],o=nlt([i.tooltipOption,h]),s;ob(n,function(n){ob(n.dataByAxis,function(n){var i=f.getComponent(n.axisDim+"Axis",n.axisIndex),u=n.value,h=[],o,s;i&&null!=u&&(o=nci(u,i.axis,f,n.seriesDataIndices,n.valueLabelOpt),t(n.seriesDataIndices,function(t){var s=f.getSeriesByIndex(t.seriesIndex),c=t.dataIndexInside,r=s&&s.getDataParams(c);r.axisDim=n.axisDim;r.axisIndex=n.axisIndex;r.axisType=n.axisType;r.axisId=n.axisId;r.axisValue=kot(i.axis,u);r.axisValueLabel=o;r&&(e.push(r),h.push(s.formatTooltip(c,!0)))}),s=o,r.push((s?wt(s)+"<br />":"")+h.join("<br />")))})},this);r.reverse();r=r.join("<br /><br />");s=i.position;this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(n)?this._updatePosition(o,s,u[0],u[1],this._tooltipContent,e):this._showTooltipContent(o,r,e,Math.random(),u[0],u[1],s)})},_showSeriesItemTooltip:function(n,t,i){var l=this._ecModel,o=t.seriesIndex,f=l.getSeriesByIndex(o),u=t.dataModel||f,r=t.dataIndex,s=t.dataType,h=u.getData(),e=nlt([h.getItemModel(r),u,f&&(f.coordinateSystem||{}).model,this._tooltipModel]),c=e.get("trigger");if(null==c||"item"===c){var a=u.getDataParams(r,s),v=u.formatTooltip(r,!1,s),y="item_"+u.name+"_"+r;this._showOrMove(e,function(){this._showTooltipContent(e,v,a,y,n.offsetX,n.offsetY,n.position,n.target)});i({type:"showTip",dataIndexInside:r,dataIndex:h.getRawIndex(r),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(n,t,i){var r=t.tooltip,f;"string"==typeof r&&(f=r,r={content:f,formatter:f});var u=new tt(r,this._tooltipModel,this._ecModel),e=u.get("content"),o=Math.random();this._showOrMove(u,function(){this._showTooltipContent(u,e,u.get("formatterParams")||{},o,n.offsetX,n.offsetY,n.position,t)});i({type:"showTip",from:this.uid})},_showTooltipContent:function(n,t,i,r,u,f,e,o){var s,h,c,l;(this._ticket="",n.get("showContent")&&n.get("show"))&&(s=this._tooltipContent,h=n.get("formatter"),e=e||n.get("position"),c=t,h&&"string"==typeof h?c=pet(h,i,!0):"function"==typeof h&&(l=sdi(function(t,r){t===this._ticket&&(s.setContent(r),this._updatePosition(n,e,u,f,s,i,o))},this),this._ticket=r,c=h(i,r,l)),s.setContent(c),s.show(n),this._updatePosition(n,e,u,f,s,i,o))},_updatePosition:function(n,t,r,u,f,e,o){var c=this._api.getWidth(),l=this._api.getHeight(),w,h;t=t||n.get("position");var s=f.getSize(),v=n.get("align"),y=n.get("verticalAlign"),p=o&&o.getBoundingRect().clone();(o&&p.applyTransform(o.transform),"function"==typeof t&&(t=t([r,u],e,f.el,p,{viewSize:[c,l],contentSize:s.slice()})),i(t))?(r=hdi(t[0],c),u=hdi(t[1],l)):a(t)?(t.width=s[0],t.height=s[1],w=fi(t,{width:c,height:l}),r=w.x,u=w.y,v=null,y=null):"string"==typeof t&&o?(r=(h=hwr(t,p,s))[0],u=h[1]):(r=(h=owr(r,u,f.el,c,l,v?null:20,y?null:20))[0],u=h[1]);(v&&(r-=tli(v)?s[0]/2:"right"===v?s[0]:0),y&&(u-=tli(y)?s[1]/2:"bottom"===y?s[1]:0),n.get("confine"))&&(h=swr(r,u,f.el,c,l),r=h[0],u=h[1]);f.moveTo(r,u)},_updateContentNotChangedOnAxis:function(n){var i=this._lastDataByCoordSys,t=!!i&&i.length===n.length;return t&&ob(i,function(i,r){var u=i.dataByAxis||{},f=(n[r]||{}).dataByAxis||[];(t&=u.length===f.length)&&ob(u,function(n,i){var r=f[i]||{},u=n.seriesDataIndices||[],e=r.seriesDataIndices||[];(t&=n.value===r.value&&n.axisType===r.axisType&&n.axisId===r.axisId&&u.length===e.length)&&ob(u,function(n,i){var r=e[i];t&=n.seriesIndex===r.seriesIndex&&n.dataIndex===r.dataIndex})})}),this._lastDataByCoordSys=n,!!t},_hide:function(n){this._lastDataByCoordSys=null;n({type:"hideTip",from:this.uid})},dispose:function(n,t){k.node||k.wxa||(this._tooltipContent.hide(),lct("itemTooltip",t))}});it({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});it({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});hg.prototype={constructor:hg,pointToData:function(n,t){return this.polar.pointToData(n,t)["radius"===this.dim?0:1]},dataToRadius:ri.prototype.dataToCoord,radiusToData:ri.prototype.coordToData};ot(hg,ri);cg.prototype={constructor:cg,pointToData:function(n,t){return this.polar.pointToData(n,t)["radius"===this.dim?0:1]},dataToAngle:ri.prototype.dataToCoord,angleToData:ri.prototype.coordToData};ot(cg,ri);sb=function(n){this.name=n||"";this.cx=0;this.cy=0;this._radiusAxis=new hg;this._angleAxis=new cg;this._radiusAxis.polar=this._angleAxis.polar=this};sb.prototype={type:"polar",axisPointerEnabled:!0,constructor:sb,dimensions:["radius","angle"],model:null,containPoint:function(n){var t=this.pointToCoord(n);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(n){return this._radiusAxis.containData(n[0])&&this._angleAxis.containData(n[1])},getAxis:function(n){return this["_"+n+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(n){var t=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===n&&t.push(i),r.scale.type===n&&t.push(r),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(n){var t=this._angleAxis;return n===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(n){var t=null!=n&&"auto"!==n?this.getAxis(n):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(n,t){return this.coordToPoint([this._radiusAxis.dataToRadius(n[0],t),this._angleAxis.dataToAngle(n[1],t)])},pointToData:function(n,t){var i=this.pointToCoord(n);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},pointToCoord:function(n){var i=n[0]-this.cx,r=n[1]-this.cy,s=this.getAngleAxis(),u=s.getExtent(),f=Math.min(u[0],u[1]),o=Math.max(u[0],u[1]),e,t,h;for(s.inverse?f=o-360:o=f+360,e=Math.sqrt(i*i+r*r),i/=e,r/=e,t=Math.atan2(-r,i)/Math.PI*180,h=t<f?1:-1;t<f||t>o;)t+=360*h;return[e,t]},coordToPoint:function(n){var t=n[0],i=n[1]/180*Math.PI;return[Math.cos(i)*t+this.cx,-Math.sin(i)*t+this.cy]}};brt=nt.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});v(brt.prototype,vc);ywt={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};ov("angle",brt,rli,ywt.angle);ov("radius",brt,rli,ywt.radius);wr({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(n){var t;return this.ecModel.eachComponent(n,function(n){n.getCoordSysModel()===this&&(t=n)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});cdi={dimensions:sb.prototype.dimensions,create:function(n,t){var i=[];return n.eachComponent("polar",function(n,r){var u=new sb(r);u.update=awr;var f=u.getRadiusAxis(),e=u.getAngleAxis(),o=n.findAxisModel("radiusAxis"),s=n.findAxisModel("angleAxis");uli(f,o);uli(e,s);lwr(u,n,t);i.push(u);n.coordinateSystem=u;u.model=n}),n.eachSeries(function(t){if("polar"===t.get("coordinateSystem")){var i=n.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0];t.coordinateSystem=i.coordinateSystem}}),i}};ir.register("polar",cdi);ldi=["axisLine","axisLabel","axisTick","splitLine","splitArea"];gr.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(n){if(this.group.removeAll(),n.get("show")){var i=n.axis,u=i.polar,o=u.getRadiusAxis().getExtent(),f=i.getTicksCoords(),e=r(i.getViewLabels(),function(n){return(n=h(n)).coord=i.dataToCoord(n.tickValue),n});eli(e);eli(f);t(ldi,function(t){!n.get(t+".show")||i.scale.isBlank()&&"axisLine"!==t||this["_"+t](n,u,f,o,e)},this)}},_axisLine:function(n,t,i,r){var f=n.getModel("axisLine.lineStyle"),u=new fc({shape:{cx:t.cx,cy:t.cy,r:r[ilt(t)]},style:f.getLineStyle(),z2:1,silent:!0});u.style.fill=null;this.group.add(u)},_axisTick:function(n,t,i,u){var f=n.getModel("axisTick"),s=(f.get("inside")?-1:1)*f.get("length"),e=u[ilt(t)],h=r(i,function(n){return new hu({shape:fli(t,[e,e+s],n.coord)})});this.group.add(io(h,{style:o(f.getModel("lineStyle").getLineStyle(),{stroke:n.get("axisLine.lineStyle.color")})}))},_axisLabel:function(n,i,r,u,f){var e=n.getCategories(!0),o=n.getModel("axisLabel"),s=o.get("margin");t(f,function(t){var f=o,h=t.tickValue,c=u[ilt(i)],r=i.coordToPoint([c+s,t.coord]),a=i.cx,v=i.cy,y=Math.abs(r[0]-a)/c<.3?"center":r[0]>a?"left":"right",p=Math.abs(r[1]-v)/c<.3?"middle":r[1]>v?"top":"bottom",l;e&&e[h]&&e[h].textStyle&&(f=new tt(e[h].textStyle,o,o.ecModel));l=new d({silent:!0});this.group.add(l);kt(l.style,f,{x:r[0],y:r[1],textFill:f.getTextColor()||n.get("axisLine.lineStyle.color"),text:t.formattedLabel,textAlign:y,textVerticalAlign:p})},this)},_splitLine:function(n,t,i,r){var h=n.getModel("splitLine").getModel("lineStyle"),f=h.get("color"),c=0,e,u,s;for(f=f instanceof Array?f:[f],e=[],u=0;u<i.length;u++)s=c++%f.length,e[s]=e[s]||[],e[s].push(new hu({shape:fli(t,r,i[u].coord)}));for(u=0;u<e.length;u++)this.group.add(io(e[u],{style:o({stroke:f[u%f.length]},h.getLineStyle()),silent:!0,z:n.get("z")}))},_splitArea:function(n,t,i,r){var s;if(i.length){var c=n.getModel("splitArea").getModel("areaStyle"),f=c.get("color"),a=0;f=f instanceof Array?f:[f];for(var e=[],h=Math.PI/180,l=-i[0].coord*h,v=Math.min(r[0],r[1]),y=Math.max(r[0],r[1]),p=n.get("clockwise"),u=1;u<i.length;u++)s=a++%f.length,e[s]=e[s]||[],e[s].push(new to({shape:{cx:t.cx,cy:t.cy,r0:v,r:y,startAngle:l,endAngle:-i[u].coord*h,clockwise:p},silent:!0})),l=-i[u].coord*h;for(u=0;u<e.length;u++)this.group.add(io(e[u],{style:o({fill:f[u%f.length]},c.getAreaStyle()),silent:!0}))}}});adi=["axisLine","axisTickLabel","axisName"];vdi=["splitLine","splitArea"];gr.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(n){if(this.group.removeAll(),n.get("show")){var i=n.axis,r=i.polar,e=r.getAngleAxis(),o=i.getTicksCoords(),f=e.getExtent()[0],s=i.getExtent(),h=vwr(r,n,f),u=new uf(n,h);t(adi,u.add,u);this.group.add(u.getGroup());t(vdi,function(t){n.get(t+".show")&&!i.scale.isBlank()&&this["_"+t](n,r,f,s,o)},this)}},_splitLine:function(n,t,i,r,u){var c=n.getModel("splitLine").getModel("lineStyle"),e=c.get("color"),l=0,s,f,h;for(e=e instanceof Array?e:[e],s=[],f=0;f<u.length;f++)h=l++%e.length,s[h]=s[h]||[],s[h].push(new fc({shape:{cx:t.cx,cy:t.cy,r:u[f].coord},silent:!0}));for(f=0;f<s.length;f++)this.group.add(io(s[f],{style:o({stroke:e[f%e.length],fill:null},c.getLineStyle()),silent:!0}))},_splitArea:function(n,t,i,r,u){var h;if(u.length){var c=n.getModel("splitArea").getModel("areaStyle"),e=c.get("color"),a=0;e=e instanceof Array?e:[e];for(var s=[],l=u[0].coord,f=1;f<u.length;f++)h=a++%e.length,s[h]=s[h]||[],s[h].push(new to({shape:{cx:t.cx,cy:t.cy,r0:l,r:u[f].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),l=u[f].coord;for(f=0;f<s.length;f++)this.group.add(io(s[f],{style:o({fill:e[f%e.length]},c.getAreaStyle()),silent:!0}))}}});ydi=sa.extend({makeElOption:function(n,t,i,r,u){var f=i.axis,c,e,l,o,h,s;"angle"===f.dim&&(this.animationThreshold=Math.PI/18);e=f.polar;l=e.getOtherAxis(f).getExtent();c=f["dataTo"+bk(f.dim)](t);o=r.get("type");o&&"none"!==o&&(h=vct(r),s=pdi[o](f,e,c,l,h),s.style=h,n.graphicKey=s.type,n.pointer=s);ghi(n,i,r,u,ywr(t,i,0,e,r.get("label.margin")))}});pdi={line:function(n,t,i,r){return"angle"===n.dim?{type:"Line",shape:pct(t.coordToPoint([r[0],i]),t.coordToPoint([r[1],i]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:i}}},shadow:function(n,t,i,r){var u=Math.max(1,n.getBandWidth()),f=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:rci(t.cx,t.cy,r[0],r[1],(-i-u/2)*f,(u/2-i)*f)}:{type:"Sector",shape:rci(t.cx,t.cy,i-u/2,i+u/2,0,2*Math.PI)}}};gr.registerAxisPointerClass("PolarAxisPointer",ydi);bt(l(function(n,t,i){var f=i.getWidth(),e=i.getHeight(),r={},o=cwr(ui(t.getSeriesByType(n),function(n){return!t.isSeriesFiltered(n)&&n.coordinateSystem&&"polar"===n.coordinateSystem.type}));t.eachSeriesByType(n,function(n){var y,i,b,h,nt,k,tt,d,p,ct,w,lt;if("polar"===n.coordinateSystem.type){var s=n.getData(),it=n.coordinateSystem,c=it.getBaseAxis(),t=ili(n),rt=o[tlt(c)][t],ut=rt.offset,ft=rt.width,l=it.getOtherAxis(c),et=n.get("center")||["50%","50%"],at=u(et[0],f),vt=u(et[1],e),ot=n.get("barMinHeight")||0,st=n.get("barMinAngle")||0;r[t]=r[t]||[];for(var ht=s.mapDimension(l.dim),yt=s.mapDimension(c.dim),g=be(s,ht),a=l.getExtent()[0],v=0,pt=s.count();v<pt;v++)y=s.get(ht,v),i=s.get(yt,v),isNaN(y)||(b=y>=0?"p":"n",h=a,g&&(r[t][i]||(r[t][i]={p:a,n:a}),h=r[t][i][b]),"radius"===l.dim?(p=l.dataToRadius(y)-a,ct=c.dataToAngle(i),Math.abs(p)<ot&&(p=(p<0?-1:1)*ot),nt=h,k=h+p,d=(tt=ct-ut)-ft,g&&(r[t][i][b]=k)):(w=l.dataToAngle(y,!0)-a,lt=c.dataToRadius(i),Math.abs(w)<st&&(w=(w<0?-1:1)*st),k=(nt=lt+ut)+ft,tt=h,d=h+w,g&&(r[t][i][b]=d)),s.setItemLayout(v,{cx:at,cy:vt,r0:nt,r:k,startAngle:-tt*Math.PI/180,endAngle:-d*Math.PI/180}))}},this)},"bar"));si({type:"polar"});ft(nt.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(n){nt.prototype.init.apply(this,arguments);fh(n,"label",["show"])},optionUpdated:function(){var n=this.option,t=this;n.regions=frt.getFilledRegions(n.regions,n.map,n.nameMap);this._optionModelMap=cl(n.regions||[],function(n,i){return i.name&&n.set(i.name,new tt(i,t)),n},y());this.updateSelectedMap(n.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(n){return this._optionModelMap.get(n)||new tt(null,this,this.ecModel)},getFormattedLabel:function(n,t){var i=this.getRegionModel(n).get("label."+t+".formatter"),r={name:n};return"function"==typeof i?(r.status=t,i(r)):"string"==typeof i?i.replace("{a}",null!=n?n:""):void 0},setZoom:function(n){this.option.zoom=n},setCenter:function(n){this.option.center=n}}),ipt);si({type:"geo",init:function(n,t){var i=new ld(t,!0);this._mapDraw=i;this.group.add(i.group)},render:function(n,t,i,r){if(!r||"geoToggleSelect"!==r.type||r.from!==this.uid){var u=this._mapDraw;n.get("show")?u.draw(n,t,i,this,r):this._mapDraw.group.removeAll();this.group.silent=n.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});rlt("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});rlt("select",{type:"geoSelect",event:"geoselected"});rlt("unSelect",{type:"geoUnSelect",event:"geounselected"});var eou=["rect","polygon","keep","clear"],wdi=t,pwt={lineX:hli(0),lineY:hli(1),rect:{point:function(n,t,i){return n&&i.boundingRect.contain(n[0],n[1])},rect:function(n,t,i){return n&&i.boundingRect.intersect(n)}},polygon:{point:function(n,t,i){return n&&i.boundingRect.contain(n[0],n[1])&&lh(i.range,n[0],n[1])},rect:function(n,t,i){var f=i.range;if(!n||f.length<=1)return!1;var r=n.x,u=n.y,e=n.width,o=n.height,s=f[0];return!!(lh(f,r,u)||lh(f,r+e,u)||lh(f,r,u+o)||lh(f,r+e,u+o)||w.create(n).contain(s[0],s[1])||lg(r,u,r+e,u,f)||lg(r,u,r,u+o,f)||lg(r+e,u,r+e,u+o,f)||lg(r,u+o,r+e,u+o,f))||void 0}}},ds=t,krt=b,drt=l,wwt=["dataToPoint","pointToData"],oou=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],kv=ag.prototype;kv.setOutputRanges=function(n,t){this.matchOutputRanges(n,t,function(n,t,i){if((n.coordRanges||(n.coordRanges=[])).push(t),!n.coordRange){n.coordRange=t;var r=bwt[n.brushType](0,i,t);n.__rangeOffset={offset:ddi[n.brushType](r.values,n.range,[1,1]),xyMinMax:r.xyMinMax}}})};kv.matchOutputRanges=function(n,i,r){ds(n,function(n){var u=this.findTargetInfo(n,i);u&&!0!==u&&t(u.coordSyses,function(t){var u=bwt[n.brushType](1,t,n.range);r(n,u.values,t,i)})},this)};kv.setInputRanges=function(n,t){ds(n,function(n){var i=this.findTargetInfo(n,t),r,u;(n.range=n.range||[],i&&!0!==i)&&(n.panelId=i.panelId,r=bwt[n.brushType](0,i.coordSys,n.coordRange),u=n.__rangeOffset,n.range=u?ddi[n.brushType](r.values,u.offset,gwr(r.xyMinMax,u.xyMinMax)):r.values)},this)};kv.makePanelOpts=function(n,t){return r(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t&&t(i),clipPath:esi(r),isTargetByCursor:ssi(r,n,i.coordSysModel),getLinearBrushOtherExtent:osi(r)}})};kv.controlSeries=function(n,t,i){var r=this.findTargetInfo(n,i);return!0===r||r&&krt(r.coordSyses,t.coordinateSystem)>=0};kv.findTargetInfo=function(n,t){for(var r,u,f=this._targetInfoList,e=cli(t,n),i=0;i<f.length;i++)if(r=f[i],u=n.panelId,u){if(r.panelId===u)return r}else for(i=0;i<bdi.length;i++)if(bdi[i](e,r))return r;return!0};var sou={grid:function(n,t){var r=n.xAxisModels,u=n.yAxisModels,o=n.gridModels,i=y(),f={},e={};(r||u||o)&&(ds(r,function(n){var t=n.axis.grid.model;i.set(t.id,t);f[t.id]=!0}),ds(u,function(n){var t=n.axis.grid.model;i.set(t.id,t);e[t.id]=!0}),ds(o,function(n){i.set(n.id,n);f[n.id]=!0;e[n.id]=!0}),i.each(function(n){var o=n.coordinateSystem,i=[];ds(o.getCartesians(),function(n){(krt(r,n.getAxis("x").model)>=0||krt(u,n.getAxis("y").model)>=0)&&i.push(n)});t.push({panelId:"grid--"+n.id,gridModel:n,coordSysModel:n,coordSys:i[0],coordSyses:i,getPanelRect:kdi.grid,xAxisDeclared:f[n.id],yAxisDeclared:e[n.id]})}))},geo:function(n,t){ds(n.geoModels,function(n){var i=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:i,coordSyses:[i],getPanelRect:kdi.geo})})}},bdi=[function(n,t){var r=n.xAxisModel,u=n.yAxisModel,i=n.gridModel;return!i&&r&&(i=r.axis.grid.model),!i&&u&&(i=u.axis.grid.model),i&&i===t.gridModel},function(n,t){var i=n.geoModel;return i&&i===t.geoModel}],kdi={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(oh(n)),t}},bwt={lineX:drt(lli,0),lineY:drt(lli,1),rect:function(n,t,i){var r=t[wwt[n]]([i[0][0],i[1][0]]),u=t[wwt[n]]([i[0][1],i[1][1]]),f=[elt([r[0],u[0]]),elt([r[1],u[1]])];return{values:f,xyMinMax:f}},polygon:function(n,t,i){var u=[[1/0,-1/0],[1/0,-1/0]];return{values:r(i,function(i){var r=t[wwt[n]](i);return u[0][0]=Math.min(u[0][0],r[0]),u[1][0]=Math.min(u[1][0],r[1]),u[0][1]=Math.max(u[0][1],r[0]),u[1][1]=Math.max(u[1][1],r[1]),r}),xyMinMax:u}}},ddi={lineX:drt(ali,0),lineY:drt(ali,1),rect:function(n,t,i){return[[n[0][0]-i[0]*t[0][0],n[0][1]-i[0]*t[0][1]],[n[1][0]-i[1]*t[1][0],n[1][1]-i[1]*t[1][1]]]},polygon:function(n,t,i){return r(n,function(n,r){return[n[0]-i[0]*t[r][0],n[1]-i[1]*t[r][1]]})}},gdi=["inBrush","outOfBrush"],kwt="__ecBrushSelect",dwt="__ecInBrushSelectEvent",ngi=ev.VISUAL.BRUSH;bt(ngi,function(n,t,i){n.eachComponent({mainType:"brush"},function(t){i&&"takeGlobalCursor"===i.type&&t.setBrushOption("brush"===i.key?i.brushOption:{brushType:!1});(t.brushTargetManager=new ag(t.option,n)).setInputRanges(t.areas,n)})});vt(ngi,function(n,u,f){var e,s,c=[];n.eachComponent({mainType:"brush"},function(u,f){function l(n){return"all"===y||k[n]}function a(n){return!!n.length}function tt(n,t){var i=n.coordinateSystem;w|=i.hasAxisBrushed();l(t)&&i.eachActiveState(n.getData(),function(n,t){"active"===n&&(p[t]=1)})}function it(i,r,f){var e=pli(i),o;e&&!ibr(u,r)&&(t(g,function(t){e[t.brushType]&&u.brushTargetManager.controlSeries(t,i,n)&&f.push(t);w|=a(f)}),l(r)&&a(f))&&(o=i.getData(),o.each(function(n){yli(e,f,o,n)&&(p[n]=1)}))}var b={brushId:u.id,brushIndex:f,brushName:u.name,areas:h(u.areas),selected:[]},g,nt;c.push(b);var v=u.option,y=v.brushLink,k=[],p=[],d=[],w=0;f||(e=v.throttleType,s=v.throttleDelay);g=r(u.areas,function(n){return rbr(o({boundingRect:tgi[n.brushType](n)},n))});nt=ult(u.option,gdi,function(n){n.mappingMethod="fixed"});i(y)&&t(y,function(n){k[n]=1});n.eachSeries(function(n,t){var i=d[t]=[];"parallel"===n.subType?tt(n,t):it(n,t,i)});n.eachSeries(function(n,t){var r={seriesId:n.id,seriesIndex:t,seriesName:n.name,dataIndex:[]};b.selected.push(r);var f=pli(n),u=d[t],i=n.getData(),e=l(t)?function(n){return p[n]?(r.dataIndex.push(i.getRawIndex(n)),"inBrush"):"outOfBrush"}:function(n){return yli(f,u,i,n)?(r.dataIndex.push(i.getRawIndex(n)),"inBrush"):"outOfBrush"};(l(t)?w:a(u))&&wwr(gdi,nt,i,e)})});nbr(u,e,s,c,f)});tgi={lineX:pi,lineY:pi,rect:function(n){return wli(n.range)},polygon:function(n){for(var i,t,u=n.range,r=0,f=u.length;r<f;r++)t=t||[[1/0,-1/0],[1/0,-1/0]],i=u[r],i[0]<t[0][0]&&(t[0][0]=i[0]),i[0]>t[0][1]&&(t[0][1]=i[0]),i[1]<t[1][0]&&(t[1][0]=i[1]),i[1]>t[1][1]&&(t[1][1]=i[1]);return t&&wli(t)}};igi=["#ddd"];wr({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(n,t){var i=this.option,r;t||sli(i,n,["inBrush","outOfBrush"]);r=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:igi};r.hasOwnProperty("liftZ")||(r.liftZ=5)},setAreas:function(n){n&&(this.areas=r(n,function(n){return bli(this.option,n)},this))},setBrushOption:function(n){this.brushOption=bli(this.option,n);this.brushType=this.brushOption.brushType}});si({type:"brush",init:function(n,t){this.ecModel=n;this.api=t;this.model;(this._brushController=new fa(t.getZr())).on("brush",c(this._onBrush,this)).mount()},render:function(n){return this.model=n,olt.apply(this,arguments)},updateTransform:olt,updateView:olt,dispose:function(){this._brushController.dispose()},_onBrush:function(n,t){var i=this.model.id;this.model.brushTargetManager.setOutputRanges(n,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:h(n),$from:i})}});it({type:"brush",event:"brush"},function(n,t){t.eachComponent({mainType:"brush",query:n},function(t){t.setAreas(n.areas)})});it({type:"brushSelect",event:"brushSelected",update:"none"},function(){});gwt={};rgi=ls.toolbox.brush;slt.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:h(rgi.title)};hb=slt.prototype;hb.render=hb.updateView=function(n,i){var r,u,f;i.eachComponent({mainType:"brush"},function(n){r=n.brushType;u=n.brushOption.brushMode||"single";f|=n.areas.length});this._brushType=r;this._brushMode=u;t(n.get("type",!0),function(t){n.setIconStatus(t,("keep"===t?"multiple"===u:"clear"===t?f:t===r)?"emphasis":"normal")})};hb.getIcons=function(){var n=this.model,i=n.get("icon",!0),r={};return t(n.get("type",!0),function(n){i[n]&&(r[n]=i[n])}),r};hb.onclick=function(n,t,i){var r=this._brushType,u=this._brushMode;"clear"===i?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?r:r!==i&&i,brushMode:"keep"===i?"multiple"===u?"single":"multiple":u}})};ha("brush",slt);ki(function(n,r){var f=n&&n.brush,o,u;if(i(f)||(f=f?[f]:[]),f.length){o=[];t(f,function(n){var t=n.hasOwnProperty("toolbox")?n.toolbox:[];t instanceof Array&&(o=o.concat(t))});u=n&&n.toolbox;i(u)&&(u=u[0]);u||(u={feature:{}},n.toolbox=[u]);var s=u.feature||(u.feature={}),h=s.brush||(s.brush={}),e=h.type||(h.type=[]);e.push.apply(e,o);pwr(e);r&&!e.length&&e.push.apply(e,eou)}});no.prototype={constructor:no,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(n){var u=(n=py(n)).getFullYear(),i=n.getMonth()+1,t,r;return i=i<10?"0"+i:i,t=n.getDate(),t=t<10?"0"+t:t,r=n.getDay(),r=Math.abs((r+7-this.getFirstDayOfWeek())%7),{y:u,m:i,d:t,day:r,time:n.getTime(),formatedDate:u+"-"+i+"-"+t,date:n}},getNextNDay:function(n,t){return 0===(t=t||0)?this.getDateInfo(n):((n=new Date(this.getDateInfo(n).time)).setDate(n.getDate()+t),this.getDateInfo(n))},update:function(n,i){function u(n,t){return null!=n[t]&&"auto"!==n[t]}var h,c;this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var f=this._rangeInfo.weeks||1,e=["width","height"],r=this._model.get("cellSize").slice(),o=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[f,7]:[7,f];t([0,1],function(n){u(r,n)&&(o[e[n]]=r[n]*s[n])});h={width:i.getWidth(),height:i.getHeight()};c=this._rect=fi(o,h);t([0,1],function(n){u(r,n)||(r[n]=c[e[n]]/s[n])});this._sw=r[0];this._sh=r[1]},dataToPoint:function(n,t){var f,e;i(n)&&(n=n[0]);null==t&&(t=!0);var r=this.getDateInfo(n),u=this._rangeInfo,o=r.formatedDate;return t&&!(r.time>=u.start.time&&r.time<u.end.time+864e5)?[NaN,NaN]:(f=r.day,e=this._getRangeInfo([u.start.time,o]).nthWeek,"vertical"===this._orient?[this._rect.x+f*this._sw+this._sw/2,this._rect.y+e*this._sh+this._sh/2]:[this._rect.x+e*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2])},pointToData:function(n){var t=this.pointToDate(n);return t&&t.time},dataToRect:function(n,t){var i=this.dataToPoint(n,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},pointToDate:function(n){var t=Math.floor((n[0]-this._rect.x)/this._sw)+1,i=Math.floor((n[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,t-1,r):this._getDateByWeeksAndDay(t,i-1,r)},convertToPixel:l(dli,"dataToPoint"),convertFromPixel:l(dli,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),n=t,u,r,e,f;return(i(n)&&1===n.length&&(n=n[0]),/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n))&&(u=this.getDateInfo(n),r=u.date,r.setMonth(r.getMonth()+1),e=this.getNextNDay(r,-1),t=[u.formatedDate,e.formatedDate]),/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n]),f=this._getRangeInfo(t),f.start.time>f.end.time&&t.reverse(),t},_getRangeInfo:function(n){var u,f,r,s;(n=[this.getDateInfo(n[0]),this.getDateInfo(n[1])])[0].time>n[1].time&&(u=!0,n.reverse());var i=Math.floor(n[1].time/864e5)-Math.floor(n[0].time/864e5)+1,t=new Date(n[0].time),e=t.getDate(),o=n[1].date.getDate();if(t.setDate(e+i-1),t.getDate()!==o)for(f=t.getTime()-n[1].time>0?1:-1;t.getDate()!==o&&(t.getTime()-n[1].time)*f>0;)i-=f,t.setDate(e+i-1);return r=Math.floor((i+n[0].day+6)/7),s=u?1-r:r-1,u&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:i,weeks:r,nthWeek:s,fweek:n[0].day,lweek:n[1].day}},_getDateByWeeksAndDay:function(n,t,i){var r=this._getRangeInfo(i),f,u;return n>r.weeks||0===n&&t<r.fweek||n===r.weeks&&t>r.lweek?!1:(f=7*(n-1)-r.fweek+t,u=new Date(r.start.time),u.setDate(r.start.d+f),this.getDateInfo(u))}};no.dimensions=no.prototype.dimensions;no.getDimensionsInfo=no.prototype.getDimensionsInfo;no.create=function(n,t){var i=[];return n.eachComponent("calendar",function(r){var u=new no(r,n,t);i.push(u);r.coordinateSystem=u}),n.eachSeries(function(n){"calendar"===n.get("coordinateSystem")&&(n.coordinateSystem=i[n.get("calendarIndex")||0])}),i};ir.register("calendar",no);var ugi=nt.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(n){var t=kl(n);ugi.superApply(this,"init",arguments);gli(n,t)},mergeOption:function(n){ugi.superApply(this,"mergeOption",arguments);gli(this.option,n)}}),hou={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},cou={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]};si({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(n){var t=this.group;t.removeAll();var u=n.coordinateSystem,i=u.getRangeInfo(),r=u.getOrient();this._renderDayRect(n,i,t);this._renderLines(n,i,r,t);this._renderYearText(n,i,r,t);this._renderMonthText(n,r,t);this._renderWeekText(n,i,r,t)},_renderDayRect:function(n,t,i){for(var f,e,r=n.coordinateSystem,o=n.getModel("itemStyle").getItemStyle(),s=r.getCellWidth(),h=r.getCellHeight(),u=t.start.time;u<=t.end.time;u=r.getNextNDay(u,1).time)f=r.dataToRect([u],!1).tl,e=new st({shape:{x:f[0],y:f[1],width:s,height:h},cursor:"default",style:o}),i.add(e)},_renderLines:function(n,t,i,r){function l(t){u._firstDayOfMonth.push(e.getDateInfo(t));u._firstDayPoints.push(e.dataToRect([t],!1).tl);var f=u._getLinePointsOfOneWeek(n,t,i);u._tlpoints.push(f[0]);u._blpoints.push(f[f.length-1]);h&&u._drawSplitline(f,o,r)}var u=this,e=n.coordinateSystem,o=n.getModel("splitLine.lineStyle").getLineStyle(),h=n.get("splitLine.show"),a=o.lineWidth,f,c,s;for(this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[],f=t.start,c=0;f.time<=t.end.time;c++)l(f.formatedDate),0===c&&(f=e.getDateInfo(t.start.y+"-"+t.start.m)),s=f.date,s.setMonth(s.getMonth()+1),f=e.getDateInfo(s);l(e.getNextNDay(t.end.time,1).formatedDate);h&&this._drawSplitline(u._getEdgesPoints(u._tlpoints,a,i),o,r);h&&this._drawSplitline(u._getEdgesPoints(u._blpoints,a,i),o,r)},_getEdgesPoints:function(n,t,i){var r=[n[0].slice(),n[n.length-1].slice()],u="horizontal"===i?0:1;return r[0][u]=r[0][u]-t/2,r[1][u]=r[1][u]+t/2,r},_drawSplitline:function(n,t,i){var r=new gf({z2:20,shape:{points:n},style:t});i.add(r)},_getLinePointsOfOneWeek:function(n,t,i){var e=n.coordinateSystem,r,u,f,o;for(t=e.getDateInfo(t),r=[],u=0;u<7;u++)f=e.getNextNDay(t.time,u),o=e.dataToRect([f.time],!1),r[2*f.day]=o.tl,r[2*f.day+1]=o["horizontal"===i?"bl":"tr"];return r},_formatterLabel:function(n,t){return"string"==typeof n&&n?hti(n,t):"function"==typeof n?n(t):t.nameMap},_yearTextPositionControl:function(n,t,i,r,u){var f,e;return t=t.slice(),f=["center","bottom"],"bottom"===r?(t[1]+=u,f=["center","top"]):"left"===r?t[0]-=u:"right"===r?(t[0]+=u,f=["center","top"]):t[1]-=u,e=0,"left"!==r&&"right"!==r||(e=Math.PI/2),{rotation:e,position:t,style:{textAlign:f[0],textVerticalAlign:f[1]}}},_renderYearText:function(n,t,i,r){var f=n.getModel("yearLabel"),c,e;if(f.get("show")){c=f.get("margin");e=f.get("position");e||(e="horizontal"!==i?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(u[0][0]+u[1][0])/2,a=(u[0][1]+u[1][1])/2,o="horizontal"===i?0:1,v={top:[l,u[o][1]],bottom:[l,u[1-o][1]],left:[u[1-o][0],a],right:[u[o][0],a]},h=t.start.y;+t.end.y>+t.start.y&&(h=h+"-"+t.end.y);var y=f.get("formatter"),p={start:t.start.y,end:t.end.y,nameMap:h},w=this._formatterLabel(y,p),s=new d({z2:30});kt(s.style,f,{text:w});s.attr(this._yearTextPositionControl(s,v[e],i,e,c));r.add(s)}},_monthTextPositionControl:function(n,t,i,r,u){var f="left",e="top",o=n[0],s=n[1];return"horizontal"===i?(s+=u,t&&(f="center"),"start"===r&&(e="bottom")):(o+=u,t&&(e="middle"),"start"===r&&(f="right")),{x:o,y:s,textAlign:f,textVerticalAlign:e}},_renderMonthText:function(n,t,i){var r=n.getModel("monthLabel"),a,h,v,u,y,f,p;if(r.get("show")){var o=r.get("nameMap"),s=r.get("margin"),c=r.get("position"),b=r.get("align"),l=[this._tlpoints,this._blpoints];for(yt(o)&&(o=hou[o.toUpperCase()]||[]),a="start"===c?0:1,h="horizontal"===t?0:1,s="start"===c?-s:s,v="center"===b,u=0;u<l[a].length-1;u++){y=l[a][u].slice();f=this._firstDayOfMonth[u];v&&(p=this._firstDayPoints[u],y[h]=(p[h]+l[0][u+1][h])/2);var k=r.get("formatter"),g=o[+f.m-1],nt={yyyy:f.y,yy:(f.y+"").slice(2),MM:f.m,M:+f.m,nameMap:g},tt=this._formatterLabel(k,nt),w=new d({z2:30});e(kt(w.style,r,{text:tt}),this._monthTextPositionControl(y,v,t,c,s));i.add(w)}}},_weekTextPositionControl:function(n,t,i,r,u){var s="center",h="middle",e=n[0],o=n[1],f="start"===i;return"horizontal"===t?(e=e+r+(f?1:-1)*u[0]/2,s=f?"right":"left"):(o=o+r+(f?1:-1)*u[1]/2,h=f?"bottom":"top"),{x:e,y:o,textAlign:s,textVerticalAlign:h}},_renderWeekText:function(n,t,i,r){var s=n.getModel("dayLabel"),l,a,o,v;if(s.get("show")){var f=n.coordinateSystem,y=s.get("position"),c=s.get("nameMap"),h=s.get("margin"),w=f.getFirstDayOfWeek();for(yt(c)&&(c=cou[c.toUpperCase()]||[]),l=f.getNextNDay(t.end.time,7-t.lweek).time,a=[f.getCellWidth(),f.getCellHeight()],h=u(h,a["horizontal"===i?0:1]),"start"===y&&(l=f.getNextNDay(t.start.time,-(7+t.fweek)).time,h=-h),o=0;o<7;o++){var b=f.getNextNDay(l,o),k=f.dataToRect([b.time],!1).center,p=o;p=Math.abs((o+w)%7);v=new d({z2:30});e(kt(v.style,s,{text:c[p]}),this._weekTextPositionControl(k,i,y,h,a));r.add(v)}}}});wr({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});si({type:"title",render:function(n,t,i){var f,l,r,y,e,p,w;if(this.group.removeAll(),n.get("show")){var o=this.group,b=n.getModel("textStyle"),k=n.getModel("subtextStyle"),s=n.get("textAlign"),u=n.get("textBaseline"),h=new d({style:kt({},b,{text:n.get("text"),textFill:b.getTextColor()},{disableBox:!0}),z2:10}),nt=h.getBoundingRect(),g=n.get("subtext"),c=new d({style:kt({},k,{text:g,textFill:k.getTextColor(),y:nt.height+n.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),a=n.get("link"),v=n.get("sublink");h.silent=!a;c.silent=!v;a&&h.on("click",function(){window.open(a,"_"+n.get("target"))});v&&c.on("click",function(){window.open(v,"_"+n.get("subtarget"))});o.add(h);g&&o.add(c);f=o.getBoundingRect();l=n.getBoxLayoutParams();l.width=f.width;l.height=f.height;r=fi(l,{width:i.getWidth(),height:i.getHeight()},n.get("padding"));s||("middle"===(s=n.get("left")||n.get("right"))&&(s="center"),"right"===s?r.x+=r.width:"center"===s&&(r.x+=r.width/2));u||("center"===(u=n.get("top")||n.get("bottom"))&&(u="middle"),"bottom"===u?r.y+=r.height:"middle"===u&&(r.y+=r.height/2),u=u||"top");o.attr("position",[r.x,r.y]);y={textAlign:s,textVerticalAlign:u};h.setStyle(y);c.setStyle(y);f=o.getBoundingRect();e=r.margin;p=n.getItemStyle(["color","opacity"]);p.fill=n.get("backgroundColor");w=new st({shape:{x:f.x-e[3],y:f.y-e[0],width:f.width+e[1]+e[3],height:f.height+e[0]+e[2],r:n.get("borderRadius")},style:p,silent:!0});fet(w);o.add(w)}}});nt.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var lou=["cartesian2d","polar","singleAxis"],fgi=function(n,i){var u=r(n=n.slice(),bk),f=r(i=(i||[]).slice(),bk);return function(r,e){t(n,function(n,t){for(var s={name:n,capital:u[t]},o=0;o<i.length;o++)s[i[o]]=n+f[o];r.call(e,s)})}}(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),gs=t,egi=sh,nbt=function(n,t,i,r){this._dimName=n;this._axisIndex=t;this._valueWindow;this._percentWindow;this._dataExtent;this._minMaxSpan;this.ecModel=r;this._dataZoomModel=i};nbt.prototype={constructor:nbt,hostedBy:function(n){return this._dataZoomModel===n},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var n=[],t=this.ecModel;return t.eachSeries(function(i){if(ubr(i.get("coordinateSystem"))){var r=this._dimName,u=t.queryComponents({mainType:r+"Axis",index:i.get(r+"AxisIndex"),id:i.get(r+"AxisId")})[0];this._axisIndex===(u&&u.componentIndex)&&n.push(i)}},this),n},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var i,n,t=this._dimName,u=this.ecModel,f=this.getAxisModel(),r;return"x"===t||"y"===t?(n="gridIndex",i="x"===t?"y":"x"):(n="polarIndex",i="angle"===t?"radius":"angle"),u.eachComponent(i+"Axis",function(t){(t.get(n)||0)===(f.get(n)||0)&&(r=t)}),r},getMinMaxSpan:function(){return h(this._minMaxSpan)},calculateDataWindow:function(n){var u=this._dataExtent,f=this.getAxisModel().axis.scale,e=this._dataZoomModel.getRangePropMode(),i=[0,100],r=[n.start,n.end],t=[];return gs(["startValue","endValue"],function(i){t.push(null!=n[i]?f.parse(n[i]):null)}),gs([0,1],function(n){var s=t[n],o=r[n];"percent"===e[n]?(null==o&&(o=i[n]),s=f.parse(dt(o,i,u,!0))):o=dt(s,u,i,!0);t[n]=s;r[n]=o}),{valueWindow:egi(t),percentWindow:egi(r)}},reset:function(n){var i,t;n===this._dataZoomModel&&(i=this.getTargetSeriesModels(),this._dataExtent=ebr(this,this._dimName,i),t=this.calculateDataWindow(n.option),this._valueWindow=t.valueWindow,this._percentWindow=t.percentWindow,sbr(this),nai(this))},restore:function(n){n===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,nai(this,!0))},filterData:function(n){function r(n){return n>=t[0]&&n<=t[1]}if(n===this._dataZoomModel){var u=this._dimName,f=this.getTargetSeriesModels(),i=n.get("filterMode"),t=this._valueWindow;"none"!==i&&gs(f,function(n){var f=n.getData(),e=f.mapDimension(u,!0);"weakFilter"===i?f.filterSelf(function(n){for(var u,o,s,i=0;i<e.length;i++){var r=f.get(e[i],n),h=!isNaN(r),c=r<t[0],l=r>t[1];if(h&&!c&&!l)return!0;h&&(s=!0);c&&(u=!0);l&&(o=!0)}return s&&u&&o}):gs(e,function(u){if("empty"===i)n.setData(f.map(u,function(n){return r(n)?n:NaN}));else{var e={};e[u]=t;f.selectRange(e)}});gs(e,function(n){f.setApproximateExtent(t,n)})})}}};var dv=t,il=fgi,tbt=wr({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(n,t,i){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;this._rangePropMode=["percent","percent"];var r=tai(n);this.mergeDefaultAndTheme(n,i);this.doInit(r)},mergeOption:function(n){var t=tai(n);v(this.option,n,!0);this.doInit(t)},doInit:function(n){var t=this.option;k.canvasSupported||(t.realtime=!1);this._setDefaultThrottle(n);iai(this,n);dv([["start","startValue"],["end","endValue"]],function(n,i){"value"===this._rangePropMode[i]&&(t[n[0]]=null)},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var n=this._axisProxies;this.eachTargetAxis(function(t,i,r,u){var f=this.dependentModels[t.axis][i],e=f.__dzAxisProxy||(f.__dzAxisProxy=new nbt(t.name,i,this,u));n[t.name+"_"+i]=e},this)},_resetTarget:function(){var n=this.option,t=this._judgeAutoMode();il(function(t){var i=t.axisIndex;n[i]=bi(n[i])},this);"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var n=this.option,t=!1,i;return il(function(i){null!=n[i.axisIndex]&&(t=!0)},this),i=n.orient,null==i&&t?"orient":t?void 0:(null==i&&(n.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var n=!0,r=this.get("orient",!0),t=this.option,u=this.dependentModels,i;n&&(i="vertical"===r?"y":"x",u[i+"Axis"].length?(t[i+"AxisIndex"]=[0],n=!1):dv(u.singleAxis,function(i){n&&i.get("orient",!0)===r&&(t.singleAxisIndex=[i.componentIndex],n=!1)}));n&&il(function(i){var r,f,u,e;if(n){if(r=[],f=this.dependentModels[i.axis],f.length&&!r.length)for(u=0,e=f.length;u<e;u++)"category"===f[u].get("type")&&r.push(u);t[i.axisIndex]=r;r.length&&(n=!1)}},this);n&&this.ecModel.eachSeries(function(n){this._isSeriesHasAllAxesTypeOf(n,"value")&&il(function(i){var u=t[i.axisIndex],r=n.get(i.axisIndex),f=n.get(i.axisId);b(u,r=n.ecModel.queryComponents({mainType:i.axis,index:r,id:f})[0].componentIndex)<0&&u.push(r)})},this)},_autoSetOrient:function(){var n;this.eachTargetAxis(function(t){n||(n=t.name)},this);this.option.orient="y"===n?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(n,t){var i=!0;return il(function(r){var f=n.get(r.axisIndex),u=this.dependentModels[r.axis][f];u&&u.get("type")===t||(i=!1)},this),i},_setDefaultThrottle:function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var n;return il(function(t){if(null==n){var i=this.get(t.axisIndex);i.length&&(n=this.dependentModels[t.axis][i[0]])}},this),n},eachTargetAxis:function(n,t){var i=this.ecModel;il(function(r){dv(this.get(r.axisIndex),function(u){n.call(t,r,u,this,i)},this)},this)},getAxisProxy:function(n,t){return this._axisProxies[n+"_"+t]},getAxisModel:function(n,t){var i=this.getAxisProxy(n,t);return i&&i.getAxisModel()},setRawRange:function(n,t){var i=this.option;dv([["start","startValue"],["end","endValue"]],function(t){null==n[t[0]]&&null==n[t[1]]||(i[t[0]]=n[t[0]],i[t[1]]=n[t[1]])},this);t||iai(this,n)},getPercentRange:function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},getValueRange:function(n,t){if(null!=n||null!=t)return this.getAxisProxy(n,t).getDataValueWindow();var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()},findRepresentativeAxisProxy:function(n){var t,i;if(n)return n.__dzAxisProxy;t=this._axisProxies;for(i in t)if(t.hasOwnProperty(i)&&t[i].hostedBy(this))return t[i];for(i in t)if(t.hasOwnProperty(i)&&!t[i].hostedBy(this))return t[i]},getRangePropMode:function(){return this._rangePropMode.slice()}}),ibt=rf.extend({type:"dataZoom",render:function(n,t,i){this.dataZoomModel=n;this.ecModel=t;this.api=i},getTargetCoordInfo:function(){function t(n,t,i,r){for(var u,f=0;f<i.length;f++)if(i[f].model===n){u=i[f];break}u||i.push(u={model:n,axisModels:[],coordIndex:r});u.axisModels.push(t)}var i=this.dataZoomModel,r=this.ecModel,n={};return i.eachTargetAxis(function(i,u){var e=r.getComponent(i.axis,u),f;e&&(f=e.getCoordSysModel(),f&&t(f,e,n[f.mainType]||(n[f.mainType]=[]),f.componentIndex))},this),n}}),grt=(tbt.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),st),rl=dt,rbt=sh,so=c,ubt=t,cb="horizontal",aou=5,vou=["line","bar","candlestick","scatter"],fbt=ibt.extend({type:"dataZoom.slider",init:function(n,t){this._displayables={};this._orient;this._range;this._handleEnds;this._size;this._handleWidth;this._handleHeight;this._location;this._dragging;this._dataShadowInfo;this.api=t},render:function(n,t,i,r){fbt.superApply(this,"render",arguments);ky(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=n.get("orient");!1!==this.dataZoomModel.get("show")?(r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){fbt.superApply(this,"remove",arguments);hii(this,"_dispatchZoomAction")},dispose:function(){fbt.superApply(this,"dispose",arguments);hii(this,"_dispatchZoomAction")},_buildView:function(){var n=this.group,t;n.removeAll();this._resetLocation();this._resetInterval();t=this._displayables.barGroup=new f;this._renderBackground();this._renderHandle();this._renderDataShadow();n.add(t);this._positionGroup()},_resetLocation:function(){var f=this.dataZoomModel,e=this.api,n=this._findCoordRect(),r={width:e.getWidth(),height:e.getHeight()},o=this._orient===cb?{right:r.width-n.x-n.width,top:r.height-37,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},u=kl(f.option),i;t(["right","top","width","height"],function(n){"ph"===u[n]&&(u[n]=o[n])});i=fi(u,r,f.padding);this._location={x:i.x,y:i.y};this._size=[i.width,i.height];"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var u=this.group,f=this._location,t=this._orient,e=this.dataZoomModel.getFirstTargetAxisModel(),i=e&&e.get("inverse"),o=this._displayables.barGroup,n=(this._dataShadowInfo||{}).otherAxisInverse,r;o.attr(t!==cb||i?t===cb&&i?{scale:n?[-1,1]:[-1,-1]}:"vertical"!==t||i?{scale:n?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:n?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:n?[1,1]:[1,-1]});r=u.getBoundingRect([o]);u.attr("position",[f.x-r.x,f.y-r.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var i=this.dataZoomModel,n=this._size,t=this._displayables.barGroup;t.add(new grt({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:i.get("backgroundColor")},z2:-40}));t.add(new grt({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:c(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var s=this._dataShadowInfo=this._prepareDataShadowInfo(),n,l,e;if(s){var u=this._size,h=s.series,f=h.getRawData(),c=h.getShadowDim?h.getShadowDim():s.otherDim;if(null!=c){n=f.getDataExtent(c);l=.3*(n[1]-n[0]);n=[n[0]-l,n[1]+l];var a,p=[0,u[1]],w=[0,u[0]],t=[[u[0],0],[0,0]],i=[],v=w[1]/(f.count()-1),r=0,y=Math.round(f.count()/u[0]);f.each([c],function(u,f){if(y>0&&f%y)r+=v;else{var e=null==u||isNaN(u)||""===u,o=e?0:rl(u,n,p,!0);e&&!a&&f?(t.push([t[t.length-1][0],0]),i.push([i[i.length-1][0],0])):!e&&a&&(t.push([r,0]),i.push([r,0]));t.push([r,o]);i.push([r,o]);r+=v;a=e}});e=this.dataZoomModel;this._displayables.barGroup.add(new gu({shape:{points:t},style:o({fill:e.get("dataBackgroundColor")},e.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20}));this._displayables.barGroup.add(new gf({shape:{points:i},style:e.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var n=this.dataZoomModel,r=n.get("showDataShadow"),i,u;if(!1!==r)return u=this.ecModel,n.eachTargetAxis(function(f,e){t(n.getAxisProxy(f.name,e).getTargetSeriesModels(),function(n){if(!(i||!0!==r&&b(vou,n.get("type"))<0)){var o,s=u.getComponent(f.axis,e).axis,t=hbr(f.name),h=n.coordinateSystem;null!=t&&h.getOtherAxis&&(o=h.getOtherAxis(s).inverse);t=n.getData().mapDimension(t);i={thisAxis:s,series:n,thisDim:f.name,otherDim:t,otherAxisInverse:o}}},this)},this),i},_renderHandle:function(){var t=this._displayables,f=t.handles=[],e=t.handleLabels=[],i=this._displayables.barGroup,r=this._size,n=this.dataZoomModel;i.add(t.filler=new grt({draggable:!0,cursor:rai(this._orient),drift:so(this._onDragMove,this,"all"),onmousemove:function(n){fs(n.event)},ondragstart:so(this._showDataInfo,this,!0),ondragend:so(this._onDragEnd,this),onmouseover:so(this._showDataInfo,this,!0),onmouseout:so(this._showDataInfo,this,!1),style:{fill:n.get("fillerColor"),textPosition:"inside"}}));i.add(new grt(fet({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{stroke:n.get("dataBackgroundColor")||n.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})));ubt([0,1],function(t){var r=vy(n.get("handleIcon"),{cursor:rai(this._orient),draggable:!0,drift:so(this._onDragMove,this,t),onmousemove:function(n){fs(n.event)},ondragend:so(this._onDragEnd,this),onmouseover:so(this._showDataInfo,this,!0),onmouseout:so(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),h=r.getBoundingRect(),o,s;this._handleHeight=u(n.get("handleSize"),this._size[1]);this._handleWidth=h.width/h.height*this._handleHeight;r.setStyle(n.getModel("handleStyle").getItemStyle());o=n.get("handleColor");null!=o&&(r.style.fill=o);i.add(f[t]=r);s=n.textStyleModel;this.group.add(e[t]=new d({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:s.getTextColor(),textFont:s.getFont()},z2:10}))},this)},_resetInterval:function(){var n=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[rl(n[0],[0,100],t,!0),rl(n[1],[0,100],t,!0)]},_updateInterval:function(n,t){var s=this.dataZoomModel,e=this._handleEnds,i=this._getViewExtent(),r=s.findRepresentativeAxisProxy().getMinMaxSpan(),u=[0,100],f,o;return pv(t,e,i,s.get("zoomLock")?"all":n,null!=r.minSpan?rl(r.minSpan,u,i,!0):null,null!=r.maxSpan?rl(r.maxSpan,u,i,!0):null),f=this._range,o=this._range=rbt([rl(e[0],i,u,!0),rl(e[1],i,u,!0)]),!f||f[0]!==o[0]||f[1]!==o[1]},_updateView:function(n){var i=this._displayables,r=this._handleEnds,t=rbt(r.slice()),u=this._size;ubt([0,1],function(n){var f=i.handles[n],t=this._handleHeight;f.attr({scale:[t/2,t/2],position:[r[n],u[1]/2-t/2]})},this);i.filler.setShape({x:t[0],y:0,width:t[1]-t[0],height:u[1]});this._updateDataInfo(n)},_updateDataInfo:function(n){function i(n){var t=oh(u.handles[n].parent,this.group),i=oet(0===n?"right":"left",t),r=this._handleWidth/2+aou,o=lf([c[n]+(0===n?-r:r),this._size[1]/2],t);l[n].setStyle({x:o[0],y:o[1],textVerticalAlign:f===cb?"middle":i,textAlign:f===cb?i:"center",text:e[n]})}var r=this.dataZoomModel,u=this._displayables,l=u.handleLabels,f=this._orient,e=["",""],t,c;if(r.get("showDetail")&&(t=r.findRepresentativeAxisProxy(),t)){var o=t.getAxisModel().axis,s=this._range,h=n?t.calculateDataWindow({start:s[0],end:s[1]}).valueWindow:t.getDataValueWindow();e=[this._formatLabel(h[0],o),this._formatLabel(h[1],o)]}c=rbt(this._handleEnds.slice());i.call(this,0);i.call(this,1)},_formatLabel:function(n,t){var f=this.dataZoomModel,i=f.get("labelFormatter"),r=f.get("labelPrecision"),u;return null!=r&&"auto"!==r||(r=t.getPixelPrecision()),u=null==n||isNaN(n)?"":"category"===t.type||"time"===t.type?t.scale.getLabel(Math.round(n)):n.toFixed(Math.min(r,20)),vr(i)?i(n,u):yt(i)?i.replace("{value}",u):u},_showDataInfo:function(n){n=this._dragging||n;var t=this._displayables.handleLabels;t[0].attr("invisible",!n);t[1].attr("invisible",!n)},_onDragMove:function(n,t,i){this._dragging=!0;var u=lf([t,i],this._displayables.barGroup.getLocalTransform(),!0),f=this._updateInterval(n,u[0]),r=this.dataZoomModel.get("realtime");this._updateView(!r);f&&r&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(n){var i=this._size,t=this._displayables.barGroup.transformCoordToLocal(n.offsetX,n.offsetY);if(!(t[0]<0||t[0]>i[0]||t[1]<0||t[1]>i[1])){var r=this._handleEnds,u=(r[0]+r[1])/2,f=this._updateInterval("all",t[0]-u);this._updateView();f&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:n[0],end:n[1]})},_findCoordRect:function(){var n,t,i;return(ubt(this.getTargetCoordInfo(),function(t){if(!n&&t.length){var i=t[0].model.coordinateSystem;n=i.getRect&&i.getRect()}}),n)||(t=this.api.getWidth(),i=this.api.getHeight(),n={x:.2*t,y:.2*i,width:.6*t,height:.6*i}),n}});tbt.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var ogi=l,sgi="\0_ec_dataZoom_roams",hgi=c,cgi=ibt.extend({type:"dataZoom.inside",init:function(){this._range},render:function(n,i,u){cgi.superApply(this,"render",arguments);this._range=n.getPercentRange();t(this.getTargetCoordInfo(),function(i,f){var e=r(i,function(n){return uai(n.model)});t(i,function(t){var r=t.model,i=n.option;cbr(u,{coordId:uai(r),allCoordIds:e,containsPoint:function(n,t,i){return r.coordinateSystem.containPoint([t,i])},dataZoomId:n.id,throttleRate:n.get("throttle",!0),panGetRange:hgi(this._onPan,this,t,f),zoomGetRange:hgi(this._onZoom,this,t,f),zoomLock:i.zoomLock,disabled:i.disabled,roamControllerOpt:{zoomOnMouseWheel:i.zoomOnMouseWheel,moveOnMouseMove:i.moveOnMouseMove,preventDefaultMouseMove:i.preventDefaultMouseMove}})},this)},this)},dispose:function(){lbr(this.api,this.dataZoomModel.id);cgi.superApply(this,"dispose",arguments);this._range=null},_onPan:function(n,t,i,r,u,f,e,o,s){var l=this._range,h=l.slice(),a=n.axisModels[0],c,v;if(a)return c=lgi[t]([f,e],[o,s],a,i,n),v=c.signal*(h[1]-h[0])*c.pixel/c.pixelLength,pv(v,h,[0,100],"all"),this._range=h,l[0]!==h[0]||l[1]!==h[1]?h:void 0},_onZoom:function(n,t,i,r,u,f){var h=this._range,e=h.slice(),l=n.axisModels[0],o,s,c;if(l)return o=lgi[t](null,[u,f],l,i,n),s=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(e[1]-e[0])+e[0],r=Math.max(1/r,0),e[0]=(e[0]-s)*r+s,e[1]=(e[1]-s)*r+s,c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(),pv(0,e,[0,100],0,c.minSpan,c.maxSpan),this._range=e,h[0]!==e[0]||h[1]!==e[1]?e:void 0}}),lgi={grid:function(n,t,i,r,u){var o=i.axis,f={},e=u.model.coordinateSystem.getRect();return n=n||[0,0],"x"===o.dim?(f.pixel=t[0]-n[0],f.pixelLength=e.width,f.pixelStart=e.x,f.signal=o.inverse?1:-1):(f.pixel=t[1]-n[1],f.pixelLength=e.height,f.pixelStart=e.y,f.signal=o.inverse?-1:1),f},polar:function(n,t,i,r,u){var h=i.axis,f={},e=u.model.coordinateSystem,o=e.getRadiusAxis().getExtent(),s=e.getAngleAxis().getExtent();return n=n?e.pointToCoord(n):[0,0],t=e.pointToCoord(t),"radiusAxis"===i.mainType?(f.pixel=t[0]-n[0],f.pixelLength=o[1]-o[0],f.pixelStart=o[0],f.signal=h.inverse?1:-1):(f.pixel=t[1]-n[1],f.pixelLength=s[1]-s[0],f.pixelStart=s[0],f.signal=h.inverse?-1:1),f},singleAxis:function(n,t,i,r,u){var o=i.axis,e=u.model.coordinateSystem.getRect(),f={};return n=n||[0,0],"horizontal"===o.orient?(f.pixel=t[0]-n[0],f.pixelLength=e.width,f.pixelStart=e.x,f.signal=o.inverse?1:-1):(f.pixel=t[1]-n[1],f.pixelLength=e.height,f.pixelStart=e.y,f.signal=o.inverse?-1:1),f}};pr({getTargetSeries:function(n){var i=y();return n.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(n,r,u){t(u.getAxisProxy(n.name,r).getTargetSeriesModels(),function(n){i.set(n.uid,n)})})}),i},modifyOutputEnd:!0,overallReset:function(n,t){n.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(n,i,r){r.getAxisProxy(n.name,i).reset(r,t)});n.eachTargetAxis(function(n,i,r){r.getAxisProxy(n.name,i).filterData(r,t)})});n.eachComponent("dataZoom",function(n){var t=n.findRepresentativeAxisProxy(),i=t.getDataPercentWindow(),r=t.getDataValueWindow();n.setRawRange({start:i[0],end:i[1],startValue:r[0],endValue:r[1]},!0)})}});it("dataZoom",function(n,i){var u=fbr(c(i.eachComponent,i,"dataZoom"),fgi,function(n,t){return n.get(t.axisIndex)}),r=[];i.eachComponent({mainType:"dataZoom",query:n},function(n){r.push.apply(r,u(n).nodes)});t(r,function(t){t.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})});ebt=t;obt=function(n){var t=n&&n.visualMap;i(t)||(t=t?[t]:[]);ebt(t,function(n){if(n){ca(n,"splitList")&&!ca(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var t=n.pieces;t&&i(t)&&ebt(t,function(n){a(n)&&(ca(n,"start")&&!ca(n,"min")&&(n.min=n.start),ca(n,"end")&&!ca(n,"max")&&(n.max=n.end))})}})};nt.registerSubTypeDefaulter("visualMap",function(n){return n.categories||(n.pieces?n.pieces.length>0:n.splitNumber>0)&&!n.calculable?"piecewise":"continuous"});sbt=ev.VISUAL.COMPONENT;vt(sbt,{createOnAllSeries:!0,reset:function(n,t){var i=[];return t.eachComponent("visualMap",function(t){var r=n.pipelineContext;!t.isTargetSeries(n)||r&&r.large||i.push(bwr(t.stateList,t.targetVisuals,c(t.getValueState,t),t.getDataDimension(n.getData())))}),i}});vt(sbt,{createOnAllSeries:!0,reset:function(n,t){var i=n.getData(),r=[];t.eachComponent("visualMap",function(t){if(t.isTargetSeries(n)){var u=t.getVisualMeta(c(bbr,null,n,t))||{stops:[],outerColors:[]},e=t.getDataDimension(i),f=i.getDimensionInfo(e);null!=f&&(u.dimension=f.index,r.push(u))}});n.getData().setVisual("visualMeta",r)}});var hbt={get:function(n,t,r){var u=h((you[n]||{})[t]);return r&&i(u)?u[u.length-1]:u}},you={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},agi=et.mapVisual,pou=et.eachVisual,wou=i,cbt=t,bou=sh,kou=dt,lbt=pi,nut=wr({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(n,t,i){this._dataExtent;this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.itemSize;this.mergeDefaultAndTheme(n,i)},optionUpdated:function(n,t){var i=this.option;k.canvasSupported||(i.realtime=!1);!t&&sli(i,n,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(n){var t=this.stateList;n=c(n,this);this.controllerVisuals=ult(this.option.controller,t,n);this.targetVisuals=ult(this.option.target,t,n)},getTargetSeriesIndices:function(){var n=this.option.seriesIndex,t=[];return null==n||"all"===n?this.ecModel.eachSeries(function(n,i){t.push(i)}):t=bi(n),t},eachTargetSeries:function(n,i){t(this.getTargetSeriesIndices(),function(t){n.call(i,this.ecModel.getSeriesByIndex(t))},this)},isTargetSeries:function(n){var t=!1;return this.eachTargetSeries(function(i){i===n&&(t=!0)}),t},formatValueText:function(n,t,r){function s(n){return n===o[0]?"min":n===o[1]?"max":(+n).toFixed(Math.min(c,20))}var f,u,h=this.option,c=h.precision,o=this.dataBound,e=h.formatter;return r=r||["<",">"],i(n)&&(n=n.slice(),f=!0),u=t?n:f?[s(n[0]),s(n[1])]:s(n),yt(e)?e.replace("{value}",f?u[0]:u).replace("{value2}",f?u[1]:u):vr(e)?f?e(n[0],n[1]):e(n):f?n[0]===o[0]?r[0]+" "+u[1]:n[1]===o[1]?r[1]+" "+u[0]:u[0]+" - "+u[1]:u},resetExtent:function(){var n=this.option,t=bou([n.min,n.max]);this._dataExtent=t},getDataDimension:function(n){var i=this.option.dimension,f=n.dimensions,r,t,u;if(null!=i||f.length){if(null!=i)return n.getDimension(i);for(r=n.dimensions,t=r.length-1;t>=0;t--)if(u=r[t],!n.getDimensionInfo(u).isCalculationCoord)return u}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function u(i){wou(n.color)&&!i.inRange&&(i.inRange={color:n.color.slice().reverse()});i.inRange=i.inRange||{color:e.get("gradientColor")};cbt(this.stateList,function(n){var r=i[n],u;yt(r)&&(u=hbt.get(r,"active",t),u?(i[n]={},i[n][r]=u):delete i[n])},this)}var e=this.ecModel,n=this.option,f={inRange:n.inRange,outOfRange:n.outOfRange},i=n.target||(n.target={}),r=n.controller||(n.controller={}),t;v(i,f);v(r,f);t=this.isCategory();u.call(this,i);u.call(this,r),function(n,i,r){var f=n[i],u=n[r];f&&!u&&(u=n[r]={},cbt(f,function(n,i){if(et.isValidType(i)){var r=hbt.get(i,"inactive",t);null!=r&&(u[i]=r,"color"!==i||u.hasOwnProperty("opacity")||u.hasOwnProperty("colorAlpha")||(u.opacity=[0,0]))}}))}.call(this,i,"inRange","outOfRange"),function(n){var i=(n.inRange||{}).symbol||(n.outOfRange||{}).symbol,r=(n.inRange||{}).symbolSize||(n.outOfRange||{}).symbolSize,u=this.get("inactiveColor");cbt(this.stateList,function(f){var o=this.itemSize,e=n[f],s,c;e||(e=n[f]={color:t?u:[u]});null==e.symbol&&(e.symbol=i&&h(i)||(t?"roundRect":["roundRect"]));null==e.symbolSize&&(e.symbolSize=r&&h(r)||(t?o[0]:[o[0],o[0]]));e.symbol=agi(e.symbol,function(n){return"none"===n||"square"===n?"roundRect":n});s=e.symbolSize;null!=s&&(c=-1/0,pou(s,function(n){n>c&&(c=n)}),e.symbolSize=agi(s,function(n){return kou(n,[0,c],[0,o[0]],!0)}))},this)}.call(this,r)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:lbt,getValueState:lbt,getVisualMeta:lbt}),vgi=[20,140],ygi=nut.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(){ygi.superApply(this,"optionUpdated",arguments);this.resetExtent();this.resetVisual(function(n){n.mappingMethod="linear";n.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){ygi.superApply(this,"resetItemSize",arguments);var n=this.itemSize;"horizontal"===this._orient&&n.reverse();(null==n[0]||isNaN(n[0]))&&(n[0]=vgi[0]);(null==n[1]||isNaN(n[1]))&&(n[1]=vgi[1])},_resetRange:function(){var t=this.getExtent(),n=this.option.range;!n||n.auto?(t.auto=1,this.option.range=t):i(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],t[0]),n[1]=Math.min(n[1],t[1]))},completeVisualOption:function(){nut.prototype.completeVisualOption.apply(this,arguments);t(this.stateList,function(n){var t=this.option.controller[n].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(n){this.option.range=n.slice();this._resetRange()},getSelected:function(){var t=this.getExtent(),n=sh((this.get("range")||[]).slice());return n[0]>t[1]&&(n[0]=t[1]),n[1]>t[1]&&(n[1]=t[1]),n[0]<t[0]&&(n[0]=t[0]),n[1]<t[0]&&(n[1]=t[0]),n},getValueState:function(n){var t=this.option.range,i=this.getExtent();return(t[0]<=i[0]||t[0]<=n)&&(t[1]>=i[1]||n<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(n){var t=[];return this.eachTargetSeries(function(i){var r=[],u=i.getData();u.each(this.getDataDimension(u),function(t,i){n[0]<=t&&t<=n[1]&&r.push(i)},this);t.push({seriesId:i.id,dataIndex:r})},this),t},getVisualMeta:function(n){function e(t,r){i.push({value:t,color:n(t,r)})}for(var f,s,u=sai(0,0,this.getExtent()),t=sai(0,0,this.option.range.slice()),i=[],o=0,r=0,c=t.length,h=u.length;r<h&&(!t.length||u[r]<=t[0]);r++)u[r]<t[o]&&e(u[r],"outOfRange");for(f=1;o<c;o++,f=0)f&&i.length&&e(t[o],"outOfRange"),e(t[o],"inRange");for(f=1;r<h;r++)(!t.length||t[t.length-1]<u[r])&&(f&&(i.length&&e(i[i.length-1].value,"outOfRange"),f=0),e(u[r],"outOfRange"));return s=i.length,{stops:i,outerColors:[s?i[0].color:"transparent",s?i[s-1].color:"transparent"]}}}),pgi=si({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(n,t){this.ecModel=n;this.api=t;this.visualMapModel},render:function(n){this.visualMapModel=n;!1!==n.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(n){var i=this.visualMapModel,t=oc(i.get("padding")||0),r=n.getBoundingRect();n.add(new st({z2:-1,silent:!0,shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[3]+t[1],height:r.height+t[0]+t[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},getControllerVisual:function(n,i,r){function s(n){return u[n]}function h(n,t){u[n]=t}var c=(r=r||{}).forceState,f=this.visualMapModel,u={},o,e;return("symbol"===i&&(u.symbol=f.get("itemSymbol")),"color"===i)&&(o=f.get("contentColor"),u.color=o),e=f.controllerVisuals[c||f.getValueState(n)],t(et.prepareVisualTypes(e),function(t){var u=e[t];r.convertOpacityToAlpha&&"opacity"===t&&(t="colorAlpha",u=e.__alphaForOpacity);et.dependsOn(t,i)&&u&&u.applyVisual(n,s,h)}),u[i]},positionGroup:function(n){var i=this.visualMapModel,t=this.api;kk(n,i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})},doRender:pi}),ho=dt,dou=t,tut=Math.min,lb=Math.max,gou=12,wgi=6,nsu=pgi.extend({type:"visualMap.continuous",init:function(){nsu.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._orient;this._useHandle;this._hoverLinkDataIndices=[];this._dragging;this._hovering},doRender:function(n,t,i,r){r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},_buildView:function(){var t,n,i;this.group.removeAll();t=this.visualMapModel;n=this.group;this._orient=t.get("orient");this._useHandle=t.get("calculable");this._resetInterval();this._renderBar(n);i=t.get("text");this._renderEndsText(n,i,0);this._renderEndsText(n,i,1);this._updateView(!0);this.renderBackground(n);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(n)},_renderEndsText:function(n,t,i){var r;if(t){r=t[1-i];r=null!=r?r+"":"";var u=this.visualMapModel,f=u.get("textGap"),e=u.itemSize,o=this._shapes.barGroup,s=this._applyTransform([e[0]/2,0===i?-f:e[1]+f],o),h=this._applyTransform(0===i?"bottom":"top",o),c=this._orient,l=this.visualMapModel.textStyleModel;this.group.add(new d({style:{x:s[0],y:s[1],textVerticalAlign:"horizontal"===c?"middle":h,textAlign:"horizontal"===c?h:"center",text:r,textFont:l.getFont(),textFill:l.getTextColor()}}))}},_renderBar:function(n){var f=this.visualMapModel,t=this._shapes,r=f.itemSize,e=this._orient,h=this._useHandle,o=hai(f,this.api,r),i=t.barGroup=this._createBarGroup(o),s,u;i.add(t.outOfRange=yg());i.add(t.inRange=yg(null,h?lai(this._orient):null,c(this._dragHandle,this,"all",!1),c(this._dragHandle,this,"all",!0)));s=f.textStyleModel.getTextRect("国");u=lb(s.width,s.height);h&&(t.handleThumbs=[],t.handleLabels=[],t.handleLabelPoints=[],this._createHandle(i,0,r,u,e,o),this._createHandle(i,1,r,u,e,o));this._createIndicator(i,r,u,e);n.add(i)},_createHandle:function(n,t,i,r,u){var h=c(this._dragHandle,this,t,!1),l=c(this._dragHandle,this,t,!0),e=yg(kbr(t,r),lai(this._orient),h,l),o,s,a,f;e.position[0]=i[0];n.add(e);o=this.visualMapModel.textStyleModel;s=new d({draggable:!0,drift:h,onmousemove:function(n){fs(n.event)},ondragend:l,style:{x:0,y:0,text:"",textFont:o.getFont(),textFill:o.getTextColor()}});this.group.add(s);a=["horizontal"===u?r/2:1.5*r,"horizontal"===u?0===t?-1.5*r:1.5*r:0===t?-r/2:r/2];f=this._shapes;f.handleThumbs[t]=e;f.handleLabelPoints[t]=a;f.handleLabels[t]=s},_createIndicator:function(n,t,i,r){var u=yg([[0,0]],"move"),e,o,s,f;u.position[0]=t[0];u.attr({invisible:!0,silent:!0});n.add(u);e=this.visualMapModel.textStyleModel;o=new d({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:e.getFont(),textFill:e.getTextColor()}});this.group.add(o);s=["horizontal"===r?i/2:wgi+3,0];f=this._shapes;f.indicator=u;f.indicatorLabel=o;f.indicatorLabelPoint=s},_dragHandle:function(n,t,i,r){if(this._useHandle){if(this._dragging=!t,!t){var u=this._applyTransform([i,r],this._shapes.barGroup,!0);this._updateInterval(n,u[1]);this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()});t?!this._hovering&&this._clearHoverLinkToSeries():cai(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[n],!1)}},_resetInterval:function(){var n=this.visualMapModel,t=this._dataInterval=n.getSelected(),i=n.getExtent(),r=[0,n.itemSize[1]];this._handleEnds=[ho(t[0],i,r,!0),ho(t[1],i,r,!0)]},_updateInterval:function(n,t){var u;t=t||0;var f=this.visualMapModel,i=this._handleEnds,r=[0,f.itemSize[1]];pv(t,i,r,n,0);u=f.getExtent();this._dataInterval=[ho(i[0],r,u,!0),ho(i[1],r,u,!0)]},_updateView:function(n){var u=this.visualMapModel,i=u.getExtent(),f=this._shapes,e=[0,u.itemSize[1]],o=n?e:this._handleEnds,t=this._createBarVisual(this._dataInterval,i,o,"inRange"),r=this._createBarVisual(i,i,e,"outOfRange");f.inRange.setStyle({fill:t.barColor,opacity:t.opacity}).setShape("points",t.barPoints);f.outOfRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape("points",r.barPoints);this._updateHandle(o,t)},_createBarVisual:function(n,t,i,r){var f={forceState:r,convertOpacityToAlpha:!0},u=this._makeColorGradient(n,f),e=[this.getControllerVisual(n[0],"symbolSize",f),this.getControllerVisual(n[1],"symbolSize",f)],o=this._createBarPoints(i,e);return{barColor:new ec(0,0,0,1,u),barPoints:o,handlesColor:[u[0].color,u[u.length-1].color]}},_makeColorGradient:function(n,t){var r=[],f=(n[1]-n[0])/100,i,u;for(r.push({color:this.getControllerVisual(n[0],"color",t),offset:0}),i=1;i<100;i++){if(u=n[0]+f*i,u>n[1])break;r.push({color:this.getControllerVisual(u,"color",t),offset:i/100})}return r.push({color:this.getControllerVisual(n[1],"color",t),offset:1}),r},_createBarPoints:function(n,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],n[0]],[i[0],n[0]],[i[0],n[1]],[i[0]-t[1],n[1]]]},_createBarGroup:function(n){var t=this._orient,i=this.visualMapModel.get("inverse");return new f("horizontal"!==t||i?"horizontal"===t&&i?{scale:"bottom"===n?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||i?{scale:"left"===n?[1,1]:[-1,1]}:{scale:"left"===n?[1,-1]:[-1,-1]}:{scale:"bottom"===n?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(n,t){if(this._useHandle){var i=this._shapes,r=this.visualMapModel,u=i.handleThumbs,f=i.handleLabels;dou([0,1],function(e){var o=u[e],s;o.setStyle("fill",t.handlesColor[e]);o.position[1]=n[e];s=lf(i.handleLabelPoints[e],oh(o,this.group));f[e].setStyle({x:s[0],y:s[1],text:r.formatValueText(this._dataInterval[e]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===e?"bottom":"top":"left",i.barGroup)})},this)}},_showIndicator:function(n,t,i,r){var e=this.visualMapModel,p=e.getExtent(),l=e.itemSize,w=[0,l[1]],a=ho(n,p,w,!0),f=this._shapes,u=f.indicator,v,y,o,s,h,c;u&&(u.position[1]=a,u.attr("invisible",!1),u.setShape("points",dbr(!!i,r,a,l[1])),v={convertOpacityToAlpha:!0},y=this.getControllerVisual(n,"color",v),u.setStyle("fill",y),o=lf(f.indicatorLabelPoint,oh(u,this.group)),s=f.indicatorLabel,s.attr("invisible",!1),h=this._applyTransform("left",f.barGroup),c=this._orient,s.setStyle({text:(i||"")+e.formatValueText(t),textVerticalAlign:"horizontal"===c?h:"middle",textAlign:"horizontal"===c?"center":h,x:o[0],y:o[1]}))},_enableHoverLinkToSeries:function(){var n=this;this._shapes.barGroup.on("mousemove",function(t){if(n._hovering=!0,!n._dragging){var r=n.visualMapModel.itemSize,i=n._applyTransform([t.offsetX,t.offsetY],n._shapes.barGroup,!0,!0);i[1]=tut(lb(0,i[1]),r[1]);n._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=r[0])}}).on("mouseout",function(){n._hovering=!1;n._dragging||n._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var n=this.api.getZr();this.visualMapModel.option.hoverLink?(n.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),n.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(n,t){var u=this.visualMapModel,a=u.itemSize,i,f,l,h,c;if(u.option.hoverLink){i=[0,a[1]];f=u.getExtent();n=tut(lb(i[0],n),i[1]);var e=gbr(u,f,i),o=[n-e,n+e],s=ho(n,i,f,!0),r=[ho(o[0],i,f,!0),ho(o[1],i,f,!0)];o[0]<i[0]&&(r[0]=-1/0);o[1]>i[1]&&(r[1]=1/0);t&&(r[0]===-1/0?this._showIndicator(s,r[1],"< ",e):r[1]===1/0?this._showIndicator(s,r[0],"> ",e):this._showIndicator(s,s,"≈ ",e));l=this._hoverLinkDataIndices;h=[];(t||cai(u))&&(h=this._hoverLinkDataIndices=u.findTargetDataIndices(r));c=gir(l,h);this._dispatchHighDown("downplay",vg(c[0]));this._dispatchHighDown("highlight",vg(c[1]))}},_hoverLinkFromSeriesMouseOver:function(n){var t=n.target,f=this.visualMapModel,r,u,i;t&&null!=t.dataIndex&&(r=this.ecModel.getSeriesByIndex(t.seriesIndex),f.isTargetSeries(r)&&(u=r.getData(t.dataType),i=u.get(f.getDataDimension(u),t.dataIndex,!0),isNaN(i)||this._showIndicator(i,i)))},_hideIndicator:function(){var n=this._shapes;n.indicator&&n.indicator.attr("invisible",!0);n.indicatorLabel&&n.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var n=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",vg(n));n.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var n=this.api.getZr();n.off("mouseover",this._hoverLinkFromSeriesMouseOver);n.off("mouseout",this._hideIndicator)},_applyTransform:function(n,t,r,u){var f=oh(t,u?null:this.group);return nf[i(n)?"applyTransform":"transformDirection"](n,f,r)},_dispatchHighDown:function(n,t){t&&t.length&&this.api.dispatchAction({type:n,batch:t})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});it({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(n,t){t.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})});ki(obt);bgi=nut.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(n,t){var i,u;bgi.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetExtent();i=this._mode=this._determineMode();kgi[this._mode].call(this);this._resetSelected(n,t);u=this.option.categories;this.resetVisual(function(n,t){"categories"===i?(n.mappingMethod="category",n.categories=h(u)):(n.dataExtent=this.getExtent(),n.mappingMethod="piecewise",n.pieceList=r(this._pieceList,function(n){var n=h(n);return"inRange"!==t&&(n.visual=null),n}))})},completeVisualOption:function(){function i(n,t,i){return n&&n[t]&&(a(n[t])?n[t].hasOwnProperty(i):n[t]===i)}var n=this.option,r={},u=et.listVisualTypes(),f=this.isCategory();t(n.pieces,function(n){t(u,function(t){n.hasOwnProperty(t)&&(r[t]=1)})});t(r,function(r,u){var e=0;t(this.stateList,function(t){e|=i(n,t,u)||i(n.target,t,u)},this);e||t(this.stateList,function(t){(n[t]||(n[t]={}))[u]=hbt.get(u,"inRange"===t?"active":"inactive",f)})},this);nut.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(n,i){var u=this.option,e=this._pieceList,r=(i?u:n).selected||{},f;(u.selected=r,t(e,function(n){var t=this.getSelectedMapKey(n);r.hasOwnProperty(t)||(r[t]=!0)},this),"single"===u.selectedMode)&&(f=!1,t(e,function(n){var t=this.getSelectedMapKey(n);r[t]&&(f?r[t]=!1:f=!0)},this))},getSelectedMapKey:function(n){return"categories"===this._mode?n.value+"":n.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var n=this.option;return n.pieces&&n.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(n){this.option.selected=h(n)},getValueState:function(n){var t=et.findPieceIndex(n,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(n){var t=[];return this.eachTargetSeries(function(i){var r=[],u=i.getData();u.each(this.getDataDimension(u),function(t,i){et.findPieceIndex(t,this._pieceList)===n&&r.push(i)},this);t.push({seriesId:i.id,dataIndex:r})},this),t},getRepresentValue:function(n){var i,t;return this.isCategory()?i=n.value:null!=n.value?i=n.value:(t=n.interval||[],i=t[0]===-1/0&&t[1]===1/0?0:(t[0]+t[1])/2),i},getVisualMeta:function(n){function e(t,i){var u=s.getRepresentValue({interval:t}),r;i||(i=s.getValueState(u));r=n(u,i);t[0]===-1/0?f[0]=r:t[1]===1/0?f[1]=r:o.push({value:t[0],color:r},{value:t[1],color:r})}var r,u;if(!this.isCategory()){var o=[],f=[],s=this,i=this._pieceList.slice();return i.length?(r=i[0].interval[0],r!==-1/0&&i.unshift({interval:[-1/0,r]}),(r=i[i.length-1].interval[1])!==1/0&&i.push({interval:[r,1/0]})):i.push({interval:[-1/0,1/0]}),u=-1/0,t(i,function(n){var t=n.interval;t&&(t[0]>u&&e([u,t[0]],"outOfRange"),e(t.slice()),u=t[1])},this),{stops:o,outerColors:f}}}});kgi={splitNumber:function(){var r=this.option,e=this._pieceList,o=Math.min(r.precision,20),u=this.getExtent(),f=r.splitNumber,n,i,s,h,c;for(f=Math.max(parseInt(f,10),1),r.splitNumber=f,n=(u[1]-u[0])/f;+n.toFixed(o)!==n&&o<5;)o++;for(r.precision=o,n=+n.toFixed(o),i=0,r.minOpen&&e.push({index:i++,interval:[-1/0,u[0]],close:[0,0]}),s=u[0],h=i+f;i<h;s+=n)c=i===f-1?u[1]:s+n,e.push({index:i++,interval:[s,c],close:[1,1]});r.maxOpen&&e.push({index:i++,interval:[u[1],1/0],close:[0,0]});yet(e);t(e,function(n){n.text=this.formatValueText(n.interval)},this)},categories:function(){var n=this.option;t(n.categories,function(n){this._pieceList.push({text:this.formatValueText(n,!0),value:n})},this);aai(n,this._pieceList)},pieces:function(){var i=this.option,n=this._pieceList;t(i.pieces,function(t,i){var r,s,c,e;if(a(t)||(t={value:t}),r={text:"",index:i},null!=t.label&&(r.text=t.label),t.hasOwnProperty("value"))s=r.value=t.value,r.interval=[s,s],r.close=[1,1];else{for(var f=r.interval=[],o=r.close=[0,0],l=[1,0,1],v=[-1/0,1/0],h=[],u=0;u<2;u++){for(c=[["gte","gt","min"],["lte","lt","max"]][u],e=0;e<3&&null==f[u];e++)f[u]=t[c[e]],o[u]=l[e],h[u]=2===e;null==f[u]&&(f[u]=v[u])}h[0]&&f[1]===1/0&&(o[0]=0);h[1]&&f[0]===-1/0&&(o[1]=0);f[0]===f[1]&&o[0]&&o[1]&&(r.value=f[0])}r.visual=et.retrieveVisuals(t);n.push(r)},this);aai(i,n);yet(n);t(n,function(n){var t=n.close,i=[["<","≤"][t[1]],[">","≥"][t[0]]];n.text=n.text||this.formatValueText(null!=n.value?n.value:n.interval,!1,i)},this)}};pgi.extend({type:"visualMap.piecewise",doRender:function(){var n=this.group;n.removeAll();var i=this.visualMapModel,s=i.get("textGap"),h=i.textStyleModel,a=h.getFont(),v=h.getTextColor(),e=this._getItemAlign(),r=i.itemSize,l=this._getViewData(),u=l.endsText,o=li(i.get("showLabel",!0),!u);u&&this._renderEndsText(n,u[0],r,o,e);t(l.viewPieceList,function(t){var h=t.piece,u=new f,l,y;u.onclick=c(this._onItemClick,this,h);this._enableHoverLink(u,t.indexInModelPieceList);l=i.getRepresentValue(h);(this._createItemSymbol(u,l,[0,0,r[0],r[1]]),o)&&(y=this.visualMapModel.getValueState(l),u.add(new d({style:{x:"right"===e?-s:r[0]+s,y:r[1]/2,text:h.text,textVerticalAlign:"middle",textAlign:e,textFont:a,textFill:v,opacity:"outOfRange"===y?.5:1}})));n.add(u)},this);u&&this._renderEndsText(n,u[1],r,o,e);cw(i.get("orient"),n,i.get("itemGap"));this.renderBackground(n);this.positionGroup(n)},_enableHoverLink:function(n,t){function i(n){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:n,batch:vg(i.findTargetDataIndices(t))})}n.on("mouseover",c(i,this,"highlight")).on("mouseout",c(i,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,i=t.option,n;return"vertical"===i.orient?hai(t,this.api,t.itemSize):(n=i.align,n&&"auto"!==n||(n="left"),n)},_renderEndsText:function(n,t,i,r,u){if(t){var e=new f,o=this.visualMapModel.textStyleModel;e.add(new d({style:{x:r?"right"===u?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:r?u:"center",text:t,textFont:o.getFont(),textFill:o.getTextColor()}}));n.add(e)}},_getViewData:function(){var n=this.visualMapModel,i=r(n.getPieceList(),function(n,t){return{piece:n,indexInModelPieceList:t}}),t=n.get("text"),f=n.get("orient"),u=n.get("inverse");return("horizontal"===f?u:!u)?i.reverse():t&&(t=t.slice().reverse()),{viewPieceList:i,endsText:t}},_createItemSymbol:function(n,t,i){n.add(br(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color")))},_onItemClick:function(n){var u=this.visualMapModel,f=u.option,i=h(f.selected),r=u.getSelectedMapKey(n);"single"===f.selectedMode?(i[r]=!0,t(i,function(n,t){i[t]=t===r})):i[r]=!i[r];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}});ki(obt);var dgi=hh,abt=wt,iut=wr({type:"marker",dependencies:["series","grid","polar","geo"],init:function(n,t,i,r){this.mergeDefaultAndTheme(n,i);this.mergeOption(n,i,r.createdBySelf,!0)},isAnimationEnabled:function(){if(k.node)return!1;var n=this.__hostSeries;return this.getShallow("animation")&&n&&n.isAnimationEnabled()},mergeOption:function(n,i,r,u){var o=this.constructor,f=this.mainType+"Model";r||i.eachSeries(function(n){var r=n.get(this.mainType,!0),s=n[f];r&&r.data?(s?s.mergeOption(r,i,!0):(u&&pg(r),t(r.data,function(n){n instanceof Array?(pg(n[0]),pg(n[1])):pg(n)}),e(s=new o(r,this,i),{mainType:this.mainType,seriesIndex:n.seriesIndex,name:n.name,createdBySelf:!0}),s.__hostSeries=n),n[f]=s):n[f]=null},this)},formatTooltip:function(n){var e=this.getData(),t=this.getRawValue(n),o=i(t)?r(t,dgi).join(", "):dgi(t),f=e.getName(n),u=abt(this.name);return(null!=t||f)&&(u+="<br />"),f&&(u+=abt(f),null!=t&&(u+=" : ")),null!=t&&(u+=abt(o)),u},getData:function(){return this._data},setData:function(n){this._data=n}});ft(iut,nyt);iut.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var ggi=b,vbt=l,ybt={min:vbt(hlt,"min"),max:vbt(hlt,"max"),average:vbt(hlt,"average")},pbt=si({type:"marker",init:function(){this.markerGroupMap=y()},render:function(n,t,i){var r=this.markerGroupMap,u;r.each(function(n){n.__keep=!1});u=this.type+"Model";t.eachSeries(function(n){var r=n[u];r&&this.renderSeries(n,r,t,i)},this);r.each(function(n){n.__keep||this.group.remove(n.group)},this)},renderSeries:function(){}});pbt.extend({type:"markPoint",updateTransform:function(n,t,i){t.eachSeries(function(n){var t=n.markPointModel;t&&(pai(t.getData(),n,i),this.markerGroupMap.get(n.id).updateLayout(t))},this)},renderSeries:function(n,t,i,r){var s=n.coordinateSystem,e=n.id,h=n.getData(),o=this.markerGroupMap,f=o.get(e)||o.set(e,new ta),u=rkr(s,n,t);t.setData(u);pai(t.getData(),n,r);u.each(function(n){var r=u.getItemModel(n),i=r.getShallow("symbolSize");"function"==typeof i&&(i=i(t.getRawValue(n),t.getDataParams(n)));u.setItemVisual(n,{symbolSize:i,color:r.get("itemStyle.color")||h.getVisual("color"),symbol:r.getShallow("symbol")})});f.updateData(u);this.group.add(f.group);u.eachItemGraphicEl(function(n){n.traverse(function(n){n.dataModel=t})});f.__keep=!0;f.group.silent=t.get("silent")||n.get("silent")}});ki(function(n){n.markPoint=n.markPoint||{}});iut.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});nni=function(n,t,r,u){var w=n.getData(),o=u.type,s,f,a,p;if(!i(u)&&("min"===o||"max"===o||"average"===o||"median"===o||null!=u.xAxis||null!=u.yAxis)){null!=u.yAxis||null!=u.xAxis?(s=null!=u.yAxis?"y":"x",t.getAxis(s),f=li(u.yAxis,u.xAxis)):(a=vai(u,w,t,n),s=a.valueDataDim,a.valueAxis,f=clt(w,s,o));var y="x"===s?0:1,b=1-y,c=h(u),l={};c.type=null;c.coord=[];l.coord=[];c.coord[b]=-1/0;l.coord[b]=1/0;p=r.get("precision");p>=0&&"number"==typeof f&&(f=+f.toFixed(Math.min(p,20)));c.coord[y]=l.coord[y]=f;u=[c,l,{type:o,valueIndex:u.valueIndex,value:f}]}return u=[bp(n,u[0]),bp(n,u[1]),e({},u[2])],u[2].type=u[2].type||"",v(u[2],u[0]),v(u[2],u[1]),u};pbt.extend({type:"markLine",updateTransform:function(n,t,i){t.eachSeries(function(n){var t=n.markLineModel;if(t){var u=t.getData(),r=t.__from,f=t.__to;r.each(function(t){llt(r,t,!0,n,i);llt(f,t,!1,n,i)});u.each(function(n){u.setItemLayout(n,[r.getItemLayout(n),f.getItemLayout(n)])});this.markerGroupMap.get(n.id).updateLayout()}},this)},renderSeries:function(n,t,r,u){function a(t,i,r){var f=t.getItemModel(i);llt(t,i,r,n,u);t.setItemVisual(i,{symbolSize:f.get("symbolSize")||s[r?0:1],symbol:f.get("symbol",!0)||o[r?0:1],color:f.get("itemStyle.color")||w.getVisual("color")})}var p=n.coordinateSystem,v=n.id,w=n.getData(),y=this.markerGroupMap,l=y.get(v)||y.set(v,new wd),o,s;this.group.add(l.group);var h=fkr(p,n,t),e=h.from,c=h.to,f=h.line;t.__from=e;t.__to=c;t.setData(f);o=t.get("symbol");s=t.get("symbolSize");i(o)||(o=[o,o]);"number"==typeof s&&(s=[s,s]);h.from.each(function(n){a(e,n,!0);a(c,n,!1)});f.each(function(n){var t=f.getItemModel(n).get("lineStyle.color");f.setItemVisual(n,{color:t||e.getItemVisual(n,"color")});f.setItemLayout(n,[e.getItemLayout(n),c.getItemLayout(n)]);f.setItemVisual(n,{fromSymbolSize:e.getItemVisual(n,"symbolSize"),fromSymbol:e.getItemVisual(n,"symbol"),toSymbolSize:c.getItemVisual(n,"symbolSize"),toSymbol:c.getItemVisual(n,"symbol")})});l.updateData(f);h.line.eachItemGraphicEl(function(n){n.traverse(function(n){n.dataModel=t})});l.__keep=!0;l.group.silent=t.get("silent")||n.get("silent")}});ki(function(n){n.markLine=n.markLine||{}});iut.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});tni=function(n,t,i,r){var f=bp(n,r[0]),e=bp(n,r[1]),o=li,s=f.coord,h=e.coord,u;return s[0]=o(s[0],-1/0),s[1]=o(s[1],-1/0),h[0]=o(h[0],1/0),h[1]=o(h[1],1/0),u=gv([{},f,e]),u.coord=[f.coord,e.coord],u.x0=f.x,u.y0=f.y,u.x1=e.x,u.y1=e.y,u};wbt=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];pbt.extend({type:"markArea",updateTransform:function(n,t,i){t.eachSeries(function(n){var u=n.markAreaModel,t;u&&(t=u.getData(),t.each(function(u){var f=r(wbt,function(r){return kai(t,u,r,n,i)});t.setItemLayout(u,f);t.getItemGraphicEl(u).setShape("points",f)}))},this)},renderSeries:function(n,t,i,u){var l=n.coordinateSystem,h=n.id,a=n.getData(),c=this.markerGroupMap,s=c.get(h)||c.set(h,{group:new f}),e;this.group.add(s.group);s.__keep=!0;e=okr(l,n,t);t.setData(e);e.each(function(t){e.setItemLayout(t,r(wbt,function(i){return kai(e,t,i,n,u)}));e.setItemVisual(t,{color:a.getVisual("color")})});e.diff(s.__data).add(function(n){var t=new gu({shape:{points:e.getItemLayout(n)}});e.setItemGraphicEl(n,t);s.group.add(t)}).update(function(n,i){var r=s.__data.getItemGraphicEl(i);p(r,{shape:{points:e.getItemLayout(n)}},t,n);s.group.add(r);e.setItemGraphicEl(n,r)}).remove(function(n){var t=s.__data.getItemGraphicEl(n);s.group.remove(t)}).execute();e.eachItemGraphicEl(function(n,i){var r=e.getItemModel(i),f=r.getModel("label"),s=r.getModel("emphasis.label"),u=e.getItemVisual(i,"color");n.useStyle(o(r.getModel("itemStyle").getItemStyle(),{fill:rk(u,.4),stroke:u}));n.hoverStyle=r.getModel("emphasis.itemStyle").getItemStyle();uu(n.style,n.hoverStyle,f,s,{labelFetcher:t,labelDataIndex:i,defaultText:e.getName(i)||"",isRectText:!0,autoColor:u});at(n,{});n.dataModel=t});s.__data=e;s.group.silent=t.get("silent")||n.get("silent")}});ki(function(n){n.markArea=n.markArea||{}});nt.registerSubTypeDefaulter("timeline",function(){return"slider"});it({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(n,t){var i=t.getComponent("timeline");return i&&null!=n.currentIndex&&(i.setCurrentIndex(n.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),t.resetOption("timeline"),o({currentIndex:i.option.currentIndex},n)});it({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(n,t){var i=t.getComponent("timeline");i&&null!=n.playState&&i.setPlayState(n.playState)});bbt=nt.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(n,t,i){this._data;this._names;this.mergeDefaultAndTheme(n,i);this._initData()},mergeOption:function(){bbt.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(n){null==n&&(n=this.option.currentIndex);var t=this._data.count();this.option.loop?n=(n%t+t)%t:(n>=t&&(n=t-1),n<0&&(n=0));this.option.currentIndex=n},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(n){this.option.autoPlay=!!n},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var r=this.option,n=r.data||[],u=r.axisType,f=this._names=[],i,e;"category"===u&&(i=[],t(n,function(n,t){var u,r=cy(n);a(n)?(u=h(n)).value=t:u=t;i.push(u);yt(r)||null!=r&&!isNaN(r)||(r="");f.push(r+"")}),n=i);e={category:"ordinal",time:"time"}[u]||"number";(this._data=new hi([{name:"value",type:e}],this)).initData(n,f)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});ft(bbt.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}}),nyt);ini=rf.extend({type:"timeline"});ab=function(n,t,i,r){ri.call(this,n,t,i);this.type=r||"value";this.model=null};ab.prototype={constructor:ab,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}};ot(ab,ri);var nh=c,kbt=t,dbt=Math.PI;ini.extend({type:"timeline.slider",init:function(n,t){this.api=t;this._axis;this._viewRect;this._timer;this._currentPointer;this._mainGroup;this._labelGroup},render:function(n,t,i){if(this.model=n,this.api=i,this.ecModel=t,this.group.removeAll(),n.get("show",!0)){var r=this._layout(n,i),f=this._createGroup("mainGroup"),e=this._createGroup("labelGroup"),u=this._axis=this._createAxis(r,n);n.formatTooltip=function(n){return wt(u.scale.getLabel(n))};kbt(["AxisLine","AxisTick","Control","CurrentPointer"],function(t){this["_render"+t](r,f,u,n)},this);this._renderAxisLabel(r,e,u,n);this._position(r,n)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(n,t){var i=n.get("label.position"),r=n.get("orient"),u=hkr(n,t);null==i||"auto"===i?i="horizontal"===r?u.y+u.height/2<t.getHeight()/2?"-":"+":u.x+u.width/2<t.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[r][i]);var tt={horizontal:"center",vertical:i>=0||"+"===i?"left":"right"},it={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},rt={horizontal:0,vertical:dbt/2},w="vertical"===r?u.height:u.width,f=n.getModel("controlStyle"),s=f.get("show",!0),h=s?f.get("itemSize"):0,b=s?f.get("itemGap"):0,o=h+b,l=n.get("label.rotate")||0;l=l*dbt/180;var a,v,y,p,k=f.get("position",!0),d=s&&f.get("showPlayBtn",!0),g=s&&f.get("showPrevBtn",!0),nt=s&&f.get("showNextBtn",!0),c=0,e=w;return"left"===k||"bottom"===k?(d&&(a=[0,0],c+=o),g&&(v=[c,0],c+=o),nt&&(y=[e-h,0],e-=o)):(d&&(a=[e-h,0],e-=o),g&&(v=[0,0],c+=o),nt&&(y=[e-h,0],e-=o)),p=[c,e],n.get("inverse")&&p.reverse(),{viewRect:u,mainLength:w,orient:r,rotation:rt[r],labelRotation:l,labelPosOpt:i,labelAlign:n.get("label.align")||tt[r],labelBaseline:n.get("label.verticalAlign")||n.get("label.baseline")||it[r],playPosition:a,prevBtnPosition:v,nextBtnPosition:y,axisExtent:p,controlSize:h,controlGap:b}},_position:function(n){function a(n){var t=n.position;n.origin=[r[0][0]-t[0],r[1][0]-t[1]]}function c(n){return[[n.x,n.x+n.width],[n.y,n.y+n.height]]}function l(n,t,i,r,u){n[r]+=i[r][u]-t[r][u]}var u=this._mainGroup,f=this._labelGroup,i=n.viewRect,o,h;if("vertical"===n.orient){var t=iu(),v=i.x,y=i.y+i.height;ef(t,t,[-v,-y]);ao(t,t,-dbt/2);ef(t,t,[v,y]);(i=i.clone()).applyTransform(t)}var r=c(i),p=c(u.getBoundingRect()),w=c(f.getBoundingRect()),e=u.position,s=f.position;s[0]=e[0]=r[0][0];o=n.labelPosOpt;isNaN(o)?(l(e,p,r,1,h="+"===o?0:1),l(s,w,r,1,1-h)):(h=o>=0?0:1,l(e,p,r,1,h),s[1]=e[1]+o);u.attr("position",e);f.attr("position",s);u.rotation=f.rotation=n.rotation;a(u);a(f)},_createAxis:function(n,t){var f=t.getData(),e=t.get("axisType"),i=na(t,e),r,u;return i.getTicks=function(){return f.mapArray(["value"],function(n){return n})},r=f.getDataExtent("value"),i.setExtent(r[0],r[1]),i.niceTicks(),u=new ab("value",i,n.axisExtent,e),u.model=t,u},_createGroup:function(n){var t=this["_"+n]=new f;return this.group.add(t),t},_renderAxisLine:function(n,t,i,r){var u=i.getExtent();r.get("lineStyle.show")&&t.add(new hu({shape:{x1:u[0],y1:0,x2:u[1],y2:0},style:e({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(n,t,i,r){var u=r.getData(),f=i.scale.getTicks();kbt(f,function(n){var o=i.dataToCoord(n),e=u.getItemModel(n),s=e.getModel("itemStyle"),h=e.getModel("emphasis.itemStyle"),c={position:[o,0],onclick:nh(this._changeTimeline,this,n)},f=gai(e,s,t,c);at(f,h.getItemStyle());e.get("tooltip")?(f.dataIndex=n,f.dataModel=r):f.dataIndex=f.dataModel=null},this)},_renderAxisLabel:function(n,t,i,r){if(i.getLabelModel().get("show")){var u=r.getData(),f=i.getViewLabels();kbt(f,function(r){var e=r.tickValue,o=u.getItemModel(e),s=o.getModel("label"),h=o.getModel("emphasis.label"),c=i.dataToCoord(r.tickValue),f=new d({position:[c,0],rotation:n.labelRotation-n.rotation,onclick:nh(this._changeTimeline,this,e),silent:!1});kt(f.style,s,{text:r.formattedLabel,textAlign:n.labelAlign,textVerticalAlign:n.labelBaseline});t.add(f);at(f,kt({},h))},this)}},_renderControl:function(n,t,i,r){function f(n,i,f,e){if(n){var o=ckr(r,i,l,{position:n,origin:[u/2,0],rotation:e?-s:0,rectHover:!0,style:h,onclick:f});t.add(o);at(o,c)}}var u=n.controlSize,s=n.rotation,h=r.getModel("controlStyle").getItemStyle(),c=r.getModel("emphasis.controlStyle").getItemStyle(),l=[0,-u/2,u,u],e=r.getPlayState(),o=r.get("inverse",!0);f(n.nextBtnPosition,"controlStyle.nextIcon",nh(this._changeTimeline,this,o?"-":"+"));f(n.prevBtnPosition,"controlStyle.prevIcon",nh(this._changeTimeline,this,o?"+":"-"));f(n.playPosition,"controlStyle."+(e?"stopIcon":"playIcon"),nh(this._handlePlayClick,this,!e),!0)},_renderCurrentPointer:function(n,t,i,r){var o=r.getData(),f=r.getCurrentIndex(),e=o.getItemModel(f).getModel("checkpointStyle"),u=this,s={onCreate:function(n){n.draggable=!0;n.drift=nh(u._handlePointerDrag,u);n.ondragend=nh(u._handlePointerDragend,u);nvi(n,f,i,r,!0)},onUpdate:function(n){nvi(n,f,i,r)}};this._currentPointer=gai(e,e,this._mainGroup,{},this._currentPointer,s)},_handlePlayClick:function(n){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:n,from:this.uid})},_handlePointerDrag:function(n,t,i){this._clearTimer();this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(n){this._pointerChangeTimeline([n.offsetX,n.offsetY],!0)},_pointerChangeTimeline:function(n,t){var i=this._toAxisCoord(n)[0],r=sh(this._axis.getExtent().slice()),u,f;i>r[1]&&(i=r[1]);i<r[0]&&(i=r[0]);this._currentPointer.position[0]=i;this._currentPointer.dirty();u=this._findNearestTick(i);f=this.model;(t||u!==f.getCurrentIndex()&&f.get("realtime"))&&this._changeTimeline(u)},_doPlayStop:function(){this._clearTimer();this.model.getPlayState()&&(this._timer=setTimeout(nh(function(){var n=this.model;this._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(n){return lf(n,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(n){var t,r=this.model.getData(),i=1/0,u=this._axis;return r.each(["value"],function(r,f){var o=u.dataToCoord(r),e=Math.abs(o-n);e<i&&(i=e,t=f)}),t},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(n){var t=this.model.getCurrentIndex();"+"===n?n=t+1:"-"===n&&(n=t-1);this.api.dispatchAction({type:"timelineChange",currentIndex:n,from:this.uid})}});ki(function(n){var r=n&&n.timeline;i(r)||(r=r?[r]:[]);t(r,function(n){n&&skr(n)})});rni=wr({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){rni.superApply(this,"optionUpdated",arguments);t(this.option.feature,function(n,t){var i=kli(t);i&&v(n,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});si({type:"toolbox",render:function(n,i,r,u){function s(t,f){var e,s=o[t],l=o[f],c=new tt(h[s],n,n.ecModel),y;if(s&&!l){if(lkr(s))e={model:c,onclick:c.option.onclick,featureName:s};else{if(y=kli(s),!y)return;e=new y(c,i,r)}a[s]=e}else{if(!(e=a[l]))return;e.model=c;e.ecModel=i;e.api=r}s||!l?c.get("show")&&!e.unusable?(v(c,e,s),c.setIconStatus=function(n,t){var i=this.option,r=this.iconPaths;i.iconStatus=i.iconStatus||{};i.iconStatus[n]=t;r[n]&&r[n].trigger(t)},e.render&&e.render(c,i,r,u)):e.remove&&e.remove(i,r):e.dispose&&e.dispose(i,r)}function v(u,o,s){var w=u.getModel("iconStyle"),a=u.getModel("emphasis.iconStyle"),l=o.getIcons?o.getIcons():u.get("icon"),h=u.get("title")||{},v,y,p;"string"==typeof l&&(v=l,y=h,h={},(l={})[s]=v,h[s]=y);p=u.iconPaths={};t(l,function(t,s){var l=vy(t,{},{x:-e/2,y:-e/2,width:e,height:e});l.setStyle(w.getItemStyle());l.hoverStyle=a.getItemStyle();at(l);n.get("showTitle")&&(l.__title=h[s],l.on("mouseover",function(){var n=a.getItemStyle();l.setStyle({text:h[s],textPosition:n.textPosition||"bottom",textFill:n.fill||n.stroke||"#000",textAlign:n.textAlign||"center"})}).on("mouseout",function(){l.setStyle({textFill:null})}));l.trigger(u.get("iconStatus."+s)||"normal");f.add(l);l.on("click",c(o.onclick,o,i,r,s));p[s]=l})}var f=this.group;if(f.removeAll(),n.get("show")){var e=+n.get("itemSize"),h=n.get("feature")||{},a=this._features||(this._features={}),o=[];t(h,function(n,t){o.push(t)});new we(this._featureNames||[],o).add(s).update(s).remove(l(s,null)).execute();this._featureNames=o;rwr(f,n,r);f.add(pci(f.getBoundingRect(),n));f.eachChild(function(n){var o=n.__title,t=n.hoverStyle,u;if(t&&o){var i=ve(o,ddt(t)),s=n.position[0]+f.position[0],h=!1;n.position[1]+f.position[1]+e+i.height>r.getHeight()&&(t.textPosition="top",h=!0);u=h?-5-i.height:e+8;s+i.width/2>r.getWidth()?(t.textPosition=["100%",u],t.textAlign="right"):s-i.width/2<0&&(t.textPosition=[0,u],t.textAlign="left")}})}},updateView:function(n,i,r,u){t(this._features,function(n){n.updateView&&n.updateView(n.model,i,r,u)})},remove:function(n,i){t(this._features,function(t){t.remove&&t.remove(n,i)});this.group.removeAll()},dispose:function(n,i){t(this._features,function(t){t.dispose&&t.dispose(n,i)})}});gbt=ls.toolbox.saveAsImage;kg.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:gbt.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:gbt.lang.slice()};kg.prototype.unusable=!k.canvasSupported;kg.prototype.onclick=function(n,t){var i=this.model,s=i.get("name")||n.get("title.0.text")||"echarts",r=document.createElement("a"),e=i.get("type",!0)||"png",u,l,o,a,v;if(r.download=s+"."+e,r.target="_blank",u=t.getConnectedDataURL({type:e,backgroundColor:i.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),r.href=u,"function"!=typeof MouseEvent||k.browser.ie||k.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var h=atob(u.split(",")[1]),f=h.length,c=new Uint8Array(f);f--;)c[f]=h.charCodeAt(f);l=new Blob([c]);window.navigator.msSaveOrOpenBlob(l,s+"."+e)}else o=i.get("lang"),a='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(o&&o[0]||"")+'" /><\/body>',window.open().document.write(a);else v=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),r.dispatchEvent(v)};ha("saveAsImage",kg);uni=ls.toolbox.magicType;alt.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:h(uni.title),option:{},seriesIndex:{}};nkt=alt.prototype;nkt.getIcons=function(){var n=this.model,i=n.get("icon"),r={};return t(n.get("type"),function(n){i[n]&&(r[n]=i[n])}),r};tkt={line:function(n,t,i,r){if("bar"===n)return v({id:t,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},r.get("option.line")||{},!0)},bar:function(n,t,i,r){if("line"===n)return v({id:t,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},r.get("option.bar")||{},!0)},stack:function(n,t,i,r){if("line"===n||"bar"===n)return v({id:t,stack:"__ec_magicType_stack__"},r.get("option.stack")||{},!0)},tiled:function(n,t,i,r){if("line"===n||"bar"===n)return v({id:t,stack:""},r.get("option.tiled")||{},!0)}};fni=[["line","bar"],["stack","tiled"]];nkt.onclick=function(n,i,r){var f=this.model,e=f.get("seriesIndex."+r),u;tkt[r]&&(u={series:[]},t(fni,function(n){b(n,r)>=0&&t(n,function(n){f.setIconStatus(n,"normal")})}),f.setIconStatus(r,"emphasis"),n.eachComponent({mainType:"series",query:null==e?null:{seriesIndex:e}},function(t){var a=t.subType,v=t.id,h=tkt[r](a,v,t,f),s,c,i,e,l;if(h&&(o(h,t.option),u.series.push(h)),s=t.coordinateSystem,s&&"cartesian2d"===s.type&&("line"===r||"bar"===r)&&(c=s.getAxesByScale("ordinal")[0],c)){for(i=c.dim+"Axis",e=n.queryComponents({mainType:i,index:t.get(name+"Index"),id:t.get(name+"Id")})[0].componentIndex,u[i]=u[i]||[],l=0;l<=e;l++)u[i][e]=u[i][e]||{};u[i][e].boundaryGap="bar"===r}}),i.dispatchAction({type:"changeMagicType",currentType:r,newOption:u}))};it({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});ha("magicType",alt);var eni=ls.toolbox.dataView,rut=new Array(60).join("-"),ul="\t",ikt=new RegExp("["+ul+"]+","g");dp.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:h(eni.title),lang:h(eni.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};dp.prototype.onclick=function(n,t){function y(){h.removeChild(u);d._dom=null}var h=t.getDom(),i=this.model,u,e,c,f,r,o,k,s,d;this._dom&&h.removeChild(this._dom);u=document.createElement("div");u.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";u.style.backgroundColor=i.get("backgroundColor")||"#fff";e=document.createElement("h4");c=i.get("lang")||[];e.innerHTML=c[0]||i.get("title");e.style.cssText="margin: 10px 20px;";e.style.color=i.get("textColor");f=document.createElement("div");r=document.createElement("textarea");f.style.cssText="display:block;width:100%;overflow:auto;";var p=i.get("optionToContent"),w=i.get("contentToOption"),b=pkr(n);"function"==typeof p?(o=p(t.getOption()),"string"==typeof o?f.innerHTML=o:ny(o)&&f.appendChild(o)):(f.appendChild(r),r.readOnly=i.get("readOnly"),r.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",r.style.color=i.get("textColor"),r.style.borderColor=i.get("textareaBorderColor"),r.style.backgroundColor=i.get("textareaColor"),r.value=b.value);k=b.meta;s=document.createElement("div");s.style.cssText="position:absolute;bottom:0;left:0;right:0;";var l="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",a=document.createElement("div"),v=document.createElement("div");l+=";background-color:"+i.get("buttonColor");l+=";color:"+i.get("buttonTextColor");d=this;ok(a,"click",y);ok(v,"click",function(){var n;try{n="function"==typeof w?w(f,t.getOption()):dkr(r.value,k)}catch(n){throw y(),new Error("Data view format error "+n);}n&&t.dispatchAction({type:"changeDataView",newOption:n});y()});a.innerHTML=c[1];v.innerHTML=c[2];v.style.cssText=l;a.style.cssText=l;!i.get("readOnly")&&s.appendChild(v);s.appendChild(a);ok(r,"keydown",function(n){if(9===(n.keyCode||n.which)){var t=this.value,i=this.selectionStart,r=this.selectionEnd;this.value=t.substring(0,i)+ul+t.substring(r);this.selectionStart=this.selectionEnd=i+1;fs(n)}});u.appendChild(e);u.appendChild(f);u.appendChild(s);f.style.height=h.clientHeight-80+"px";h.appendChild(u);this._dom=u};dp.prototype.remove=function(n,t){this._dom&&t.getDom().removeChild(this._dom)};dp.prototype.dispose=function(n,t){this.remove(n,t)};ha("dataView",dp);it({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,i){var r=[];t(n.newOption.series,function(n){var t=i.getSeriesByName(n.name)[0],u;t?(u=t.get("data"),r.push({name:n.name,data:gkr(n.data,u)})):r.push(e({type:"scatter"},n))});i.mergeOption(o({series:r},n.newOption))});rkt=t;uut="\0_ec_hist_store";tbt.extend({type:"dataZoom.select"});ibt.extend({type:"dataZoom.select"});var tsu=ls.toolbox.dataZoom,oni=t,isu="\0_ec_\0toolbox-dataZoom_";ylt.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:h(tsu.title)};fl=ylt.prototype;fl.render=function(n,t,i,r){this.model=n;this.ecModel=t;this.api=i;fdr(n,t,this,r,i);udr(n,t)};fl.onclick=function(n,t,i){sni[i].call(this)};fl.remove=function(){this._brushController.unmount()};fl.dispose=function(){this._brushController.dispose()};sni={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(tdr(this.ecModel))}};fl._onBrush=function(n,t){function r(n,t,r){var s=t.getAxis(n),h=s.model,e=f(n,h,i),o=e.findRepresentativeAxisProxy(h).getMinMaxSpan();null==o.minValueSpan&&null==o.maxValueSpan||(r=pv(0,r.slice(),s.scale.getExtent(),0,o.minValueSpan,o.maxValueSpan));e&&(u[e.id]={dataZoomId:e.id,startValue:r[0],endValue:r[1]})}function f(n,t,i){var r;return i.eachComponent({mainType:"dataZoom",subType:"select"},function(i){i.getAxisModel(n,t.componentIndex)&&(r=i)}),r}if(t.isEnd&&n.length){var u={},i=this.ecModel;this._brushController.updateCovers([]);new ag(tvi(this.model.option),i,{include:["grid"]}).matchOutputRanges(n,i,function(n,t,i){if("cartesian2d"===i.type){var u=n.brushType;"rect"===u?(r("x",i,t[0]),r("y",i,t[1])):r({lineX:"x",lineY:"y"}[u],i,t)}});ndr(i,u);this._dispatchZoomAction(u)}};fl._dispatchZoomAction=function(n){var t=[];oni(n,function(n){t.push(h(n))});t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})};ha("dataZoom",ylt);ki(function(n){function f(n,t){if(t){var f=n+"Index",u=t[f];null==u||"all"==u||i(u)||(u=!1===u||"none"===u?[]:[u]);e(n,function(t,i){if(null==u||"all"==u||-1!==b(u,i)){var e={type:"select",$fromToolbox:!0,id:isu+n+i};e[f]=i;r.push(e)}})}}function e(t,r){var u=n[t];i(u)||(u=u?[u]:[]);oni(u,r)}var r,t,u;n&&(r=n.dataZoom||(n.dataZoom=[]),i(r)||(n.dataZoom=r=[r]),t=n.toolbox,t&&(i(t)&&(t=t[0]),t&&t.feature)&&(u=t.feature.dataZoom,f("xAxis",u),f("yAxis",u)))});hni=ls.toolbox.restore;plt.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:hni.title};plt.prototype.onclick=function(n,t){idr(n);t.dispatchAction({type:"restore",from:this.uid})};ha("restore",plt);it({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});var ukt,cni="urn:schemas-microsoft-com:vml",lni="undefined"==typeof window?null:window,ani=!1,nu=lni&&lni.document;if(nu&&!k.canvasSupported)try{nu.namespaces.zrvml||nu.namespaces.add("zrvml",cni);ukt=function(n){return nu.createElement("<zrvml:"+n+' class="zrvml">')}}catch(n){ukt=function(n){return nu.createElement("<"+n+' xmlns="'+cni+'" class="zrvml">')}}var el=dr.CMD,ut=Math.round,vb=Math.sqrt,rsu=Math.abs,vni=Math.cos,yni=Math.sin,fkt=Math.max;if(!k.canvasSupported){var ci=21600,ar=ci/2,ekt=function(n){n.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";n.coordsize=ci+","+ci;n.coordorigin="0,0"},usu=function(n){return String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},pni=function(n,t,i){return"rgb("+[n,t,i].join(",")+")"},oe=function(n,t){t&&n&&t.parentNode!==n&&n.appendChild(t)},yb=function(n,t){t&&n&&t.parentNode===n&&n.removeChild(t)},okt=function(n,t,i){return 1e5*(parseFloat(n)||0)+1e3*(parseFloat(t)||0)+i},wni=function(n,t){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n},bni=function(n,t,i){var r=ru(t);i=+i;isNaN(i)&&(i=1);r&&(n.color=pni(r[0],r[1],r[2]),n.opacity=i*r[3])},fsu=function(n){var t=ru(n);return[pni(t[0],t[1],t[2]),t[3]]},esu=function(n,t,i){var r=t.fill,rt,ut,k,y,g,nt;if(null!=r)if(r instanceof ne){var h,f=0,tt=[0,0],p=0,it=1,c=i.getBoundingRect(),l=c.width,a=c.height;if("linear"===r.type){h="gradient";var e=i.transform,u=[r.x*l,r.y*a],v=[r.x2*l,r.y2*a];e&&(ct(u,u,e),ct(v,v,e));rt=v[0]-u[0];ut=v[1]-u[1];(f=180*Math.atan2(rt,ut)/Math.PI)<0&&(f+=360);f<1e-6&&(f=0)}else{h="gradientradial";var u=[r.x*l,r.y*a],e=i.transform,ft=i.scale,w=l,b=a;tt=[(u[0]-c.x)/w,(u[1]-c.y)/b];e&&ct(u,u,e);w/=ft[0]*ci;b/=ft[1]*ci;k=fkt(w,b);p=0/k;it=2*r.r/k-p}y=r.colorStops.slice();y.sort(function(n,t){return n.offset-t.offset});for(var d=y.length,o=[],et=[],s=0;s<d;s++)g=y[s],nt=fsu(g.color),et.push(g.offset*it+p+" "+nt[0]),0!==s&&s!==d-1||o.push(nt);if(d>=2){var ot=o[0][0],st=o[1][0],ht=o[0][1]*t.opacity,lt=o[1][1]*t.opacity;n.type=h;n.method="none";n.focus="100%";n.angle=f;n.color=ot;n.color2=st;n.colors=et.join(",");n.opacity=lt;n.opacity2=ht}"radial"===h&&(n.focusposition=tt.join(","))}else bni(n,r,t.opacity)},osu=function(n,t){null!=t.lineDash&&(n.dashstyle=t.lineDash.join(" "));null==t.stroke||t.stroke instanceof ne||bni(n,t.stroke,t.opacity)},fut=function(n,t,i,r){var f="fill"==t,u=n.getElementsByTagName(t)[0];null!=i[t]&&"none"!==i[t]&&(f||!f&&i.lineWidth)?(n[f?"filled":"stroked"]="true",i[t]instanceof ne&&yb(n,u),u||(u=wlt(t)),f?esu(u,i,r):osu(u,i),oe(n,u)):(n[f?"filled":"stroked"]="false",yb(n,u))},tu=[[],[],[]],ssu=function(n,t){for(var s,b,at,h,c,wt=el.M,bt=el.C,kt=el.L,dt=el.A,pt=el.Q,a=[],r=n.data,gt=n.len(),u,f,nt,tt,i=0;i<gt;){switch(at=r[i++],b="",s=0,at){case wt:b=" m ";s=1;h=r[i++];c=r[i++];tu[0][0]=h;tu[0][1]=c;break;case kt:b=" l ";s=1;h=r[i++];c=r[i++];tu[0][0]=h;tu[0][1]=c;break;case pt:case bt:b=" c ";s=3;var it,rt,e=r[i++],o=r[i++],ft=r[i++],et=r[i++];at===pt?(it=ft,rt=et,ft=(ft+2*e)/3,et=(et+2*o)/3,e=(h+2*e)/3,o=(c+2*o)/3):(it=r[i++],rt=r[i++]);tu[0][0]=e;tu[0][1]=o;tu[1][0]=ft;tu[1][1]=et;tu[2][0]=it;tu[2][1]=rt;h=it;c=rt;break;case dt:var k=0,d=0,v=1,y=1,vt=0;t&&(k=t[4],d=t[5],v=vb(t[0]*t[0]+t[1]*t[1]),y=vb(t[2]*t[2]+t[3]*t[3]),vt=Math.atan2(-t[1]/y,t[0]/v));var p=r[i++],l=r[i++],ot=r[i++],st=r[i++],ht=r[i++]+vt,yt=r[i++]+ht+vt;i++;var w=r[i++],g=p+vni(ht)*ot,lt=l+yni(ht)*st,e=p+vni(yt)*ot,o=l+yni(yt)*st,ni=w?" wa ":" at ";Math.abs(g-e)<.0001&&(Math.abs(yt-ht)>.01?w&&(g+=.0125):Math.abs(lt-l)<.0001?w&&g<p||!w&&g>p?o-=.0125:o+=.0125:w&&lt<l||!w&&lt>l?e+=.0125:e-=.0125);a.push(ni,ut(((p-ot)*v+k)*ci-ar),",",ut(((l-st)*y+d)*ci-ar),",",ut(((p+ot)*v+k)*ci-ar),",",ut(((l+st)*y+d)*ci-ar),",",ut((g*v+k)*ci-ar),",",ut((lt*y+d)*ci-ar),",",ut((e*v+k)*ci-ar),",",ut((o*y+d)*ci-ar));h=e;c=o;break;case el.R:u=tu[0];f=tu[1];u[0]=r[i++];u[1]=r[i++];f[0]=u[0]+r[i++];f[1]=u[1]+r[i++];t&&(ct(u,u,t),ct(f,f,t));u[0]=ut(u[0]*ci-ar);f[0]=ut(f[0]*ci-ar);u[1]=ut(u[1]*ci-ar);f[1]=ut(f[1]*ci-ar);a.push(" m ",u[0],",",u[1]," l ",f[0],",",u[1]," l ",f[0],",",f[1]," l ",u[0],",",f[1]);break;case el.Z:a.push(" x ")}if(s>0)for(a.push(b),nt=0;nt<s;nt++)tt=tu[nt],t&&ct(tt,tt,t),a.push(ut(tt[0]*ci-ar),",",ut(tt[1]*ci-ar),nt<s-1?",":"")}return a.join("")};g.prototype.brushVML=function(n){var i=this.style,t=this._vmlEl,f,o,u;t||(t=wlt("shape"),ekt(t),this._vmlEl=t);fut(t,"fill",i,this);fut(t,"stroke",i,this);var r=this.transform,s=null!=r,e=t.getElementsByTagName("stroke")[0];e&&(f=i.lineWidth,s&&!i.strokeNoScale&&(o=r[0]*r[3]-r[1]*r[2],f*=vb(rsu(o))),e.weight=f+"px");u=this.path||(this.path=new dr);this.__dirtyPath&&(u.beginPath(),this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1);t.path=ssu(u,this.transform);t.style.zIndex=okt(this.zlevel,this.z,this.z2);oe(n,t);null!=i.text?this.drawRectText(n,this.getBoundingRect()):this.removeRectText(n)};g.prototype.onRemove=function(n){yb(n,this._vmlEl);this.removeRectText(n)};g.prototype.onAdd=function(n){oe(n,this._vmlEl);this.appendRectText(n)};kni=function(n){return"object"==typeof n&&n.tagName&&"IMG"===n.tagName.toUpperCase()};gi.prototype.brushVML=function(n){var s,h,r=this.style,u=r.image,nt,y,i,p,b,et,ot,st,ht;if(kni(u)){if(nt=u.src,nt===this._imageSrc)s=this._imageWidth,h=this._imageHeight;else{var w=u.runtimeStyle,pt=w.width,wt=w.height;w.width="auto";w.height="auto";s=u.width;h=u.height;w.width=pt;w.height=wt;this._imageSrc=nt;this._imageWidth=s;this._imageHeight=h}u=nt}else u===this._imageSrc&&(s=this._imageWidth,h=this._imageHeight);if(u){var c=r.x||0,l=r.y||0,a=r.width,v=r.height,k=r.sWidth,d=r.sHeight,lt=r.sx||0,at=r.sy||0,bt=k&&d,f=this._vmlEl;f||(f=nu.createElement("div"),ekt(f),this._vmlEl=f);var t,g=f.style,vt=!1,e=1,o=1;if(this.transform&&(t=this.transform,e=vb(t[0]*t[0]+t[1]*t[1]),o=vb(t[2]*t[2]+t[3]*t[3]),vt=t[1]||t[2]),vt){var tt=[c,l],it=[c+a,l],rt=[c,l+v],ft=[c+a,l+v];ct(tt,tt,t);ct(it,it,t);ct(rt,rt,t);ct(ft,ft,t);var kt=fkt(tt[0],it[0],rt[0],ft[0]),dt=fkt(tt[1],it[1],rt[1],ft[1]),yt=[];yt.push("M11=",t[0]/e,",","M12=",t[2]/o,",","M21=",t[1]/e,",","M22=",t[3]/o,",","Dx=",ut(c*e+t[4]),",","Dy=",ut(l*o+t[5]));g.padding="0 "+ut(kt)+"px "+ut(dt)+"px 0";g.filter="progid:DXImageTransform.Microsoft.Matrix("+yt.join("")+", SizingMethod=clip)"}else t&&(c=c*e+t[4],l=l*o+t[5]),g.filter="",g.left=ut(c)+"px",g.top=ut(l)+"px";y=this._imageEl;i=this._cropEl;y||(y=nu.createElement("div"),this._imageEl=y);p=y.style;bt?(s&&h?(p.width=ut(e*s*a/k)+"px",p.height=ut(o*h*v/d)+"px"):(b=new Image,et=this,b.onload=function(){b.onload=null;s=b.width;h=b.height;p.width=ut(e*s*a/k)+"px";p.height=ut(o*h*v/d)+"px";et._imageWidth=s;et._imageHeight=h;et._imageSrc=u},b.src=u),i||((i=nu.createElement("div")).style.overflow="hidden",this._cropEl=i),ot=i.style,ot.width=ut((a+lt*a/k)*e),ot.height=ut((v+at*v/d)*o),ot.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-lt*a/k*e+",Dy="+-at*v/d*o+")",i.parentNode||f.appendChild(i),y.parentNode!=i&&i.appendChild(y)):(p.width=ut(e*a)+"px",p.height=ut(o*v)+"px",f.appendChild(y),i&&i.parentNode&&(f.removeChild(i),this._cropEl=null));st="";ht=r.opacity;ht<1&&(st+=".Alpha(opacity="+ut(100*ht)+") ");st+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+u+", SizingMethod=scale)";p.filter=st;f.style.zIndex=okt(this.zlevel,this.z,this.z2);oe(n,f);null!=r.text&&this.drawRectText(n,this.getBoundingRect())}};gi.prototype.onRemove=function(n){yb(n,this._vmlEl);this._vmlEl=null;this._cropEl=null;this._imageEl=null;this.removeRectText(n)};gi.prototype.onAdd=function(n){oe(n,this._vmlEl);this.appendRectText(n)};var ol,skt={},hkt=0,hsu=document.createElement("div"),csu=function(n){var i=skt[n],r,t;if(!i){hkt>100&&(hkt=0,skt={});t=hsu.style;try{t.font=n;r=t.fontFamily.split(",")[0]}catch(n){}i={style:t.fontStyle||"normal",variant:t.fontVariant||"normal",weight:t.fontWeight||"normal",size:0|parseFloat(t.fontSize||12),family:r||"Microsoft YaHei"};skt[n]=i;hkt++}return i};!function(n,t){yat[n]=t}("measureText",function(n,t){var i=nu;ol||((ol=i.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",nu.body.appendChild(ol));try{ol.style.font=t}catch(n){}return ol.innerHTML="",ol.appendChild(i.createTextNode(n)),{width:ol.offsetWidth}});for(var ckt=new w,dni=[dn,or,gi,g,d],lkt=0;lkt<dni.length;lkt++)eut=dni[lkt].prototype,eut.drawRectText=function(n,t,i,r){var f=this.style,e,tt,d,o,y,ot,p,nt,l,h,w,u,b,k;if(this.__dirty&&hy(f),e=f.text,null!=e&&(e+=""),e){if(f.rich){for(tt=sft(e,f),e=[],d=0;d<tt.lines.length;d++){for(var rt=tt.lines[d].tokens,ft=[],it=0;it<rt.length;it++)ft.push(rt[it].text);e.push(ft.join(""))}e=e.join("\n")}var c,s,a=f.textAlign,g=f.textVerticalAlign,v=csu(f.font),et=v.style+" "+v.variant+" "+v.weight+" "+v.size+'px "'+v.family+'"';i=i||ve(e,et,a,g);o=this.transform;(o&&!r&&(ckt.copy(t),ckt.applyTransform(o),t=ckt),r)?(c=t.x,s=t.y):(y=f.textPosition,ot=f.textDistance,y instanceof Array?(c=t.x+wni(y[0],t.width),s=t.y+wni(y[1],t.height),a=a||"left"):(p=oft(y,t,ot),c=p.x,s=p.y,a=a||p.textAlign,g=g||p.textVerticalAlign));c=oy(c,i.width,a);s=sy(s,i.height,g);s+=i.height/2;w=wlt;u=this._textVmlEl;u?l=(nt=(h=u.firstChild).nextSibling).nextSibling:(u=w("line"),nt=w("path"),l=w("textpath"),h=w("skew"),l.style["v-text-align"]="left",ekt(u),nt.textpathok=!0,l.on=!0,u.from="0 0",u.to="1000 0.05",oe(u,h),oe(u,nt),oe(u,l),this._textVmlEl=u);b=[c,s];k=u.style;o&&r?(ct(b,b,o),h.on=!0,h.matrix=o[0].toFixed(3)+","+o[2].toFixed(3)+","+o[1].toFixed(3)+","+o[3].toFixed(3)+",0,0",h.offset=(ut(b[0])||0)+","+(ut(b[1])||0),h.origin="0 0",k.left="0px",k.top="0px"):(h.on=!1,k.left=ut(c)+"px",k.top=ut(s)+"px");l.string=usu(e);try{l.style.font=et}catch(n){}fut(u,"fill",{fill:f.textFill,opacity:f.opacity},this);fut(u,"stroke",{stroke:f.textStroke,opacity:f.opacity,lineDash:f.lineDash},this);u.style.zIndex=okt(this.zlevel,this.z,this.z2);oe(n,u)}},eut.removeRectText=function(n){yb(n,this._textVmlEl);this._textVmlEl=null},eut.appendRectText=function(n){oe(n,this._textVmlEl)};d.prototype.brushVML=function(n){var t=this.style;null!=t.text?this.drawRectText(n,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(n)};d.prototype.onRemove=function(n){this.removeRectText(n)};d.prototype.onAdd=function(n){this.appendRectText(n)}}gg.prototype={constructor:gg,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},refresh:function(){var n=this.storage.getDisplayList(!0,!0);this._paintList(n)},_paintList:function(n){for(var t,i=this._vmlRoot,r=0;r<n.length;r++)t=n[r],t.invisible||t.ignore?(t.__alreadyNotVisible||t.onRemove(i),t.__alreadyNotVisible=!0):(t.__alreadyNotVisible&&t.onAdd(i),t.__alreadyNotVisible=!1,t.__dirty&&(t.beforeBrush&&t.beforeBrush(),(t.brushVML||t.brush).call(t,i),t.afterBrush&&t.afterBrush())),t.__dirty=!1;this._firstPaint&&(this._vmlViewport.appendChild(i),this._firstPaint=!1)},resize:function(n,t){var n=null==n?this._getWidth():n,t=null==t?this._getHeight():t,i;(this._width!=n||this._height!=t)&&(this._width=n,this._height=t,i=this._vmlViewport.style,i.width=n+"px",i.height=t+"px")},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,n=t.currentStyle;return(t.clientWidth||la(n.width))-la(n.paddingLeft)-la(n.paddingRight)|0},_getHeight:function(){var t=this.root,n=t.currentStyle;return(t.clientHeight||la(n.height))-la(n.paddingTop)-la(n.paddingBottom)|0}};t(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(n){gg.prototype[n]=odr(n)});gft("vml",gg);var lsu="http://www.w3.org/2000/svg",sl=dr.CMD,asu=Array.prototype.join,hl="none",akt=Math.round,gni=Math.sin,ntr=Math.cos,vkt=Math.PI,out=2*Math.PI,vsu=180/vkt,ttr=.0001,pb={};pb.brush=function(n){var u=n.style,t=n.__svgEl,i,r;t||(t=kh("path"),n.__svgEl=t);n.path||n.createPathProxy();i=n.path;n.__dirtyPath&&(i.beginPath(),n.buildPath(i,n.shape),n.__dirtyPath=!1,r=ldr(i),r.indexOf("NaN")<0&&ht(t,"d",r));ivi(t,u);nn(t,n.transform);null!=u.text&&cut(n,n.getBoundingRect())};sut={};sut.brush=function(n){var r=n.style,i=r.image;if(i instanceof HTMLImageElement&&(i=i.src),i){var u=r.x||0,f=r.y||0,e=r.width,o=r.height,t=n.__svgEl;t||(t=kh("image"),n.__svgEl=t);i!==n.__imageSrc&&(cdr(t,"href",i),n.__imageSrc=i);ht(t,"width",e);ht(t,"height",o);ht(t,"x",u);ht(t,"y",f);nn(t,n.transform);null!=r.text&&cut(n,n.getBoundingRect())}};var hut={},ykt=new w,cut=function(n,t,i){var r=n.style,c,e,w,u,tt,b,rt,it,a,v,et,f,o;if(n.__dirty&&hy(r),c=r.text,null!=c){c+="";e=n.__textSvgEl;e||(e=kh("text"),n.__textSvgEl=e);var s,h,k=r.textPosition,ot=r.textDistance,nt=r.textAlign||"left";"number"==typeof r.fontSize&&(r.fontSize+="px");var p=r.font||[r.fontStyle||"",r.fontWeight||"",r.fontSize||"",r.fontFamily||""].join(" ")||fw,y=rvi(r.textVerticalAlign),g=(i=ve(c,p,nt,y)).lineHeight;k instanceof Array?(s=t.x+k[0],h=t.y+k[1]):(w=oft(k,t,ot),s=w.x,h=w.y,y=rvi(w.textVerticalAlign),nt=w.textAlign);ht(e,"alignment-baseline",y);p&&(e.style.font=p);u=r.textPadding;(ht(e,"x",s),ht(e,"y",h),ivi(e,r,!0),n instanceof d||n.style.transformText)?nn(e,n.transform):(n.transform?(ykt.copy(t),ykt.applyTransform(n.transform),t=ykt):(tt=n.transformCoordToGlobal(t.x,t.y),t.x=tt[0],t.y=tt[1]),b=r.textOrigin,"center"===b?(s=i.width/2+s,h=i.height/2+h):b&&(s=b[0]+s,h=b[1]+h),rt=-r.textRotation||0,it=iu(),ao(it,n.transform,rt),nn(e,it));var ut=c.split("\n"),ft=ut.length,l=nt;if("left"===l?(l="start",u&&(s+=u[3])):"right"===l?(l="end",u&&(s-=u[1])):"center"===l&&(l="middle",u&&(s+=(u[3]-u[1])/2)),a=0,"baseline"===y?(a=-i.height+g,u&&(a-=u[2])):"middle"===y?(a=(-i.height+g)/2,u&&(h+=(u[0]-u[2])/2)):u&&(a+=u[0]),n.__text!==c||n.__textFont!==p){for(v=n.__tspanList||[],n.__tspanList=v,f=0;f<ft;f++)(o=v[f])?o.innerHTML="":(o=v[f]=kh("tspan"),e.appendChild(o),ht(o,"alignment-baseline",y),ht(o,"text-anchor",l)),ht(o,"x",s),ht(o,"y",h+f*g+a),o.appendChild(document.createTextNode(ut[f]));for(;f<v.length;f++)e.removeChild(v[f]);v.length=ft;n.__text=c;n.__textFont=p}else if(n.__tspanList.length)for(et=n.__tspanList.length,f=0;f<et;++f)o=n.__tspanList[f],o&&(ht(o,"x",s),ht(o,"y",h+f*g+a))}};hut.drawRectText=cut;hut.brush=function(n){var t=n.style;null!=t.text&&(t.textPosition=[0,0],cut(n,{x:t.x||0,y:t.y||0,width:0,height:0},n.getBoundingRect()))};uvi.prototype={diff:function(n,t,i){var u,h,s,c;i||(i=function(n,t){return n===t});this.equals=i;u=this;n=n.slice();var f=(t=t.slice()).length,e=n.length,o=1,l=f+e,r=[{newPos:-1,components:[]}],a=this.extractCommon(r[0],t,n,0);if(r[0].newPos+1>=f&&a+1>=e){for(h=[],s=0;s<t.length;s++)h.push(s);return[{indices:h,count:t.length}]}for(;o<=l;)if(c=function(){for(var a,v,i=-1*o;i<=o;i+=2){var s,h=r[i-1],c=r[i+1],l=(c?c.newPos:0)-i;if(h&&(r[i-1]=void 0),a=h&&h.newPos+1<f,v=c&&0<=l&&l<e,a||v){if(!a||v&&h.newPos<c.newPos?(s=vdr(c),u.pushComponent(s.components,void 0,!0)):((s=h).newPos++,u.pushComponent(s.components,!0,void 0)),l=u.extractCommon(s,t,n,i),s.newPos+1>=f&&l+1>=e)return adr(0,s.components);r[i]=s}else r[i]=void 0}o++}(),c)return c},pushComponent:function(n,t,i){var r=n[n.length-1];r&&r.added===t&&r.removed===i?n[n.length-1]={count:r.count+1,added:t,removed:i}:n.push({count:1,added:t,removed:i})},extractCommon:function(n,t,i,r){for(var o=t.length,s=i.length,u=n.newPos,f=u-r,e=0;u+1<o&&f+1<s&&this.equals(t[u+1],i[f+1]);)u++,f++,e++;return e&&n.components.push({count:e}),n.newPos=u,f},tokenize:function(n){return n.slice()},join:function(n){return n.slice()}};itr=new uvi;rtr=function(n,t,i){return itr.diff(n,t,i)};pt.prototype.createElement=kh;pt.prototype.getDefs=function(n){var i=this._svgRoot,t=this._svgRoot.getElementsByTagName("defs");return 0===t.length?n?((t=i.insertBefore(this.createElement("defs"),i.firstChild)).contains||(t.contains=function(n){var r=t.children,i;if(!r)return!1;for(i=r.length-1;i>=0;--i)if(r[i]===n)return!0;return!1}),t):null:t[0]};pt.prototype.update=function(n,t){var r,i;n&&(r=this.getDefs(!1),n[this._domName]&&r.contains(n[this._domName])?"function"==typeof t&&t(n):(i=this.add(n),i&&(n[this._domName]=i)))};pt.prototype.addDom=function(n){this.getDefs(!0).appendChild(n)};pt.prototype.removeDom=function(n){var t=this.getDefs(!1);t&&n[this._domName]&&(t.removeChild(n[this._domName]),n[this._domName]=null)};pt.prototype.getDoms=function(){var i=this.getDefs(!1),n;return i?(n=[],t(this._tagNames,function(t){var r=i.getElementsByTagName(t);n=n.concat([].slice.call(r))}),n):[]};pt.prototype.markAllUnused=function(){var n=this;t(this.getDoms(),function(t){t[n._markLabel]="0"})};pt.prototype.markUsed=function(n){n&&(n[this._markLabel]="1")};pt.prototype.removeUnused=function(){var n=this.getDefs(!1),i;n&&(i=this,t(this.getDoms(),function(t){"1"!==t[i._markLabel]&&n.removeChild(t)}))};pt.prototype.getSvgProxy=function(n){return n instanceof g?pb:n instanceof gi?sut:n instanceof d?hut:pb};pt.prototype.getTextSvgElement=function(n){return n.__textSvgEl};pt.prototype.getSvgElement=function(n){return n.__svgEl};ot(dh,pt);dh.prototype.addWithoutUpdate=function(n,i){if(i&&i.style){var r=this;t(["fill","stroke"],function(t){var f,u,e,o;i.style[t]&&("linear"===i.style[t].type||"radial"===i.style[t].type)&&(u=i.style[t],e=r.getDefs(!0),u._dom?(f=u._dom,e.contains(u._dom)||r.addDom(f)):f=r.add(u),r.markUsed(i),o=f.getAttribute("id"),n.setAttribute(t,"url(#"+o+")"))})}};dh.prototype.add=function(n){var t;if("linear"===n.type)t=this.createElement("linearGradient");else{if("radial"!==n.type)return us("Illegal gradient type."),null;t=this.createElement("radialGradient")}return n.id=n.id||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-gradient-"+n.id),this.updateDom(n,t),this.addDom(t),t};dh.prototype.update=function(n){var t=this;pt.prototype.update.call(this,n,function(){var i=n.type,r=n._dom.tagName;"linear"===i&&"linearGradient"===r||"radial"===i&&"radialGradient"===r?t.updateDom(n,n._dom):(t.removeDom(n),t.add(n))})};dh.prototype.updateDom=function(n,t){var r;if("linear"===n.type)t.setAttribute("x1",n.x),t.setAttribute("y1",n.y),t.setAttribute("x2",n.x2),t.setAttribute("y2",n.y2);else{if("radial"!==n.type)return void us("Illegal gradient type.");t.setAttribute("cx",n.x);t.setAttribute("cy",n.y);t.setAttribute("r",n.r)}n.global?t.setAttribute("gradientUnits","userSpaceOnUse"):t.setAttribute("gradientUnits","objectBoundingBox");t.innerHTML="";for(var u=n.colorStops,i=0,f=u.length;i<f;++i)r=this.createElement("stop"),r.setAttribute("offset",100*u[i].offset+"%"),r.setAttribute("stop-color",u[i].color),t.appendChild(r);n._dom=t};dh.prototype.markUsed=function(n){if(n.style){var t=n.style.fill;t&&t._dom&&pt.prototype.markUsed.call(this,t._dom);(t=n.style.stroke)&&t._dom&&pt.prototype.markUsed.call(this,t._dom)}};ot(gp,pt);gp.prototype.update=function(n){var i=this.getSvgElement(n),t;i&&this.updateDom(i,n.__clipPaths,!1);t=this.getTextSvgElement(n);t&&this.updateDom(t,n.__clipPaths,!0);this.markUsed(n)};gp.prototype.updateDom=function(n,t,i){var s,h,c;if(t&&t.length>0){var u,f,o=this.getDefs(!0),r=t[0],e=i?"_textDom":"_dom";r[e]?(f=r[e].getAttribute("id"),u=r[e],o.contains(u)||o.appendChild(u)):(f="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(u=this.createElement("clipPath")).setAttribute("id",f),o.appendChild(u),r[e]=u);s=this.getSvgProxy(r);r.transform&&r.parent.invTransform&&!i?(h=Array.prototype.slice.call(r.transform),ih(r.transform,r.parent.invTransform,r.transform),s.brush(r),r.transform=h):s.brush(r);c=this.getSvgElement(r);u.innerHTML="";u.appendChild(c.cloneNode());n.setAttribute("clip-path","url(#"+f+")");t.length>1&&this.updateDom(u,t.slice(1),i)}else n&&n.setAttribute("clip-path","none")};gp.prototype.markUsed=function(n){var i=this;n.__clipPaths&&n.__clipPaths.length>0&&t(n.__clipPaths,function(n){n._dom&&pt.prototype.markUsed.call(i,n._dom);n._textDom&&pt.prototype.markUsed.call(i,n._textDom)})};ot(is,pt);is.prototype.addWithoutUpdate=function(n,t){var i,r,u;t&&fvi(t.style)&&(r=t.style,r._shadowDom?(i=r._shadowDom,this.getDefs(!0).contains(r._shadowDom)||this.addDom(i)):i=this.add(t),this.markUsed(t),u=i.getAttribute("id"),n.style.filter="url(#"+u+")")};is.prototype.add=function(n){var t=this.createElement("filter"),i=n.style;return i._shadowDomId=i._shadowDomId||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-shadow-"+i._shadowDomId),this.updateDom(n,t),this.addDom(t),t};is.prototype.update=function(n,t){var i=t.style,r;fvi(i)?(r=this,pt.prototype.update.call(this,t,function(n){r.updateDom(t,n._shadowDom)})):this.remove(n,i)};is.prototype.remove=function(n,t){null!=t._shadowDomId&&(this.removeDom(t),n.style.filter="")};is.prototype.updateDom=function(n,t){var r=t.getElementsByTagName("feDropShadow"),c;r=0===r.length?this.createElement("feDropShadow"):r[0];var f,e,u,o,i=n.style,s=n.scale?n.scale[0]||1:1,h=n.scale?n.scale[1]||1:1;if(i.shadowBlur||i.shadowOffsetX||i.shadowOffsetY)f=i.shadowOffsetX||0,e=i.shadowOffsetY||0,u=i.shadowBlur,o=i.shadowColor;else{if(!i.textShadowBlur)return void this.removeDom(t,i);f=i.textShadowOffsetX||0;e=i.textShadowOffsetY||0;u=i.textShadowBlur;o=i.textShadowColor}r.setAttribute("dx",f/s);r.setAttribute("dy",e/h);r.setAttribute("flood-color",o);c=u/2/s+" "+u/2/h;r.setAttribute("stdDeviation",c);t.setAttribute("x","-100%");t.setAttribute("y","-100%");t.setAttribute("width",Math.ceil(u*100)+"%");t.setAttribute("height",Math.ceil(u*100)+"%");t.appendChild(r);i._shadowDom=t};is.prototype.markUsed=function(n){var t=n.style;t&&t._shadowDom&&pt.prototype.markUsed.call(this,t._shadowDom)};wb=function(n,t,i,r){var u,f;this.root=n;this.storage=t;this._opts=i=e({},i||{});u=kh("svg");u.setAttribute("xmlns","http://www.w3.org/2000/svg");u.setAttribute("version","1.1");u.setAttribute("baseProfile","full");u.style.cssText="user-select:none;position:absolute;left:0;top:0;";this.gradientManager=new dh(r,u);this.clipPathManager=new gp(r,u);this.shadowManager=new is(r,u);f=document.createElement("div");f.style.cssText="overflow:hidden;position:relative";this._svgRoot=u;this._viewport=f;n.appendChild(f);f.appendChild(u);this.resize(i.width,i.height);this._visibleList=[]};wb.prototype={constructor:wb,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},refresh:function(){var n=this.storage.getDisplayList(!0);this._paintList(n)},setBackgroundColor:function(n){this._viewport.style.background=n},_paintList:function(n){var l,e,c,f,i,s,u,t;this.gradientManager.markAllUnused();this.clipPathManager.markAllUnused();this.shadowManager.markAllUnused();for(var o=this._svgRoot,a=this._visibleList,v=n.length,h=[],r=0;r<v;r++)l=ydr(t=n[r]),i=fn(t)||un(t),t.invisible||(t.__dirty&&(l&&l.brush(t),this.clipPathManager.update(t),t.style&&(this.gradientManager.update(t.style.fill),this.gradientManager.update(t.style.stroke),this.shadowManager.update(i,t)),t.__dirty=!1),h.push(t));for(c=rtr(a,h),r=0;r<c.length;r++)if((f=c[r]).removed)for(u=0;u<f.count;u++)i=fn(t=a[f.indices[u]]),s=un(t),svi(o,i),svi(o,s);for(r=0;r<c.length;r++)if(f=c[r],f.added)for(u=0;u<f.count;u++)i=fn(t=h[f.indices[u]]),s=un(t),e?rn(o,i,e):ovi(o,i),i?rn(o,s,i):e?rn(o,s,e):ovi(o,s),rn(o,s,i),e=s||i||e,this.gradientManager.addWithoutUpdate(i,t),this.shadowManager.addWithoutUpdate(e,t),this.clipPathManager.markUsed(t);else if(!f.removed)for(u=0;u<f.count;u++)t=h[f.indices[u]],e=i=un(t)||fn(t)||e,this.gradientManager.markUsed(t),this.gradientManager.addWithoutUpdate(i,t),this.shadowManager.markUsed(t),this.shadowManager.addWithoutUpdate(i,t),this.clipPathManager.markUsed(t);this.gradientManager.removeUnused();this.clipPathManager.removeUnused();this.shadowManager.removeUnused();this._visibleList=h},_getDefs:function(n){var i=this._svgRoot,t=this._svgRoot.getElementsByTagName("defs");return 0===t.length?n?((t=i.insertBefore(kh("defs"),i.firstChild)).contains||(t.contains=function(n){var r=t.children,i;if(!r)return!1;for(i=r.length-1;i>=0;--i)if(r[i]===n)return!0;return!1}),t):null:t[0]},resize:function(n,t){var i=this._viewport,r,u,f;i.style.display="none";r=this._opts;(null!=n&&(r.width=n),null!=t&&(r.height=t),n=this._getSize(0),t=this._getSize(1),i.style.display="",this._width!==n||this._height!==t)&&(this._width=n,this._height=t,u=i.style,u.width=n+"px",u.height=t+"px",f=this._svgRoot,f.setAttribute("width",n),f.setAttribute("height",t))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(n){var u=this._opts,t=["width","height"][n],f=["clientWidth","clientHeight"][n],e=["paddingLeft","paddingTop"][n],o=["paddingRight","paddingBottom"][n],i,r;return null!=u[t]&&"auto"!==u[t]?parseFloat(u[t]):(i=this.root,r=document.defaultView.getComputedStyle(i),(i[f]||tn(r[t])||tn(i.style[t]))-(tn(r[e])||0)-(tn(r[o])||0)|0)},dispose:function(){this.root.innerHTML="";this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}};t(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(n){wb.prototype[n]=pdr(n)});gft("svg",wb);n.version="4.1.0";n.dependencies={zrender:"4.0.4"};n.PRIORITY=ev;n.init=function(n,t,i){var u=hot(n),r;return u?u:(r=new gy(n,t,i),r.id="ec_"+tiu++,lc[r.id]=r,vgt(n,oyt,r.id),per(r),r)};n.connect=function(n){if(i(n)){var t=n;n=null;yi(t,function(t){null!=t.group&&(n=t.group)});n=n||"g_"+iiu++;yi(t,function(t){t.group=n})}return ait[n]=!0,n};n.disConnect=gii;n.disconnect=riu;n.dispose=function(n){"string"==typeof n?n=lc[n]:n instanceof gy||(n=hot(n));n instanceof gy&&!n.isDisposed()&&n.dispose()};n.getInstanceByDom=hot;n.getInstanceById=function(n){return lc[n]};n.registerTheme=cot;n.registerPreprocessor=ki;n.registerProcessor=pr;n.registerPostUpdate=function(n){gpi.push(n)};n.registerAction=it;n.registerCoordinateSystem=lot;n.getCoordinateSystemDimensions=function(n){var t=ir.get(n);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()};n.registerLayout=bt;n.registerVisual=vt;n.registerLoading=nri;n.extendComponentModel=wr;n.extendComponentView=si;n.extendSeriesModel=tp;n.extendChartView=fr;n.setCanvasCreator=function(n){pkt("createCanvas",n)};n.registerMap=function(n,t,i){t.geoJson&&!t.features&&(i=t.specialAreas,t=t.geoJson);"string"==typeof t&&(t="undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")());twi[n]={geoJson:t,specialAreas:i}};n.getMap=id;n.dataTool=iwi;n.zrender=kgr;n.graphic=nf;n.number=dnr;n.format=itu;n.throttle=fot;n.helper=rru;n.matrix=egr;n.vector=ugr;n.color=hgr;n.parseGeoJSON=pyt;n.parseGeoJson=hwi;n.util=wyt;n.List=hi;n.Model=tt;n.Axis=ri;n.env=k});
/*!
 DataTables 1.10.16
 ©2008-2017 SpryMedia Ltd - datatables.net/license
*/
(function(n){"function"==typeof define&&define.amd?define(["jquery"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i||(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(i,t,t.document)}:n(jQuery,window,document)})(function(n,t,i,r){function ct(t){var i,r,u={};n.each(t,function(n){(i=n.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(r=n.replace(i[0],i[2].toLowerCase()),u[r]=n,"o"===i[1]&&ct(t[n]))});t._hungarianMap=u}function g(t,i,u){t._hungarianMap||ct(t);var f;n.each(i,function(e){f=t._hungarianMap[e];f!==r&&(u||i[f]===r)&&("o"===f.charAt(0)?(i[f]||(i[f]={}),n.extend(!0,i[f],i[e]),g(t[f],i[f],u)):i[f]=i[e])})}function nr(n){var t=u.defaults.oLanguage,i=n.sZeroRecords;!n.sEmptyTable&&i&&"No data available in table"===t.sEmptyTable&&k(n,n,"sZeroRecords","sEmptyTable");!n.sLoadingRecords&&i&&"Loading..."===t.sLoadingRecords&&k(n,n,"sZeroRecords","sLoadingRecords");n.sInfoThousands&&(n.sThousands=n.sInfoThousands);(n=n.sDecimal)&&te(n)}function hu(n){if(p(n,"ordering","bSort"),p(n,"orderMulti","bSortMulti"),p(n,"orderClasses","bSortClasses"),p(n,"orderCellsTop","bSortCellsTop"),p(n,"order","aaSorting"),p(n,"orderFixed","aaSortingFixed"),p(n,"paging","bPaginate"),p(n,"pagingType","sPaginationType"),p(n,"pageLength","iDisplayLength"),p(n,"searching","bFilter"),"boolean"==typeof n.sScrollX&&(n.sScrollX=n.sScrollX?"100%":""),"boolean"==typeof n.scrollX&&(n.scrollX=n.scrollX?"100%":""),n=n.aoSearchCols)for(var t=0,i=n.length;t<i;t++)n[t]&&g(u.models.oSearch,n[t])}function cu(t){p(t,"orderable","bSortable");p(t,"orderData","aDataSort");p(t,"orderSequence","asSorting");p(t,"orderDataType","sortDataType");var i=t.aDataSort;"number"!=typeof i||n.isArray(i)||(t.aDataSort=[i])}function lu(i){var r;if(!u.__browser){r={};u.__browser=r;var e=n("<div/>").css({position:"fixed",top:0,left:-1*n(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(n("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(n("<div/>").css({width:"100%",height:10}))).appendTo("body"),f=e.children(),o=f.children();r.barWidth=f[0].offsetWidth-f[0].clientWidth;r.bScrollOversize=100===o[0].offsetWidth&&100!==f[0].clientWidth;r.bScrollbarLeft=1!==Math.round(o.offset().left);r.bBounding=e[0].getBoundingClientRect().width?!0:!1;e.remove()}n.extend(i.oBrowser,u.__browser);i.oScroll.iBarWidth=u.__browser.barWidth}function au(n,t,i,u,f,e){var o,s=!1;for(i!==r&&(o=i,s=!0);u!==f;)n.hasOwnProperty(u)&&(o=s?t(o,n[u],u,n):n[u],s=!0,u+=e);return o}function tr(t,r){var f=u.defaults.column,e=t.aoColumns.length,f=n.extend({},u.models.oColumn,f,{nTh:r?r:i.createElement("th"),sTitle:f.sTitle?f.sTitle:r?r.innerHTML:"",aDataSort:f.aDataSort?f.aDataSort:[e],mData:f.mData?f.mData:e,idx:e});t.aoColumns.push(f);f=t.aoPreSearchCols;f[e]=n.extend({},u.models.oSearch,f[e]);ri(t,e,n(r).data())}function ri(t,i,f){var i=t.aoColumns[i],e=t.oClasses,s=n(i.nTh),h;i.sWidthOrig||(i.sWidthOrig=s.attr("width")||null,h=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/),h&&(i.sWidthOrig=h[1]));f!==r&&null!==f&&(cu(f),g(u.defaults.column,f),f.mDataProp!==r&&!f.mData&&(f.mData=f.mDataProp),f.sType&&(i._sManualType=f.sType),f.className&&!f.sClass&&(f.sClass=f.className),f.sClass&&s.addClass(f.sClass),n.extend(i,f),k(i,f,"sWidth","sWidthOrig"),f.iDataSort!==r&&(i.aDataSort=[f.iDataSort]),k(i,f,"aDataSort"));var o=i.mData,l=ut(o),c=i.mRender?ut(i.mRender):null,f=function(n){return"string"==typeof n&&-1!==n.indexOf("@")};i._bAttrSrc=n.isPlainObject(o)&&(f(o.sort)||f(o.type)||f(o.filter));i._setter=null;i.fnGetData=function(n,t,i){var u=l(n,t,r,i);return c&&t?c(u,t,n,i):u};i.fnSetData=function(n,t,i){return ft(o)(n,t,i)};"number"!=typeof o&&(t._rowReadObject=!0);t.oFeatures.bSort||(i.bSortable=!1,s.addClass(e.sSortableNone));t=-1!==n.inArray("asc",i.asSorting);f=-1!==n.inArray("desc",i.asSorting);!i.bSortable||!t&&!f?(i.sSortingClass=e.sSortableNone,i.sSortingClassJUI=""):t&&!f?(i.sSortingClass=e.sSortableAsc,i.sSortingClassJUI=e.sSortJUIAscAllowed):!t&&f?(i.sSortingClass=e.sSortableDesc,i.sSortingClassJUI=e.sSortJUIDescAllowed):(i.sSortingClass=e.sSortable,i.sSortingClassJUI=e.sSortJUI)}function lt(n){var t,i,r;if(!1!==n.oFeatures.bAutoWidth)for(t=n.aoColumns,lr(n),i=0,r=t.length;i<r;i++)t[i].nTh.style.width=t[i].sWidth;t=n.oScroll;(""!==t.sY||""!==t.sX)&&ai(n);o(n,null,"column-sizing",[n])}function at(n,t){var i=ui(n,"bVisible");return"number"==typeof i[t]?i[t]:null}function vt(t,i){var r=ui(t,"bVisible"),r=n.inArray(i,r);return-1!==r?r:null}function yt(t){var i=0;return n.each(t.aoColumns,function(t,r){r.bVisible&&"none"!==n(r.nTh).css("display")&&i++}),i}function ui(t,i){var r=[];return n.map(t.aoColumns,function(n,t){n[i]&&r.push(t)}),r}function ir(n){for(var c=n.aoColumns,p=n.aoData,h=u.ext.type.detect,e,a,i,v,t,o,s,f=0,l=c.length;f<l;f++)if(t=c[f],s=[],!t.sType&&t._sManualType)t.sType=t._sManualType;else if(!t.sType){for(e=0,a=h.length;e<a;e++){for(i=0,v=p.length;i<v;i++){if(s[i]===r&&(s[i]=y(n,i,f,"type")),o=h[e](s[i],n),!o&&e!==h.length-1)break;if("html"===o)break}if(o){t.sType=o;break}}t.sType||(t.sType="string")}}function vu(t,i,u,f){var s,o,a,c,v,h,l=t.aoColumns,e;if(i)for(s=i.length-1;0<=s;s--)for(h=i[s],e=h.targets!==r?h.targets:h.aTargets,n.isArray(e)||(e=[e]),o=0,a=e.length;o<a;o++)if("number"==typeof e[o]&&0<=e[o]){for(;l.length<=e[o];)tr(t);f(e[o],h)}else if("number"==typeof e[o]&&0>e[o])f(l.length+e[o],h);else if("string"==typeof e[o])for(c=0,v=l.length;c<v;c++)("_all"==e[o]||n(l[c].nTh).hasClass(e[o]))&&f(c,h);if(u)for(s=0,t=u.length;s<t;s++)f(s,u[s])}function it(t,i,f,e){var o=t.aoData.length,s=n.extend(!0,{},u.models.oRow,{src:f?"dom":"data",idx:o});s._aData=i;t.aoData.push(s);for(var c=t.aoColumns,h=0,l=c.length;h<l;h++)c[h].sType=null;return t.aiDisplayMaster.push(o),i=t.rowIdFn(i),i!==r&&(t.aIds[i]=s),(f||!t.oFeatures.bDeferRender)&&er(t,o,f,e),o}function fi(t,i){var r;return i instanceof n||(i=n(i)),i.map(function(n,i){return r=fr(t,i),it(t,r.data,i,r.cells)})}function y(n,t,i,u){var h=n.iDraw,e=n.aoColumns[i],s=n.aoData[t]._aData,o=e.sDefaultContent,f=e.fnGetData(s,u,{settings:n,row:t,col:i});if(f===r)return n.iDrawError!=h&&null===o&&(nt(n,0,"Requested unknown parameter "+("function"==typeof e.mData?"{function}":"'"+e.mData+"'")+" for row "+t+", column "+i,4),n.iDrawError=h),o;if((f===s||null===f)&&null!==o&&u!==r)f=o;else if("function"==typeof f)return f.call(s);return null===f&&"display"==u?"":f}function yu(n,t,i,r){n.aoColumns[i].fnSetData(n.aoData[t]._aData,r,{settings:n,row:t,col:i})}function rr(t){return n.map(t.match(/(\\.|[^\.])+/g)||[""],function(n){return n.replace(/\\\./g,".")})}function ut(t){var i,u;return n.isPlainObject(t)?(i={},n.each(t,function(n,t){t&&(i[n]=ut(t))}),function(n,t,u,f){var e=i[t]||i._;return e!==r?e(n,t,u,f):n}):null===t?function(n){return n}:"function"==typeof t?function(n,i,r,u){return t(n,i,r,u)}:"string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))?(u=function(t,i,f){var s,o,e,h;if(""!==f)for(o=rr(f),e=0,h=o.length;e<h;e++){if(f=o[e].match(ti),s=o[e].match(ht),f){if(o[e]=o[e].replace(ti,""),""!==o[e]&&(t=t[o[e]]),s=[],o.splice(0,e+1),o=o.join("."),n.isArray(t))for(e=0,h=t.length;e<h;e++)s.push(u(t[e],i,o));t=f[0].substring(1,f[0].length-1);t=""===t?s:s.join(t);break}else if(s){o[e]=o[e].replace(ht,"");t=t[o[e]]();continue}if(null===t||t[o[e]]===r)return r;t=t[o[e]]}return t},function(n,i){return u(n,i,t)}):function(n){return n[t]}}function ft(t){if(n.isPlainObject(t))return ft(t._);if(null===t)return function(){};if("function"==typeof t)return function(n,i,r){t(n,"set",i,r)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var i=function(t,u,f){var f=rr(f),o,h,s,e,c;for(o=f[f.length-1],e=0,c=f.length-1;e<c;e++){if(h=f[e].match(ti),s=f[e].match(ht),h){if(f[e]=f[e].replace(ti,""),t[f[e]]=[],o=f.slice(),o.splice(0,e+1),h=o.join("."),n.isArray(u))for(s=0,c=u.length;s<c;s++)o={},i(o,u[s],h),t[f[e]].push(o);else t[f[e]]=u;return}s&&(f[e]=f[e].replace(ht,""),t=t[f[e]](u));(null===t[f[e]]||t[f[e]]===r)&&(t[f[e]]={});t=t[f[e]]}o.match(ht)?t[o.replace(ht,"")](u):t[o.replace(ti,"")]=u};return function(n,r){return i(n,r,t)}}return function(n,i){n[t]=i}}function ur(n){return b(n.aoData,"_aData")}function ei(n){n.aoData.length=0;n.aiDisplayMaster.length=0;n.aiDisplay.length=0;n.aIds={}}function oi(n,t,i){for(var f=-1,u=0,e=n.length;u<e;u++)n[u]==t?f=u:n[u]>t&&n[u]--;-1!=f&&i===r&&n.splice(f,1)}function pt(n,t,i,u){var f=n.aoData[t],s,e=function(i,r){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=y(n,t,r,"display")},o;if("dom"!==i&&(i&&"auto"!==i||"dom"!==f.src)){if(o=f.anCells,o)if(u!==r)e(o[u],u);else for(i=0,s=o.length;i<s;i++)e(o[i],i)}else f._aData=fr(n,f,u,u===r?r:f._aData).data;if(f._aSortData=null,f._aFilterData=null,e=n.aoColumns,u!==r)e[u].sType=null;else{for(i=0,s=e.length;i<s;i++)e[i].sType=null;or(n,f)}}function fr(t,i,u,f){var s=[],e=i.firstChild,h,o,c=0,l,p=t.aoColumns,v=t._rowReadObject,f=f!==r?f:v?{}:[],a=function(n,t){if("string"==typeof n){var i=n.indexOf("@");-1!==i&&(i=n.substring(i+1),ft(n)(f,t.getAttribute(i)))}},y=function(t){(u===r||u===c)&&(o=p[c],l=n.trim(t.innerHTML),o&&o._bAttrSrc?(ft(o.mData._)(f,l),a(o.mData.sort,t),a(o.mData.type,t),a(o.mData.filter,t)):v?(o._setter||(o._setter=ft(o.mData)),o._setter(f,l)):f[c]=l);c++};if(e)for(;e;)h=e.nodeName.toUpperCase(),("TD"==h||"TH"==h)&&(y(e),s.push(e)),e=e.nextSibling;else for(s=i.anCells,e=0,h=s.length;e<h;e++)y(s[e]);return(i=i.firstChild?i:i.nTr)&&(i=i.getAttribute("id"))&&ft(t.rowId)(f,i),{data:f,cells:s}}function er(t,r,u,f){var c=t.aoData[r],a=c._aData,v=[],l,h,e,s,p;if(null===c.nTr){for(l=u||i.createElement("tr"),c.nTr=l,c.anCells=v,l._DT_RowIndex=r,or(t,c),s=0,p=t.aoColumns.length;s<p;s++)e=t.aoColumns[s],h=u?f[s]:i.createElement(e.sCellType),h._DT_CellIndex={row:r,column:s},v.push(h),u&&!e.mRender&&e.mData===s||n.isPlainObject(e.mData)&&e.mData._===s+".display"||(h.innerHTML=y(t,r,s,"display")),e.sClass&&(h.className+=" "+e.sClass),e.bVisible&&!u?l.appendChild(h):!e.bVisible&&u&&h.parentNode.removeChild(h),e.fnCreatedCell&&e.fnCreatedCell.call(t.oInstance,h,y(t,r,s),a,r,s);o(t,"aoRowCreatedCallback",null,[l,a,r])}c.nTr.setAttribute("role","row")}function or(t,i){var f=i.nTr,r=i._aData,u;f&&(u=t.rowIdFn(r),u&&(f.id=u),r.DT_RowClass&&(u=r.DT_RowClass.split(" "),i.__rowc=i.__rowc?bi(i.__rowc.concat(u)):u,n(f).removeClass(i.__rowc.join(" ")).addClass(r.DT_RowClass)),r.DT_RowAttr&&n(f).attr(r.DT_RowAttr),r.DT_RowData&&n(f).data(r.DT_RowData))}function pu(t){var r,e,u,c,i,f=t.nTHead,l=t.nTFoot,o=0===n("th, td",f).length,s=t.oClasses,h=t.aoColumns;for(o&&(c=n("<tr/>").appendTo(f)),r=0,e=h.length;r<e;r++)i=h[r],u=n(i.nTh).addClass(i.sClass),o&&u.appendTo(c),t.oFeatures.bSort&&(u.addClass(i.sSortingClass),!1!==i.bSortable&&(u.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),vr(t,i.nTh,r))),i.sTitle!=u[0].innerHTML&&u.html(i.sTitle),wr(t,"header")(t,u,i,s);if(o&&bt(t.aoHeader,f),n(f).find(">tr").attr("role","row"),n(f).find(">tr>th, >tr>td").addClass(s.sHeaderTH),n(l).find(">tr>th, >tr>td").addClass(s.sFooterTH),null!==l)for(t=t.aoFooter[0],r=0,e=t.length;r<e;r++)i=h[r],i.nTf=t[r].cell,i.sClass&&n(i.nTf).addClass(i.sClass)}function wt(t,i,u){var f,l,e,o=[],c=[],s=t.aoColumns.length,h;if(i){for(u===r&&(u=!1),f=0,l=i.length;f<l;f++){for(o[f]=i[f].slice(),o[f].nTr=i[f].nTr,e=s-1;0<=e;e--)t.aoColumns[e].bVisible||u||o[f].splice(e,1);c.push([])}for(f=0,l=o.length;f<l;f++){if(t=o[f].nTr)for(;e=t.firstChild;)t.removeChild(e);for(e=0,i=o[f].length;e<i;e++)if(h=s=1,c[f][e]===r){for(t.appendChild(o[f][e].cell),c[f][e]=1;o[f+s]!==r&&o[f][e].cell==o[f+s][e].cell;)c[f+s][e]=1,s++;for(;o[f][e+h]!==r&&o[f][e].cell==o[f][e+h].cell;){for(u=0;u<s;u++)c[f+u][e+h]=1;h++}n(o[f][e].cell).attr("rowspan",s).attr("colspan",h)}}}}function rt(t){var l=o(t,"aoPreDrawCallback","preDraw",[t]),i,y,e,s,p;if(-1!==n.inArray(!1,l))w(t,!1);else{var l=[],f=0,h=t.asStripeClasses,b=h.length,c=t.oLanguage,i=t.iInitDisplayStart,u="ssp"==v(t),a=t.aiDisplay;if(t.bDrawing=!0,i!==r&&-1!==i&&(t._iDisplayStart=u?i:i>=t.fnRecordsDisplay()?0:i,t.iInitDisplayStart=-1),i=t._iDisplayStart,y=t.fnDisplayEnd(),t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,w(t,!1);else if(u){if(!t.bDestroying&&!bu(t))return}else t.iDraw++;if(0!==a.length)for(c=u?t.aoData.length:y,u=u?0:i;u<c;u++)e=a[u],s=t.aoData[e],null===s.nTr&&er(t,e),e=s.nTr,0!==b&&(p=h[f%b],s._sRowStripe!=p&&(n(e).removeClass(s._sRowStripe).addClass(p),s._sRowStripe=p)),o(t,"aoRowCallback",null,[e,s._aData,f,u]),l.push(e),f++;else f=c.sZeroRecords,1==t.iDraw&&"ajax"==v(t)?f=c.sLoadingRecords:c.sEmptyTable&&0===t.fnRecordsTotal()&&(f=c.sEmptyTable),l[0]=n("<tr/>",{"class":b?h[0]:""}).append(n("<td />",{valign:"top",colSpan:yt(t),"class":t.oClasses.sRowEmpty}).html(f))[0];o(t,"aoHeaderCallback","header",[n(t.nTHead).children("tr")[0],ur(t),i,y,a]);o(t,"aoFooterCallback","footer",[n(t.nTFoot).children("tr")[0],ur(t),i,y,a]);h=n(t.nTBody);h.children().detach();h.append(n(l));o(t,"aoDrawCallback","draw",[t]);t.bSorted=!1;t.bFiltered=!1;t.bDrawing=!1}}function et(n,t){var i=n.oFeatures,r=i.bFilter;i.bSort&&bf(n);r?kt(n,n.oPreviousSearch):n.aiDisplay=n.aiDisplayMaster.slice();!0!==t&&(n._iDisplayStart=0);n._drawHold=t;rt(n);n._drawHold=!1}function wu(t){var v=t.oClasses,y=n(t.nTable),y=n("<div/>").insertBefore(y),l=t.oFeatures,c=n("<div/>",{id:t.sTableId+"_wrapper","class":v.sWrapper+(t.nTFoot?"":" "+v.sNoFooter)}),a,e,r,i,o,f,s,h;for(t.nHolding=y[0],t.nTableWrapper=c[0],t.nTableReinsertBefore=t.nTable.nextSibling,a=t.sDom.split(""),h=0;h<a.length;h++){if(e=null,r=a[h],"<"==r){if(i=n("<div/>")[0],o=a[h+1],"'"==o||'"'==o){for(f="",s=2;a[h+s]!=o;)f+=a[h+s],s++;"H"==f?f=v.sJUIHeader:"F"==f&&(f=v.sJUIFooter);-1!=f.indexOf(".")?(o=f.split("."),i.id=o[0].substr(1,o[0].length-1),i.className=o[1]):"#"==f.charAt(0)?i.id=f.substr(1,f.length-1):i.className=f;h+=s}c.append(i);c=n(i)}else if(">"==r)c=c.parent();else if("l"==r&&l.bPaginate&&l.bLengthChange)e=cf(t);else if("f"==r&&l.bFilter)e=gu(t);else if("r"==r&&l.bProcessing)e=af(t);else if("t"==r)e=vf(t);else if("i"==r&&l.bInfo)e=of(t);else if("p"==r&&l.bPaginate)e=lf(t);else if(0!==u.ext.feature.length)for(i=u.ext.feature,s=0,o=i.length;s<o;s++)if(r==i[s].cFeature){e=i[s].fnInit(t);break}e&&(i=t.aanFeatures,i[r]||(i[r]=[]),i[r].push(e),c.append(e))}y.replaceWith(c);t.nHolding=null}function bt(t,i){var c=n(i).children("tr"),l,u,r,f,s,h,a,e,o,v;for(t.splice(0,t.length),r=0,h=c.length;r<h;r++)t.push([]);for(r=0,h=c.length;r<h;r++)for(l=c[r],u=l.firstChild;u;){if("TD"==u.nodeName.toUpperCase()||"TH"==u.nodeName.toUpperCase()){for(e=1*u.getAttribute("colspan"),o=1*u.getAttribute("rowspan"),e=!e||0===e||1===e?1:e,o=!o||0===o||1===o?1:o,f=0,s=t[r];s[f];)f++;for(a=f,v=1===e?!0:!1,s=0;s<e;s++)for(f=0;f<o;f++)t[r+f][a+s]={cell:u,unique:v},t[r+f].nTr=l}u=u.nextSibling}}function si(n,t,i){var u=[],t,f,r,e;for(i||(i=n.aoHeader,t&&(i=[],bt(i,t))),t=0,f=i.length;t<f;t++)for(r=0,e=i[t].length;r<e;r++)!i[t][r].unique||u[r]&&n.bSortCellsTop||(u[r]=i[t][r].cell);return u}function hi(t,i,r){var e,c,f,i;o(t,"aoServerParams","serverParams",[i]);i&&n.isArray(i)&&(e={},c=/(.*?)\[\]$/,n.each(i,function(n,t){var i=t.name.match(c);i?(i=i[0],e[i]||(e[i]=[]),e[i].push(t.value)):e[t.name]=t.value}),i=e);var s,u=t.ajax,l=t.oInstance,h=function(n){o(t,null,"xhr",[t,n,t.jqXHR]);r(n)};n.isPlainObject(u)&&u.data&&(s=u.data,f=n.isFunction(s)?s(i,t):s,i=n.isFunction(s)&&f?f:n.extend(!0,i,f),delete u.data);f={data:i,success:function(n){var i=n.error||n.sError;i&&nt(t,0,i);t.json=n;h(n)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(i,r){var u=o(t,null,"xhr",[t,null,t.jqXHR]);-1===n.inArray(!0,u)&&("parsererror"==r?nt(t,0,"Invalid JSON response",1):4===i.readyState&&nt(t,0,"Ajax error",7));w(t,!1)}};t.oAjaxData=i;o(t,null,"preXhr",[t,i]);t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,n.map(i,function(n,t){return{name:t,value:n}}),h,t):t.sAjaxSource||"string"==typeof u?t.jqXHR=n.ajax(n.extend(f,{url:u||t.sAjaxSource})):n.isFunction(u)?t.jqXHR=u.call(l,i,h,t):(t.jqXHR=n.ajax(n.extend(f,u)),u.data=s)}function bu(n){return n.bAjaxDataGet?(n.iDraw++,w(n,!0),hi(n,ku(n),function(t){du(n,t)}),!1):!0}function ku(t){var e=t.aoColumns,v=e.length,s=t.oFeatures,l=t.oPreviousSearch,p=t.aoPreSearchCols,r,a=[],o,f,h,y=ot(t),i,c;for(r=t._iDisplayStart,o=!1!==s.bPaginate?t._iDisplayLength:-1,i=function(n,t){a.push({name:n,value:t})},i("sEcho",t.iDraw),i("iColumns",v),i("sColumns",b(e,"sName").join(",")),i("iDisplayStart",r),i("iDisplayLength",o),c={draw:t.iDraw,columns:[],order:[],start:r,length:o,search:{value:l.sSearch,regex:l.bRegex}},r=0;r<v;r++)f=e[r],h=p[r],o="function"==typeof f.mData?"function":f.mData,c.columns.push({data:o,name:f.sName,searchable:f.bSearchable,orderable:f.bSortable,search:{value:h.sSearch,regex:h.bRegex}}),i("mDataProp_"+r,o),s.bFilter&&(i("sSearch_"+r,h.sSearch),i("bRegex_"+r,h.bRegex),i("bSearchable_"+r,f.bSearchable)),s.bSort&&i("bSortable_"+r,f.bSortable);return s.bFilter&&(i("sSearch",l.sSearch),i("bRegex",l.bRegex)),s.bSort&&(n.each(y,function(n,t){c.order.push({column:t.col,dir:t.dir});i("iSortCol_"+n,t.col);i("sSortDir_"+n,t.dir)}),i("iSortingCols",y.length)),e=u.ext.legacy.ajax,null===e?t.sAjaxSource?a:c:e?a:c}function du(n,t){var f=ci(n,t),i=t.sEcho!==r?t.sEcho:t.draw,u=t.iTotalRecords!==r?t.iTotalRecords:t.recordsTotal,e=t.iTotalDisplayRecords!==r?t.iTotalDisplayRecords:t.recordsFiltered;if(i){if(1*i<n.iDraw)return;n.iDraw=1*i}for(ei(n),n._iRecordsTotal=parseInt(u,10),n._iRecordsDisplay=parseInt(e,10),i=0,u=f.length;i<u;i++)it(n,f[i]);n.aiDisplay=n.aiDisplayMaster.slice();n.bAjaxDataGet=!1;rt(n);n._bInitComplete||li(n,t);n.bAjaxDataGet=!0;w(n,!1)}function ci(t,i){var u=n.isPlainObject(t.ajax)&&t.ajax.dataSrc!==r?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===u?i.aaData||i[u]:""!==u?ut(u)(i):i}function gu(t){var u=t.oClasses,s=t.sTableId,h=t.oLanguage,r=t.oPreviousSearch,o=t.aanFeatures,f='<input type="search" class="'+u.sFilterInput+'"/>',e=h.sSearch,e=e.match(/_INPUT_/)?e.replace("_INPUT_",f):e+f,u=n("<div/>",{id:o.f?null:s+"_filter","class":u.sFilter}).append(n("<label/>").append(e)),o=function(){var n=this.value?this.value:"";n!=r.sSearch&&(kt(t,{sSearch:n,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),t._iDisplayStart=0,rt(t))},f=null!==t.searchDelay?t.searchDelay:"ssp"===v(t)?400:0,c=n("input",u).val(r.sSearch).attr("placeholder",h.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",f?nu(o,f):o).on("keypress.DT",function(n){if(13==n.keyCode)return!1}).attr("aria-controls",s);n(t.nTable).on("search.dt.DT",function(n,u){if(t===u)try{c[0]!==i.activeElement&&c.val(r.sSearch)}catch(f){}});return u[0]}function kt(n,t,i){var f=n.oPreviousSearch,u=n.aoPreSearchCols,e=function(n){f.sSearch=n.sSearch;f.bRegex=n.bRegex;f.bSmart=n.bSmart;f.bCaseInsensitive=n.bCaseInsensitive};if(ir(n),"ssp"!=v(n)){for(rf(n,t.sSearch,i,t.bEscapeRegex!==r?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),e(t),t=0;t<u.length;t++)tf(n,u[t].sSearch,t,u[t].bEscapeRegex!==r?!u[t].bEscapeRegex:u[t].bRegex,u[t].bSmart,u[t].bCaseInsensitive);nf(n)}else e(t);n.bFiltered=!0;o(n,null,"search",[n])}function nf(t){for(var s=u.ext.search,i=t.aiDisplay,e,r,o=0,c=s.length;o<c;o++){for(var h=[],f=0,l=i.length;f<l;f++)r=i[f],e=t.aoData[r],s[o](t,e._aFilterData,r,e._aData,f)&&h.push(r);i.length=0;n.merge(i,h)}}function tf(n,t,i,r,u,f){if(""!==t){for(var o=[],e=n.aiDisplay,r=sr(t,r,u,f),u=0;u<e.length;u++)t=n.aoData[e[u]]._aFilterData[i],r.test(t)&&o.push(e[u]);n.aiDisplay=o}}function rf(n,t,i,r,f,e){var r=sr(t,r,f,e),e=n.oPreviousSearch.sSearch,o=n.aiDisplayMaster,s,f=[];if(0!==u.ext.search.length&&(i=!0),s=uf(n),0>=t.length)n.aiDisplay=o.slice();else{for((s||i||e.length>t.length||0!==t.indexOf(e)||n.bSorted)&&(n.aiDisplay=o.slice()),t=n.aiDisplay,i=0;i<t.length;i++)r.test(n.aoData[t[i]]._sFilterRow)&&f.push(t[i]);n.aiDisplay=f}}function sr(t,i,r,u){return t=i?t:gr(t),r&&(t="^(?=.*?"+n.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(n){if('"'===n.charAt(0))var t=n.match(/^"(.*)"$/),n=t?t[1]:n;return n.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,u?"i":"")}function uf(n){var s=n.aoColumns,i,r,f,h,c,e,t,o,l=u.ext.type.search;for(i=!1,r=0,h=n.aoData.length;r<h;r++)if(o=n.aoData[r],!o._aFilterData){for(e=[],f=0,c=s.length;f<c;f++)i=s[f],i.bSearchable?(t=y(n,r,f,"filter"),l[i.sType]&&(t=l[i.sType](t)),null===t&&(t=""),"string"!=typeof t&&t.toString&&(t=t.toString())):t="",t.indexOf&&-1!==t.indexOf("&")&&(ki.innerHTML=t,t=ae?ki.textContent:ki.innerText),t.replace&&(t=t.replace(/[\r\n]/g,"")),e.push(t);o._aFilterData=e;o._sFilterRow=e.join("  ");i=!0}return i}function ff(n){return{search:n.sSearch,smart:n.bSmart,regex:n.bRegex,caseInsensitive:n.bCaseInsensitive}}function ef(n){return{sSearch:n.search,bSmart:n.smart,bRegex:n.regex,bCaseInsensitive:n.caseInsensitive}}function of(t){var i=t.sTableId,r=t.aanFeatures.i,u=n("<div/>",{"class":t.oClasses.sInfo,id:r?null:i+"_info"});return r||(t.aoDrawCallback.push({fn:sf,sName:"information"}),u.attr("role","status").attr("aria-live","polite"),n(t.nTable).attr("aria-describedby",i+"_info")),u[0]}function sf(t){var f=t.aanFeatures.i;if(0!==f.length){var i=t.oLanguage,o=t._iDisplayStart+1,s=t.fnDisplayEnd(),e=t.fnRecordsTotal(),u=t.fnRecordsDisplay(),r=u?i.sInfo:i.sInfoEmpty;u!==e&&(r+=" "+i.sInfoFiltered);r+=i.sInfoPostFix;r=hf(t,r);i=i.fnInfoCallback;null!==i&&(r=i.call(t.oInstance,t,o,s,e,u,r));n(f).html(r)}}function hf(n,t){var i=n.fnFormatNumber,u=n._iDisplayStart+1,r=n._iDisplayLength,f=n.fnRecordsDisplay(),e=-1===r;return t.replace(/_START_/g,i.call(n,u)).replace(/_END_/g,i.call(n,n.fnDisplayEnd())).replace(/_MAX_/g,i.call(n,n.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(n,f)).replace(/_PAGE_/g,i.call(n,e?1:Math.ceil(u/r))).replace(/_PAGES_/g,i.call(n,e?1:Math.ceil(f/r)))}function dt(n){var t,r,e=n.iInitDisplayStart,i=n.aoColumns,u,f;if(r=n.oFeatures,f=n.bDeferLoading,n.bInitialised){for(wu(n),pu(n),wt(n,n.aoHeader),wt(n,n.aoFooter),w(n,!0),r.bAutoWidth&&lr(n),t=0,r=i.length;t<r;t++)u=i[t],u.sWidth&&(u.nTh.style.width=h(u.sWidth));o(n,null,"preInit",[n]);et(n);i=v(n);("ssp"!=i||f)&&("ajax"==i?hi(n,[],function(i){var r=ci(n,i);for(t=0;t<r.length;t++)it(n,r[t]);n.iInitDisplayStart=e;et(n);w(n,!1);li(n,i)},n):(w(n,!1),li(n)))}else setTimeout(function(){dt(n)},200)}function li(n,t){n._bInitComplete=!0;(t||n.oInit.aaData)&&lt(n);o(n,null,"plugin-init",[n,t]);o(n,"aoInitComplete","init",[n,t])}function hr(n,t){var i=parseInt(t,10);n._iDisplayLength=i;pr(n);o(n,null,"length",[n,i])}function cf(t){for(var u,o=t.oClasses,e=t.sTableId,i=t.aLengthMenu,f=n.isArray(i[0]),s=f?i[0]:i,i=f?i[1]:i,f=n("<select/>",{name:e+"_length","aria-controls":e,"class":o.sLengthSelect}),r=0,h=s.length;r<h;r++)f[0][r]=new Option("number"==typeof i[r]?t.fnFormatNumber(i[r]):i[r],s[r]);u=n("<div><label/><\/div>").addClass(o.sLength);t.aanFeatures.l||(u[0].id=e+"_length");u.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",f[0].outerHTML));n("select",u).val(t._iDisplayLength).on("change.DT",function(){hr(t,n(this).val());rt(t)});n(t.nTable).on("length.dt.DT",function(i,r,f){t===r&&n("select",u).val(f)});return u[0]}function lf(t){var i=t.sPaginationType,r=u.ext.pager[i],e="function"==typeof r,o=function(n){rt(n)},i=n("<div/>").addClass(t.oClasses.sPaging+i)[0],f=t.aanFeatures;return e||r.fnInit(t,i,o),f.p||(i.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(n){if(e)for(var u=n._iDisplayStart,i=n._iDisplayLength,s=n.fnRecordsDisplay(),t=-1===i,u=t?0:Math.ceil(u/i),i=t?1:Math.ceil(s/i),s=r(u,i),t=0,h=f.p.length;t<h;t++)wr(n,"pageButton")(n,f.p[t],t,s,u,i);else r.fnUpdate(n,o)},sName:"pagination"})),i}function cr(n,t,i){var r=n._iDisplayStart,u=n._iDisplayLength,f=n.fnRecordsDisplay();return 0===f||-1===u?r=0:"number"==typeof t?(r=t*u,r>f&&(r=0)):"first"==t?r=0:"previous"==t?(r=0<=u?r-u:0,0>r&&(r=0)):"next"==t?r+u<f&&(r+=u):"last"==t?r=Math.floor((f-1)/u)*u:nt(n,0,"Unknown paging action: "+t,5),t=n._iDisplayStart!==r,n._iDisplayStart=r,t&&(o(n,null,"page",[n]),i&&rt(n)),t}function af(t){return n("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing","class":t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function w(t,i){t.oFeatures.bProcessing&&n(t.aanFeatures.r).css("display",i?"block":"none");o(t,null,"processing",[t,i])}function vf(t){var i=n(t.nTable),f;if(i.attr("role","grid"),f=t.oScroll,""===f.sX&&""===f.sY)return t.nTable;var r=f.sX,c=f.sY,u=t.oClasses,s=i.children("caption"),l=s.length?s[0]._captionSide:null,e=n(i[0].cloneNode(!1)),y=n(i[0].cloneNode(!1)),o=i.children("tfoot");o.length||(o=null);e=n("<div/>",{"class":u.sScrollWrapper}).append(n("<div/>",{"class":u.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?r?h(r):null:"100%"}).append(n("<div/>",{"class":u.sScrollHeadInner}).css({"box-sizing":"content-box",width:f.sXInner||"100%"}).append(e.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(i.children("thead"))))).append(n("<div/>",{"class":u.sScrollBody}).css({position:"relative",overflow:"auto",width:r?h(r):null}).append(i));o&&e.append(n("<div/>",{"class":u.sScrollFoot}).css({overflow:"hidden",border:0,width:r?r?h(r):null:"100%"}).append(n("<div/>",{"class":u.sScrollFootInner}).append(y.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(i.children("tfoot")))));var i=e.children(),a=i[0],u=i[1],v=o?i[2]:null;if(r)n(u).on("scroll.DT",function(){var n=this.scrollLeft;a.scrollLeft=n;o&&(v.scrollLeft=n)});return n(u).css(c&&f.bCollapse?"max-height":"height",c),t.nScrollHead=a,t.nScrollBody=u,t.nScrollFoot=v,t.aoDrawCallback.push({fn:ai,sName:"scrolling"}),e[0]}function ai(t){var f=t.oScroll,s=f.sX,v=f.sXInner,p=f.sY,f=f.iBarWidth,e=n(t.nScrollHead),pt=e[0].style,u=e.children("div"),et=u[0].style,wt=u.children("table"),u=t.nScrollBody,y=n(u),tt=u.style,it=n(t.nScrollFoot).children("div"),bt=it.children("table"),w=n(t.nTHead),i=n(t.nTable),ot=i[0],k=ot.style,c=t.nTFoot?n(t.nTFoot):null,st=t.oBrowser,rt=st.bScrollOversize,kt=b(t.aoColumns,"nTh"),l,o,a,g,ut=[],ft=[],ht=[],ct=[],vt,yt=function(n){n=n.style;n.paddingTop="0";n.paddingBottom="0";n.borderTopWidth="0";n.borderBottomWidth="0";n.height=0};o=u.scrollHeight>u.clientHeight;t.scrollBarVis!==o&&t.scrollBarVis!==r?(t.scrollBarVis=o,lt(t)):(t.scrollBarVis=o,i.children("thead, tfoot").remove(),c&&(a=c.clone().prependTo(i),l=c.find("tr"),a=a.find("tr")),g=w.clone().prependTo(i),w=w.find("tr"),o=g.find("tr"),g.find("th, td").removeAttr("tabindex"),s||(tt.width="100%",e[0].style.width="100%"),n.each(si(t,g),function(n,i){vt=at(t,n);i.style.width=t.aoColumns[vt].sWidth}),c&&d(function(n){n.style.width=""},a),e=i.outerWidth(),""===s?(k.width="100%",rt&&(i.find("tbody").height()>u.offsetHeight||"scroll"==y.css("overflow-y"))&&(k.width=h(i.outerWidth()-f)),e=i.outerWidth()):""!==v&&(k.width=h(v),e=i.outerWidth()),d(yt,o),d(function(t){ht.push(t.innerHTML);ut.push(h(n(t).css("width")))},o),d(function(t,i){n.inArray(t,kt)!==-1&&(t.style.width=ut[i])},w),n(o).height(0),c&&(d(yt,a),d(function(t){ct.push(t.innerHTML);ft.push(h(n(t).css("width")))},a),d(function(n,t){n.style.width=ft[t]},l),n(a).height(0)),d(function(n,t){n.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+ht[t]+"<\/div>";n.style.width=ut[t]},o),c&&d(function(n,t){n.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+ct[t]+"<\/div>";n.style.width=ft[t]},a),i.outerWidth()<e?(l=u.scrollHeight>u.offsetHeight||"scroll"==y.css("overflow-y")?e+f:e,rt&&(u.scrollHeight>u.offsetHeight||"scroll"==y.css("overflow-y"))&&(k.width=h(l-f)),(""===s||""!==v)&&nt(t,1,"Possible column misalignment",6)):l="100%",tt.width=h(l),pt.width=h(l),c&&(t.nScrollFoot.style.width=h(l)),!p&&rt&&(tt.height=h(ot.offsetHeight+f)),s=i.outerWidth(),wt[0].style.width=h(s),et.width=h(s),v=i.height()>u.clientHeight||"scroll"==y.css("overflow-y"),p="padding"+(st.bScrollbarLeft?"Left":"Right"),et[p]=v?f+"px":"0px",c&&(bt[0].style.width=h(s),it[0].style.width=h(s),it[0].style[p]=v?f+"px":"0px"),i.children("colgroup").insertBefore(i.children("thead")),y.scroll(),(t.bSorted||t.bFiltered)&&!t._drawHold&&(u.scrollTop=0))}function d(n,t,i){for(var e=0,u=0,o=t.length,r,f;u<o;){for(r=t[u].firstChild,f=i?i[u].firstChild:null;r;)1===r.nodeType&&(i?n(r,f,e):n(r,e),e++),r=r.nextSibling,f=i?f.nextSibling:null;u++}}function lr(i){var s=i.nTable,a=i.aoColumns,p=i.oScroll,v=p.sY,y=p.sX,b=p.sXInner,u=a.length,o=ui(i,"bVisible"),c=n("th",i.nTHead),l=s.getAttribute("width"),e=s.parentNode,w=!1,r,f,k=i.oBrowser,p=k.bScrollOversize,d;for((r=s.style.width)&&-1!==r.indexOf("%")&&(l=r),r=0;r<o.length;r++)f=a[o[r]],null!==f.sWidth&&(f.sWidth=yf(f.sWidthOrig,e),w=!0);if(!p&&(w||y||v||u!=yt(i)||u!=c.length)){for(u=n(s).clone().css("visibility","hidden").removeAttr("id"),u.find("tbody tr").remove(),d=n("<tr/>").appendTo(u.find("tbody")),u.find("thead, tfoot").remove(),u.append(n(i.nTHead).clone()).append(n(i.nTFoot).clone()),u.find("tfoot th, tfoot td").css("width",""),c=si(i,u.find("thead")[0]),r=0;r<o.length;r++)f=a[o[r]],c[r].style.width=null!==f.sWidthOrig&&""!==f.sWidthOrig?h(f.sWidthOrig):"",f.sWidthOrig&&y&&n(c[r]).append(n("<div/>").css({width:f.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(r=0;r<o.length;r++)w=o[r],f=a[w],n(pf(i,w)).clone(!1).append(f.sContentPadding).appendTo(d);for(n("[name]",u).removeAttr("name"),f=n("<div/>").css(y||v?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(u).appendTo(e),y&&b?u.width(b):y?(u.css("width","auto"),u.removeAttr("width"),u.width()<e.clientWidth&&l&&u.width(e.clientWidth)):v?u.width(e.clientWidth):l&&u.width(l),r=v=0;r<o.length;r++)e=n(c[r]),b=e.outerWidth()-e.width(),e=k.bBounding?Math.ceil(c[r].getBoundingClientRect().width):e.outerWidth(),v+=e,a[o[r]].sWidth=h(e-b);s.style.width=h(v);f.remove()}else for(r=0;r<u;r++)o=at(i,r),null!==o&&(a[o].sWidth=h(c.eq(r).width()));l&&(s.style.width=h(l));(l||y)&&!i._reszEvt&&(s=function(){n(t).on("resize.DT-"+i.sInstance,nu(function(){lt(i)}))},p?setTimeout(s,1e3):s(),i._reszEvt=!0)}function yf(t,r){if(!t)return 0;var u=n("<div/>").css("width",h(t)).appendTo(r||i.body),f=u[0].offsetWidth;return u.remove(),f}function pf(t,i){var r=wf(t,i),u;return 0>r?null:(u=t.aoData[r],u.nTr?u.anCells[i]:n("<td/>").html(y(t,r,i,"display"))[0])}function wf(n,t){for(var i,u=-1,f=-1,r=0,e=n.aoData.length;r<e;r++)i=y(n,r,t,"display")+"",i=i.replace(ve,""),i=i.replace(/&nbsp;/g," "),i.length>u&&(u=i.length,f=r);return f}function h(n){return null===n?"0px":"number"==typeof n?0>n?"0px":n+"px":n.match(/\d$/)?n+"px":n}function ot(t){var i,o,a=[],h=t.aoColumns,e,s,c,l,f;for(i=t.aaSortingFixed,o=n.isPlainObject(i),f=[],e=function(t){t.length&&!n.isArray(t[0])?f.push(t):n.merge(f,t)},n.isArray(i)&&e(i),o&&i.pre&&e(i.pre),e(t.aaSorting),o&&i.post&&e(i.post),t=0;t<f.length;t++)for(l=f[t][0],e=h[l].aDataSort,i=0,o=e.length;i<o;i++)s=e[i],c=h[s].sType||"string",f[t]._idx===r&&(f[t]._idx=n.inArray(f[t][1],h[s].asSorting)),a.push({src:l,col:s,dir:f[t][1],index:f[t]._idx,type:c,formatter:u.ext.type.order[c+"-pre"]});return a}function bf(n){var t,f,r=[],h=u.ext.type.order,e=n.aoData,c=0,s,o=n.aiDisplayMaster,i;for(ir(n),i=ot(n),t=0,f=i.length;t<f;t++)s=i[t],s.formatter&&c++,df(n,s.col);if("ssp"!=v(n)&&0!==i.length){for(t=0,f=o.length;t<f;t++)r[o[t]]=t;c===i.length?o.sort(function(n,t){for(var u,f,s,h=i.length,c=e[n]._aSortData,l=e[t]._aSortData,o=0;o<h;o++)if(s=i[o],u=c[s.col],f=l[s.col],u=u<f?-1:u>f?1:0,0!==u)return"asc"===s.dir?u:-u;return u=r[n],f=r[t],u<f?-1:u>f?1:0}):o.sort(function(n,t){for(var u,o,f,c=i.length,l=e[n]._aSortData,a=e[t]._aSortData,s=0;s<c;s++)if(f=i[s],u=l[f.col],o=a[f.col],f=h[f.type+"-"+f.dir]||h["string-"+f.dir],u=f(u,o),0!==u)return u;return u=r[n],o=r[t],u<o?-1:u>o?1:0})}n.bSorted=!0}function kf(n){for(var u,f,e,t,o=n.aoColumns,i=ot(n),n=n.oLanguage.oAria,r=0,s=o.length;r<s;r++)t=o[r],u=t.asSorting,e=t.sTitle.replace(/<.*?>/g,""),f=t.nTh,f.removeAttribute("aria-sort"),t.bSortable&&(0<i.length&&i[0].col==r?(f.setAttribute("aria-sort","asc"==i[0].dir?"ascending":"descending"),t=u[i[0].index+1]||u[0]):t=u[0],e+="asc"===t?n.sSortAscending:n.sSortDescending),f.setAttribute("aria-label",e)}function ar(t,i,u,f){var e=t.aaSorting,o=t.aoColumns[i].asSorting,s=function(t,i){var u=t._idx;return u===r&&(u=n.inArray(t[1],o)),u+1<o.length?u+1:i?null:0};"number"==typeof e[0]&&(e=t.aaSorting=[e]);u&&t.oFeatures.bSortMulti?(u=n.inArray(i,b(e,"0")),-1!==u?(i=s(e[u],!0),null===i&&1===e.length&&(i=0),null===i?e.splice(u,1):(e[u][1]=o[i],e[u]._idx=i)):(e.push([i,o[0],0]),e[e.length-1]._idx=0)):e.length&&e[0][0]==i?(i=s(e[0]),e.length=1,e[0][1]=o[i],e[0]._idx=i):(e.length=0,e.push([i,o[0]]),e[0]._idx=0);et(t);"function"==typeof f&&f(t)}function vr(n,t,i,r){var u=n.aoColumns[i];yr(t,{},function(t){!1!==u.bSortable&&(n.oFeatures.bProcessing?(w(n,!0),setTimeout(function(){ar(n,i,t.shiftKey,r);"ssp"!==v(n)&&w(n,!1)},0)):ar(n,i,t.shiftKey,r))})}function vi(t){var e=t.aLastSort,o=t.oClasses.sSortColumn,f=ot(t),i=t.oFeatures,r,u;if(i.bSort&&i.bSortClasses){for(i=0,r=e.length;i<r;i++)u=e[i].src,n(b(t.aoData,"anCells",u)).removeClass(o+(2>i?i+1:3));for(i=0,r=f.length;i<r;i++)u=f[i].src,n(b(t.aoData,"anCells",u)).addClass(o+(2>i?i+1:3))}t.aLastSort=f}function df(n,t){var i=n.aoColumns[t],f=u.ext.order[i.sSortDataType],o;f&&(o=f.call(n.oInstance,n,t,vt(n,t)));for(var e,s=u.ext.type.order[i.sType+"-pre"],r=0,h=n.aoData.length;r<h;r++)(i=n.aoData[r],i._aSortData||(i._aSortData=[]),!i._aSortData[t]||f)&&(e=f?o[r]:y(n,r,t,"sort"),i._aSortData[t]=s?s(e):e)}function yi(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var i={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:n.extend(!0,[],t.aaSorting),search:ff(t.oPreviousSearch),columns:n.map(t.aoColumns,function(n,i){return{visible:n.bVisible,search:ff(t.aoPreSearchCols[i])}})};o(t,"aoStateSaveParams","stateSaveParams",[t,i]);t.oSavedState=i;t.fnStateSaveCallback.call(t.oInstance,t,i)}}function gf(t,i,u){var f,h,e=t.aoColumns,i=function(i){if(i&&i.time){var s=o(t,"aoStateLoadParams","stateLoadParams",[t,i]);if(-1===n.inArray(!1,s)&&(s=t.iStateDuration,!(0<s&&i.time<+new Date-1e3*s)&&!(i.columns&&e.length!==i.columns.length))){if(t.oLoadedState=n.extend(!0,{},i),i.start!==r&&(t._iDisplayStart=i.start,t.iInitDisplayStart=i.start),i.length!==r&&(t._iDisplayLength=i.length),i.order!==r&&(t.aaSorting=[],n.each(i.order,function(n,i){t.aaSorting.push(i[0]>=e.length?[0,i[1]]:i)})),i.search!==r&&n.extend(t.oPreviousSearch,ef(i.search)),i.columns)for(f=0,h=i.columns.length;f<h;f++)s=i.columns[f],s.visible!==r&&(e[f].bVisible=s.visible),s.search!==r&&n.extend(t.aoPreSearchCols[f],ef(s.search));o(t,"aoStateLoaded","stateLoaded",[t,i])}}u()},s;t.oFeatures.bStateSave?(s=t.fnStateLoadCallback.call(t.oInstance,t,i),s!==r&&i(s)):u()}function pi(t){var i=u.settings,t=n.inArray(t,b(i,"nTable"));return-1!==t?i[t]:null}function nt(n,i,r,f){if(r="DataTables warning: "+(n?"table id="+n.sTableId+" - ":"")+r,f&&(r+=". For more information about this error, please see http://datatables.net/tn/"+f),i)t.console&&console.log&&console.log(r);else if(i=u.ext,i=i.sErrMode||i.errMode,n&&o(n,null,"error",[n,f,r]),"alert"==i)alert(r);else{if("throw"==i)throw Error(r);"function"==typeof i&&i(n,f,r)}}function k(t,i,u,f){n.isArray(u)?n.each(u,function(r,u){n.isArray(u)?k(t,i,u[0],u[1]):k(t,i,u)}):(f===r&&(f=u),i[u]!==r&&(t[f]=i[u]))}function ne(t,i,r){var f;for(var u in i)i.hasOwnProperty(u)&&(f=i[u],n.isPlainObject(f)?(n.isPlainObject(t[u])||(t[u]={}),n.extend(!0,t[u],f)):t[u]=r&&"data"!==u&&"aaData"!==u&&n.isArray(f)?f.slice():f);return t}function yr(t,i,r){n(t).on("click.DT",i,function(n){t.blur();r(n)}).on("keypress.DT",i,function(n){13===n.which&&(n.preventDefault(),r(n))}).on("selectstart.DT",function(){return!1})}function a(n,t,i,r){i&&n[t].push({fn:i,sName:r})}function o(t,i,r,u){var f=[];return i&&(f=n.map(t[i].slice().reverse(),function(n){return n.fn.apply(t.oInstance,u)})),null!==r&&(i=n.Event(r+".dt"),n(t.nTable).trigger(i,u),f.push(i.result)),f}function pr(n){var t=n._iDisplayStart,r=n.fnDisplayEnd(),i=n._iDisplayLength;t>=r&&(t=r-i);t-=t%i;(-1===i||0>t)&&(t=0);n._iDisplayStart=t}function wr(t,i){var r=t.renderer,f=u.ext.renderer[i];return n.isPlainObject(r)&&r[i]?f[r[i]]||f._:"string"==typeof r?f[r]||f._:f._}function v(n){return n.oFeatures.bServerSide?"ssp":n.ajax||n.sAjaxSource?"ajax":"dom"}function gt(n,t){var i=[],i=ou.numbers_length,r=Math.floor(i/2);return t<=i?i=st(0,t):n<=r?(i=st(0,i-2),i.push("ellipsis"),i.push(t-1)):(n>=t-1-r?i=st(t-(i-2),t):(i=st(n-r+2,n+r-1),i.push("ellipsis"),i.push(t-1)),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function te(t){n.each({num:function(n){return ii(n,t)},"num-fmt":function(n){return ii(n,t,kr)},"html-num":function(n){return ii(n,t,wi)},"html-num-fmt":function(n){return ii(n,t,wi,kr)}},function(n,i){c.type.order[n+t+"-pre"]=i;n.match(/^html\-/)&&(c.type.search[n+t]=c.type.search.html)})}function ie(n){return function(){var t=[pi(this[u.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return u.ext.internal[n].apply(this,t)}}var u=function(t){var f;this.$=function(n,t){return this.api(!0).$(n,t)};this._=function(n,t){return this.api(!0).rows(n,t).data()};this.api=function(n){return n?new e(pi(this[c.iApiIndex])):new e(this)};this.fnAddData=function(t,i){var u=this.api(!0),f=n.isArray(t)&&(n.isArray(t[0])||n.isPlainObject(t[0]))?u.rows.add(t):u.row.add(t);return(i===r||i)&&u.draw(),f.flatten().toArray()};this.fnAdjustColumnSizing=function(n){var t=this.api(!0).columns.adjust(),i=t.settings()[0],u=i.oScroll;n===r||n?t.draw(!1):(""!==u.sX||""!==u.sY)&&ai(i)};this.fnClearTable=function(n){var t=this.api(!0).clear();(n===r||n)&&t.draw()};this.fnClose=function(n){this.api(!0).row(n).child.hide()};this.fnDeleteRow=function(n,t,i){var u=this.api(!0),n=u.rows(n),f=n.settings()[0],e=f.aoData[n[0][0]];return n.remove(),t&&t.call(this,f,e),(i===r||i)&&u.draw(),e};this.fnDestroy=function(n){this.api(!0).destroy(n)};this.fnDraw=function(n){this.api(!0).draw(n)};this.fnFilter=function(n,t,i,u,f,e){f=this.api(!0);null===t||t===r?f.search(n,i,u,e):f.column(t).search(n,i,u,e);f.draw()};this.fnGetData=function(n,t){var i=this.api(!0),u;return n!==r?(u=n.nodeName?n.nodeName.toLowerCase():"",t!==r||"td"==u||"th"==u?i.cell(n,t).data():i.row(n).data()||null):i.data().toArray()};this.fnGetNodes=function(n){var t=this.api(!0);return n!==r?t.row(n).node():t.rows().nodes().flatten().toArray()};this.fnGetPosition=function(n){var i=this.api(!0),t=n.nodeName.toUpperCase();return"TR"==t?i.row(n).index():"TD"==t||"TH"==t?(n=i.cell(n).index(),[n.row,n.columnVisible,n.column]):null};this.fnIsOpen=function(n){return this.api(!0).row(n).child.isShown()};this.fnOpen=function(n,t,i){return this.api(!0).row(n).child(t,i).show().child()[0]};this.fnPageChange=function(n,t){var i=this.api(!0).page(n);(t===r||t)&&i.draw(!1)};this.fnSetColumnVis=function(n,t,i){n=this.api(!0).column(n).visible(t);(i===r||i)&&n.columns.adjust().draw()};this.fnSettings=function(){return pi(this[c.iApiIndex])};this.fnSort=function(n){this.api(!0).order(n).draw()};this.fnSortListener=function(n,t,i){this.api(!0).order.listener(n,t,i)};this.fnUpdate=function(n,t,i,u,f){var e=this.api(!0);return i===r||null===i?e.row(t).data(n):e.cell(t,i).data(n),(f===r||f)&&e.columns.adjust(),(u===r||u)&&e.draw(),0};this.fnVersionCheck=c.fnVersionCheck;var i=this,s=t===r,h=this.length;s&&(t={});this.oApi=this.internal=c.internal;for(f in u.ext.internal)f&&(this[f]=ie(f));return this.each(function(){var c={},e=1<h?ne(c,t,!0):t,l=0,d,c=this.getAttribute("id"),ht=!1,w=u.defaults,y=n(this),p,b,ct,f,tt,rt,et,ft,st;if("table"!=this.nodeName.toLowerCase())nt(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{for(hu(w),cu(w.column),g(w,w,!0),g(w.column,w.column,!0),g(w,n.extend(e,y.data())),p=u.settings,l=0,d=p.length;l<d;l++){if(b=p[l],b.nTable==this||b.nTHead.parentNode==this||b.nTFoot&&b.nTFoot.parentNode==this){if(ct=e.bRetrieve!==r?e.bRetrieve:w.bRetrieve,s||ct)return b.oInstance;if(e.bDestroy!==r?e.bDestroy:w.bDestroy){b.oInstance.fnDestroy();break}else{nt(b,0,"Cannot reinitialise DataTable",3);return}}if(b.sTableId==this.id){p.splice(l,1);break}}if((null===c||""===c)&&(this.id=c="DataTables_Table_"+u.ext._unique++),f=n.extend(!0,{},u.models.oSettings,{sDestroyWidth:y[0].style.width,sInstance:c,sTableId:c}),f.nTable=this,f.oApi=i.internal,f.oInit=e,p.push(f),f.oInstance=1===i.length?i:y.dataTable(),hu(e),e.oLanguage&&nr(e.oLanguage),e.aLengthMenu&&!e.iDisplayLength&&(e.iDisplayLength=n.isArray(e.aLengthMenu[0])?e.aLengthMenu[0][0]:e.aLengthMenu[0]),e=ne(n.extend(!0,{},w),e),k(f.oFeatures,e,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),k(f,e,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),k(f.oScroll,e,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),k(f.oLanguage,e,"fnInfoCallback"),a(f,"aoDrawCallback",e.fnDrawCallback,"user"),a(f,"aoServerParams",e.fnServerParams,"user"),a(f,"aoStateSaveParams",e.fnStateSaveParams,"user"),a(f,"aoStateLoadParams",e.fnStateLoadParams,"user"),a(f,"aoStateLoaded",e.fnStateLoaded,"user"),a(f,"aoRowCallback",e.fnRowCallback,"user"),a(f,"aoRowCreatedCallback",e.fnCreatedRow,"user"),a(f,"aoHeaderCallback",e.fnHeaderCallback,"user"),a(f,"aoFooterCallback",e.fnFooterCallback,"user"),a(f,"aoInitComplete",e.fnInitComplete,"user"),a(f,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),f.rowIdFn=ut(e.rowId),lu(f),tt=f.oClasses,n.extend(tt,u.ext.classes,e.oClasses),y.addClass(tt.sTable),f.iInitDisplayStart===r&&(f.iInitDisplayStart=e.iDisplayStart,f._iDisplayStart=e.iDisplayStart),null!==e.iDeferLoading&&(f.bDeferLoading=!0,c=n.isArray(e.iDeferLoading),f._iRecordsDisplay=c?e.iDeferLoading[0]:e.iDeferLoading,f._iRecordsTotal=c?e.iDeferLoading[1]:e.iDeferLoading),rt=f.oLanguage,n.extend(!0,rt,e.oLanguage),rt.sUrl&&(n.ajax({dataType:"json",url:rt.sUrl,success:function(t){nr(t);g(w.oLanguage,t);n.extend(!0,rt,t);dt(f)},error:function(){dt(f)}}),ht=!0),null===e.asStripeClasses&&(f.asStripeClasses=[tt.sStripeOdd,tt.sStripeEven]),c=f.asStripeClasses,et=y.children("tbody").find("tr").eq(0),-1!==n.inArray(!0,n.map(c,function(n){return et.hasClass(n)}))&&(n("tbody tr",this).removeClass(c.join(" ")),f.asDestroyStripes=c.slice()),c=[],p=this.getElementsByTagName("thead"),0!==p.length&&(bt(f.aoHeader,p[0]),c=si(f)),null===e.aoColumns)for(p=[],l=0,d=c.length;l<d;l++)p.push(null);else p=e.aoColumns;for(l=0,d=p.length;l<d;l++)tr(f,c?c[l]:null);vu(f,e.aoColumnDefs,p,function(n,t){ri(f,n,t)});et.length&&(ft=function(n,t){return n.getAttribute("data-"+t)!==null?t:null},n(et[0]).children("th, td").each(function(n,t){var e=f.aoColumns[n],i,u;e.mData===n&&(i=ft(t,"sort")||ft(t,"order"),u=ft(t,"filter")||ft(t,"search"),(i!==null||u!==null)&&(e.mData={_:n+".display",sort:i!==null?n+".@data-"+i:r,type:i!==null?n+".@data-"+i:r,filter:u!==null?n+".@data-"+u:r},ri(f,n)))}));st=f.oFeatures;c=function(){var i,t;if(e.aaSorting===r)for(i=f.aaSorting,l=0,d=i.length;l<d;l++)i[l][1]=f.aoColumns[l].asSorting[0];if(vi(f),st.bSort&&a(f,"aoDrawCallback",function(){if(f.bSorted){var t=ot(f),i={};n.each(t,function(n,t){i[t.src]=t.dir});o(f,null,"order",[f,t,i]);kf(f)}}),a(f,"aoDrawCallback",function(){(f.bSorted||v(f)==="ssp"||st.bDeferRender)&&vi(f)},"sc"),i=y.children("caption").each(function(){this._captionSide=n(this).css("caption-side")}),t=y.children("thead"),t.length===0&&(t=n("<thead/>").appendTo(y)),f.nTHead=t[0],t=y.children("tbody"),t.length===0&&(t=n("<tbody/>").appendTo(y)),f.nTBody=t[0],t=y.children("tfoot"),t.length===0&&i.length>0&&(f.oScroll.sX!==""||f.oScroll.sY!=="")&&(t=n("<tfoot/>").appendTo(y)),t.length===0||t.children().length===0?y.addClass(tt.sNoFooter):t.length>0&&(f.nTFoot=t[0],bt(f.aoFooter,f.nTFoot)),e.aaData)for(l=0;l<e.aaData.length;l++)it(f,e.aaData[l]);else(f.bDeferLoading||v(f)=="dom")&&fi(f,n(f.nTBody).children("tr"));f.aiDisplay=f.aiDisplayMaster.slice();f.bInitialised=!0;ht===!1&&dt(f)};e.bStateSave?(st.bStateSave=!0,a(f,"aoDrawCallback",yi,"state_save"),gf(f,e,c)):c()}}),i=null,this},c,e,f,s,br={},re=/[\r\n]/g,wi=/<.*?>/g,ce=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,le=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),kr=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,tt=function(n){return!n||!0===n||"-"===n?!0:!1},ue=function(n){var t=parseInt(n,10);return!isNaN(t)&&isFinite(n)?t:null},fe=function(n,t){return br[t]||(br[t]=RegExp(gr(t),"g")),"string"==typeof n&&"."!==t?n.replace(/\./g,"").replace(br[t],"."):n},dr=function(n,t,i){var r="string"==typeof n;return tt(n)?!0:(t&&r&&(n=fe(n,t)),i&&r&&(n=n.replace(kr,"")),!isNaN(parseFloat(n))&&isFinite(n))},ee=function(n,t,i){return tt(n)?!0:(tt(n)||"string"==typeof n)?dr(n.replace(wi,""),t,i)?!0:null:null},b=function(n,t,i){var f=[],u=0,e=n.length;if(i!==r)for(;u<e;u++)n[u]&&n[u][t]&&f.push(n[u][t][i]);else for(;u<e;u++)n[u]&&f.push(n[u][t]);return f},ni=function(n,t,i,u){var e=[],f=0,o=t.length;if(u!==r)for(;f<o;f++)n[t[f]][i]&&e.push(n[t[f]][i][u]);else for(;f<o;f++)e.push(n[t[f]][i]);return e},st=function(n,t){var f=[],u,i;for(t===r?(t=0,u=n):(u=t,t=n),i=t;i<u;i++)f.push(i);return f},oe=function(n){for(var i=[],t=0,r=n.length;t<r;t++)n[t]&&i.push(n[t]);return i},bi=function(n){var t;n:{if(!(2>n.length)){t=n.slice().sort();for(var r=t[0],i=1,f=t.length;i<f;i++){if(t[i]===r){t=!1;break n}r=t[i]}}t=!0}if(t)return n.slice();t=[];var f=n.length,u,e=0,i=0;n:for(;i<f;i++){for(r=n[i],u=0;u<e;u++)if(t[u]===r)continue n;t.push(r);e++}return t},tu,gi,fu,he,eu,ou,ii,su;u.util={throttle:function(n,t){var u=t!==r?t:200,i,f;return function(){var t=this,e=+new Date,o=arguments;i&&e<i+u?(clearTimeout(f),f=setTimeout(function(){i=r;n.apply(t,o)},u)):(i=e,n.apply(t,o))}},escapeRegex:function(n){return n.replace(le,"\\$1")}};var p=function(n,t,i){n[t]!==r&&(n[i]=n[t])},ti=/\[.*?\]$/,ht=/\(\)$/,gr=u.util.escapeRegex,ki=n("<div>")[0],ae=ki.textContent!==r,ve=/<.*?>/g,nu=u.util.throttle,se=[],l=Array.prototype,ye=function(t){var i,r,f=u.settings,e=n.map(f,function(n){return n.nTable});if(t){if(t.nTable&&t.oApi)return[t];if(t.nodeName&&"table"===t.nodeName.toLowerCase())return i=n.inArray(t,e),-1!==i?[f[i]]:null;if(t&&"function"==typeof t.settings)return t.settings().toArray();"string"==typeof t?r=n(t):t instanceof n&&(r=t)}else return[];if(r)return r.map(function(){return i=n.inArray(this,e),-1!==i?f[i]:null}).toArray()};e=function(t,i){var r,f,u,o;if(!(this instanceof e))return new e(t,i);if(r=[],f=function(n){(n=ye(n))&&(r=r.concat(n))},n.isArray(t))for(u=0,o=t.length;u<o;u++)f(t[u]);else f(t);this.context=bi(r);i&&n.merge(this,i);this.selector={rows:null,cols:null,opts:null};e.extend(this,this,se)};u.Api=e;n.extend(e.prototype,{any:function(){return 0!==this.count()},concat:l.concat,context:[],count:function(){return this.flatten().length},each:function(n){for(var t=0,i=this.length;t<i;t++)n.call(this,this[t],t,this);return this},eq:function(n){var t=this.context;return t.length>n?new e(t[n],this[n]):null},filter:function(n){var i=[],t,r;if(l.filter)i=l.filter.call(this,n,this);else for(t=0,r=this.length;t<r;t++)n.call(this,this[t],t,this)&&i.push(this[t]);return new e(this.context,i)},flatten:function(){var n=[];return new e(this.context,n.concat.apply(n,this.toArray()))},join:l.join,indexOf:l.indexOf||function(n,t){for(var i=t||0,r=this.length;i<r;i++)if(this[i]===n)return i;return-1},iterator:function(n,t,i,u){var h=[],o,f,y,c,p,s=this.context,w,v,a=this.selector,l;for("string"==typeof n&&(u=i,i=t,t=n,n=!1),f=0,y=s.length;f<y;f++)if(l=new e(s[f]),"table"===t)o=i.call(l,s[f],f),o!==r&&h.push(o);else if("columns"===t||"rows"===t)o=i.call(l,s[f],this[f],f),o!==r&&h.push(o);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(v=this[f],"column-rows"===t&&(w=di(s[f],a.opts)),c=0,p=v.length;c<p;c++)o=v[c],o="cell"===t?i.call(l,s[f],o.row,o.column,f,c):i.call(l,s[f],o,f,c,w),o!==r&&h.push(o);return h.length||u?(n=new e(s,n?h.concat.apply([],h):h),t=n.selector,t.rows=a.rows,t.cols=a.cols,t.opts=a.opts,n):this},lastIndexOf:l.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(n){var i=[],t,r;if(l.map)i=l.map.call(this,n,this);else for(t=0,r=this.length;t<r;t++)i.push(n.call(this,this[t],t));return new e(this.context,i)},pluck:function(n){return this.map(function(t){return t[n]})},pop:l.pop,push:l.push,reduce:l.reduce||function(n,t){return au(this,n,t,0,this.length,1)},reduceRight:l.reduceRight||function(n,t){return au(this,n,t,this.length-1,-1,-1)},reverse:l.reverse,selector:null,shift:l.shift,slice:function(){return new e(this.context,this)},sort:l.sort,splice:l.splice,toArray:function(){return l.slice.call(this)},to$:function(){return n(this)},toJQuery:function(){return n(this)},unique:function(){return new e(this.context,bi(this))},unshift:l.unshift});e.extend=function(t,i,r){if(r.length&&i&&(i instanceof e||i.__dt_wrapper))for(var u,s=function(n,t,i){return function(){var r=t.apply(n,arguments);return e.extend(r,r,i.methodExt),r}},f=0,o=r.length;f<o;f++)u=r[f],i[u.name]="function"==typeof u.val?s(t,u.val,u):n.isPlainObject(u.val)?{}:u.val,i[u.name].__dt_wrapper=!0,e.extend(t,i[u.name],u.propExt)};e.register=f=function(t,i){var u,o,r,l;if(n.isArray(t))for(u=0,o=t.length;u<o;u++)e.register(t[u],i);else for(var s=t.split("."),f=se,h,c,u=0,o=s.length;u<o;u++){h=(c=-1!==s[u].indexOf("()"))?s[u].replace("()",""):s[u];n:{for(r=0,l=f.length;r<l;r++)if(f[r].name===h){r=f[r];break n}r=null}r||(r={name:h,val:{},methodExt:[],propExt:[]},f.push(r));u===o-1?r.val=i:f=c?r.methodExt:r.propExt}};e.registerPlural=s=function(t,i,u){e.register(t,u);e.register(i,function(){var t=u.apply(this,arguments);return t===this?this:t instanceof e?t.length?n.isArray(t[0])?new e(t.context,t[0]):t[0]:r:t})};f("tables()",function(t){var i,r,u,t;return t?(i=e,r=this.context,"number"==typeof t?t=[r[t]]:(u=n.map(r,function(n){return n.nTable}),t=n(u).filter(t).map(function(){var t=n.inArray(this,u);return r[t]}).toArray()),i=new i(t)):i=this,i});f("table()",function(n){var n=this.tables(n),t=n.context;return t.length?new e(t[0]):n});s("tables().nodes()","table().node()",function(){return this.iterator("table",function(n){return n.nTable},1)});s("tables().body()","table().body()",function(){return this.iterator("table",function(n){return n.nTBody},1)});s("tables().header()","table().header()",function(){return this.iterator("table",function(n){return n.nTHead},1)});s("tables().footer()","table().footer()",function(){return this.iterator("table",function(n){return n.nTFoot},1)});s("tables().containers()","table().container()",function(){return this.iterator("table",function(n){return n.nTableWrapper},1)});f("draw()",function(n){return this.iterator("table",function(t){"page"===n?rt(t):("string"==typeof n&&(n="full-hold"===n?!1:!0),et(t,!1===n))})});f("page()",function(n){return n===r?this.page.info().page:this.iterator("table",function(t){cr(t,n)})});f("page.info()",function(){if(0===this.context.length)return r;var n=this.context[0],i=n._iDisplayStart,t=n.oFeatures.bPaginate?n._iDisplayLength:-1,u=n.fnRecordsDisplay(),f=-1===t;return{page:f?0:Math.floor(i/t),pages:f?1:Math.ceil(u/t),start:i,end:n.fnDisplayEnd(),length:t,recordsTotal:n.fnRecordsTotal(),recordsDisplay:u,serverSide:"ssp"===v(n)}});f("page.len()",function(n){return n===r?0!==this.context.length?this.context[0]._iDisplayLength:r:this.iterator("table",function(t){hr(t,n)})});tu=function(n,t,i){var u,r;if(i){u=new e(n);u.one("draw",function(){i(u.ajax.json())})}"ssp"==v(n)?et(n,t):(w(n,!0),r=n.jqXHR,r&&4!==r.readyState&&r.abort(),hi(n,[],function(i){ei(n);for(var i=ci(n,i),r=0,u=i.length;r<u;r++)it(n,i[r]);et(n,t);w(n,!1)}))};f("ajax.json()",function(){var n=this.context;if(0<n.length)return n[0].json});f("ajax.params()",function(){var n=this.context;if(0<n.length)return n[0].oAjaxData});f("ajax.reload()",function(n,t){return this.iterator("table",function(i){tu(i,!1===t,n)})});f("ajax.url()",function(t){var i=this.context;return t===r?0===i.length?r:(i=i[0],i.ajax?n.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource):this.iterator("table",function(i){n.isPlainObject(i.ajax)?i.ajax.url=t:i.ajax=t})});f("ajax.url().load()",function(n,t){return this.iterator("table",function(i){tu(i,!1===t,n)})});var iu=function(t,i,u,f,e){var h=[],v,l,o,a,s,y;for(o=typeof i,i&&"string"!==o&&"function"!==o&&i.length!==r||(i=[i]),o=0,a=i.length;o<a;o++)for(l=i[o]&&i[o].split&&!i[o].match(/[\[\(:]/)?i[o].split(","):[i[o]],s=0,y=l.length;s<y;s++)(v=u("string"==typeof l[s]?n.trim(l[s]):l[s]))&&v.length&&(h=h.concat(v));if(t=c.selector[t],t.length)for(o=0,a=t.length;o<a;o++)h=t[o](f,e,h);return bi(h)},ru=function(t){return t||(t={}),t.filter&&t.search===r&&(t.search=t.filter),n.extend({search:"none",order:"current",page:"all"},t)},uu=function(n){for(var t=0,i=n.length;t<i;t++)if(0<n[t].length)return n[0]=n[t],n[0].length=1,n.length=1,n.context=[n.context[t]],n;return n.length=0,n},di=function(t,i){var r,u,e,o=[],s=t.aiDisplay,f;if(r=t.aiDisplayMaster,f=i.search,u=i.order,e=i.page,"ssp"==v(t))return"removed"===f?[]:st(0,r.length);if("current"==e)for(r=t._iDisplayStart,u=t.fnDisplayEnd();r<u;r++)o.push(s[r]);else if("current"==u||"applied"==u)o="none"==f?r.slice():"applied"==f?s.slice():n.map(r,function(t){return-1===n.inArray(t,s)?t:null});else if("index"==u||"original"==u)for(r=0,u=t.aoData.length;r<u;r++)"none"==f?o.push(r):(e=n.inArray(r,s),(-1===e&&"removed"==f||0<=e&&"applied"==f)&&o.push(r));return o};return f("rows()",function(t,i){t===r?t="":n.isPlainObject(t)&&(i=t,t="");var i=ru(i),u=this.iterator("table",function(u){var e=i,f;return iu("row",t,function(t){var i=ue(t),o;return i!==null&&!e?[i]:(f||(f=di(u,e)),i!==null&&n.inArray(i,f)!==-1)?[i]:t===null||t===r||t===""?f:typeof t=="function"?n.map(f,function(n){var i=u.aoData[n];return t(n,i._aData,i.nTr)?n:null}):(i=oe(ni(u.aoData,f,"nTr")),t.nodeName)?t._DT_RowIndex!==r?[t._DT_RowIndex]:t._DT_CellIndex?[t._DT_CellIndex.row]:(i=n(t).closest("*[data-dt-row]"),i.length?[i.data("dt-row")]:[]):typeof t=="string"&&t.charAt(0)==="#"&&(o=u.aIds[t.replace(/^#/,"")],o!==r)?[o.idx]:n(i).filter(t).map(function(){return this._DT_RowIndex}).toArray()},u,e)},1);return u.selector.rows=t,u.selector.opts=i,u}),f("rows().nodes()",function(){return this.iterator("row",function(n,t){return n.aoData[t].nTr||r},1)}),f("rows().data()",function(){return this.iterator(!0,"rows",function(n,t){return ni(n.aoData,t,"_aData")},1)}),s("rows().cache()","row().cache()",function(n){return this.iterator("row",function(t,i){var r=t.aoData[i];return"search"===n?r._aFilterData:r._aSortData},1)}),s("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(t,i){pt(t,i,n)})}),s("rows().indexes()","row().index()",function(){return this.iterator("row",function(n,t){return t},1)}),s("rows().ids()","row().id()",function(n){for(var r,f,o,u=[],i=this.context,t=0,s=i.length;t<s;t++)for(r=0,f=this[t].length;r<f;r++)o=i[t].rowIdFn(i[t].aoData[this[t][r]]._aData),u.push((!0===n?"#":"")+o);return new e(i,u)}),s("rows().remove()","row().remove()",function(){var n=this;return this.iterator("row",function(t,i,u){var o=t.aoData,l=o[i],e,h,f,c,s;for(o.splice(i,1),e=0,h=o.length;e<h;e++)if(f=o[e],s=f.anCells,null!==f.nTr&&(f.nTr._DT_RowIndex=e),null!==s)for(f=0,c=s.length;f<c;f++)s[f]._DT_CellIndex.row=e;oi(t.aiDisplayMaster,i);oi(t.aiDisplay,i);oi(n[u],i,!1);0<t._iRecordsDisplay&&t._iRecordsDisplay--;pr(t);i=t.rowIdFn(l._aData);i!==r&&delete t.aIds[i]}),this.iterator("table",function(n){for(var t=0,i=n.aoData.length;t<i;t++)n.aoData[t].idx=t}),this}),f("rows.add()",function(t){var r=this.iterator("table",function(n){for(var i,u=[],r=0,f=t.length;r<f;r++)i=t[r],i.nodeName&&"TR"===i.nodeName.toUpperCase()?u.push(fi(n,i)[0]):u.push(it(n,i));return u},1),i=this.rows(-1);return i.pop(),n.merge(i,r),i}),f("row()",function(n,t){return uu(this.rows(n,t))}),f("row().data()",function(n){var t=this.context;return n===r?t.length&&this.length?t[0].aoData[this[0]]._aData:r:(t[0].aoData[this[0]]._aData=n,pt(t[0],this[0],"data"),this)}),f("row().node()",function(){var n=this.context;return n.length&&this.length?n[0].aoData[this[0]].nTr||null:null}),f("row.add()",function(t){t instanceof n&&t.length&&(t=t[0]);var i=this.iterator("table",function(n){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?fi(n,t)[0]:it(n,t)});return this.row(i[0])}),gi=function(n,t){var i=n.context;i.length&&(i=i[0].aoData[t!==r?t:n[0]])&&i._details&&(i._details.remove(),i._detailsShow=r,i._details=r)},fu=function(n,t){var o=n.context,i;if(o.length&&n.length&&(i=o[0].aoData[n[0]],i._details)){(i._detailsShow=t)?i._details.insertAfter(i.nTr):i._details.detach();var f=o[0],r=new e(f),u=f.aoData;r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");0<b(u,"_details").length&&(r.on("draw.dt.DT_details",function(n,t){f===t&&r.rows({page:"current"}).eq(0).each(function(n){n=u[n];n._detailsShow&&n._details.insertAfter(n.nTr)})}),r.on("column-visibility.dt.DT_details",function(n,t){if(f===t)for(var i,e=yt(t),r=0,o=u.length;r<o;r++)i=u[r],i._details&&i._details.children("td[colspan]").attr("colspan",e)}),r.on("destroy.dt.DT_details",function(n,t){if(f===t)for(var i=0,e=u.length;i<e;i++)u[i]._details&&gi(r,i)}))}},f("row().child()",function(t,i){var u=this.context;if(t===r)return u.length&&this.length?u[0].aoData[this[0]]._details:r;if(!0===t)this.child.show();else if(!1===t)gi(this);else if(u.length&&this.length){var o=u[0],u=u[0].aoData[this[0]],f=[],e=function(t,i){if(n.isArray(t)||t instanceof n)for(var r=0,u=t.length;r<u;r++)e(t[r],i);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?f.push(t):(r=n("<tr><td/><\/tr>").addClass(i),n("td",r).addClass(i).html(t)[0].colSpan=yt(o),f.push(r[0]))};e(t,i);u._details&&u._details.detach();u._details=n(f);u._detailsShow&&u._details.insertAfter(u.nTr)}return this}),f(["row().child.show()","row().child().show()"],function(){return fu(this,!0),this}),f(["row().child.hide()","row().child().hide()"],function(){return fu(this,!1),this}),f(["row().child.remove()","row().child().remove()"],function(){return gi(this),this}),f("row().child.isShown()",function(){var n=this.context;return n.length&&this.length?n[0].aoData[this[0]]._detailsShow||!1:!1}),he=/^([^:]+):(name|visIdx|visible)$/,eu=function(n,t,i,r,u){for(var i=[],r=0,f=u.length;r<f;r++)i.push(y(n,u[r],t));return i},f("columns()",function(t,i){t===r?t="":n.isPlainObject(t)&&(i=t,t="");var i=ru(i),u=this.iterator("table",function(r){var o=t,e=i,u=r.aoColumns,s=b(u,"sName"),f=b(u,"nTh");return iu("column",o,function(t){var i=ue(t),c,o,h;if(t==="")return st(u.length);if(i!==null)return[i>=0?i:u.length+i];if(typeof t=="function")return c=di(r,e),n.map(u,function(n,i){return t(i,eu(r,i,0,0,c),f[i])?i:null});if(o=typeof t=="string"?t.match(he):"",o)switch(o[2]){case"visIdx":case"visible":return(i=parseInt(o[1],10),i<0)?(h=n.map(u,function(n,t){return n.bVisible?t:null}),[h[h.length+i]]):[at(r,i)];case"name":return n.map(s,function(n,t){return n===o[1]?t:null});default:return[]}return t.nodeName&&t._DT_CellIndex?[t._DT_CellIndex.column]:(i=n(f).filter(t).map(function(){return n.inArray(this,f)}).toArray(),i.length||!t.nodeName)?i:(i=n(t).closest("*[data-dt-column]"),i.length?[i.data("dt-column")]:[])},r,e)},1);return u.selector.cols=t,u.selector.opts=i,u}),s("columns().header()","column().header()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].nTh},1)}),s("columns().footer()","column().footer()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].nTf},1)}),s("columns().data()","column().data()",function(){return this.iterator("column-rows",eu,1)}),s("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].mData},1)}),s("columns().cache()","column().cache()",function(n){return this.iterator("column-rows",function(t,i,r,u,f){return ni(t.aoData,f,"search"===n?"_aFilterData":"_aSortData",i)},1)}),s("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(n,t,i,r,u){return ni(n.aoData,u,"anCells",t)},1)}),s("columns().visible()","column().visible()",function(t,i){var u=this.iterator("column",function(i,u){var l;if(t===r)return i.aoColumns[u].bVisible;var f=i.aoColumns,h=f[u],o=i.aoData,e,c,s;if(t!==r&&h.bVisible!==t){if(t)for(l=n.inArray(!0,b(f,"bVisible"),u+1),e=0,c=o.length;e<c;e++)s=o[e].nTr,f=o[e].anCells,s&&s.insertBefore(f[u],f[l]||null);else n(b(i.aoData,"anCells",u)).detach();h.bVisible=t;wt(i,i.aoHeader);wt(i,i.aoFooter);yi(i)}});return t!==r&&(this.iterator("column",function(n,r){o(n,null,"column-visibility",[n,r,t,i])}),(i===r||i)&&this.columns.adjust()),u}),s("columns().indexes()","column().index()",function(n){return this.iterator("column",function(t,i){return"visible"===n?vt(t,i):i},1)}),f("columns.adjust()",function(){return this.iterator("table",function(n){lt(n)},1)}),f("column.index()",function(n,t){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===n||"toData"===n)return at(i,t);if("fromData"===n||"toVisible"===n)return vt(i,t)}}),f("column()",function(n,t){return uu(this.columns(n,t))}),f("cells()",function(t,i,u){if(n.isPlainObject(t)&&(t.row===r?(u=t,t=null):(u=i,i=null)),n.isPlainObject(i)&&(u=i,i=null),null===i||i===r)return this.iterator("table",function(i){var w=t,a=ru(u),v=i.aoData,l=di(i,a),b=oe(ni(v,l,"anCells")),k=n([].concat.apply([],b)),o,d=i.aoColumns.length,s,h,p,e,c,f;return iu("cell",w,function(t){var u=typeof t=="function";if(t===null||t===r||u){for(s=[],h=0,p=l.length;h<p;h++)for(o=l[h],e=0;e<d;e++)c={row:o,column:e},u?(f=v[o],t(c,y(i,o,e),f.anCells?f.anCells[e]:null)&&s.push(c)):s.push(c);return s}return n.isPlainObject(t)?[t]:(u=k.filter(t).map(function(n,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray(),u.length||!t.nodeName)?u:(f=n(t).closest("*[data-dt-row]"),f.length?[{row:f.data("dt-row"),column:f.data("dt-column")}]:[])},i,a)});var s=this.columns(i,u),h=this.rows(t,u),o,f,c,e,l,a=this.iterator("table",function(n,t){for(o=[],f=0,c=h[t].length;f<c;f++)for(e=0,l=s[t].length;e<l;e++)o.push({row:h[t][f],column:s[t][e]});return o},1);return n.extend(a.selector,{cols:i,rows:t,opts:u}),a}),s("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(n,t,i){return(n=n.aoData[t])&&n.anCells?n.anCells[i]:r},1)}),f("cells().data()",function(){return this.iterator("cell",function(n,t,i){return y(n,t,i)},1)}),s("cells().cache()","cell().cache()",function(n){return n="search"===n?"_aFilterData":"_aSortData",this.iterator("cell",function(t,i,r){return t.aoData[i][n][r]},1)}),s("cells().render()","cell().render()",function(n){return this.iterator("cell",function(t,i,r){return y(t,i,r,n)},1)}),s("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(n,t,i){return{row:t,column:i,columnVisible:vt(n,i)}},1)}),s("cells().invalidate()","cell().invalidate()",function(n){return this.iterator("cell",function(t,i,r){pt(t,i,n,r)})}),f("cell()",function(n,t,i){return uu(this.cells(n,t,i))}),f("cell().data()",function(n){var i=this.context,t=this[0];return n===r?i.length&&t.length?y(i[0],t[0].row,t[0].column):r:(yu(i[0],t[0].row,t[0].column,n),pt(i[0],t[0].row,"data",t[0].column),this)}),f("order()",function(t,i){var u=this.context;return t===r?0!==u.length?u[0].aaSorting:r:("number"==typeof t?t=[[t,i]]:t.length&&!n.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(n){n.aaSorting=t.slice()}))}),f("order.listener()",function(n,t,i){return this.iterator("table",function(r){vr(r,n,t,i)})}),f("order.fixed()",function(t){if(!t){var i=this.context,i=i.length?i[0].aaSortingFixed:r;return n.isArray(i)?{pre:i}:i}return this.iterator("table",function(i){i.aaSortingFixed=n.extend(!0,{},t)})}),f(["columns().order()","column().order()"],function(t){var i=this;return this.iterator("table",function(r,u){var f=[];n.each(i[u],function(n,i){f.push([i,t])});r.aaSorting=f})}),f("search()",function(t,i,u,f){var e=this.context;return t===r?0!==e.length?e[0].oPreviousSearch.sSearch:r:this.iterator("table",function(r){r.oFeatures.bFilter&&kt(r,n.extend({},r.oPreviousSearch,{sSearch:t+"",bRegex:null===i?!1:i,bSmart:null===u?!0:u,bCaseInsensitive:null===f?!0:f}),1)})}),s("columns().search()","column().search()",function(t,i,u,f){return this.iterator("column",function(e,o){var s=e.aoPreSearchCols;if(t===r)return s[o].sSearch;e.oFeatures.bFilter&&(n.extend(s[o],{sSearch:t+"",bRegex:null===i?!1:i,bSmart:null===u?!0:u,bCaseInsensitive:null===f?!0:f}),kt(e,e.oPreviousSearch,1))})}),f("state()",function(){return this.context.length?this.context[0].oSavedState:null}),f("state.clear()",function(){return this.iterator("table",function(n){n.fnStateSaveCallback.call(n.oInstance,n,{})})}),f("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),f("state.save()",function(){return this.iterator("table",function(n){yi(n)})}),u.versionCheck=u.fnVersionCheck=function(n){for(var f=u.version.split("."),n=n.split("."),i,r,t=0,e=n.length;t<e;t++)if(i=parseInt(f[t],10)||0,r=parseInt(n[t],10)||0,i!==r)return i>r;return!0},u.isDataTable=u.fnIsDataTable=function(t){var i=n(t).get(0),r=!1;return t instanceof u.Api?!0:(n.each(u.settings,function(t,u){var f=u.nScrollHead?n("table",u.nScrollHead)[0]:null,e=u.nScrollFoot?n("table",u.nScrollFoot)[0]:null;(u.nTable===i||f===i||e===i)&&(r=!0)}),r)},u.tables=u.fnTables=function(t){var r=!1,i;return n.isPlainObject(t)&&(r=t.api,t=t.visible),i=n.map(u.settings,function(i){if(!t||t&&n(i.nTable).is(":visible"))return i.nTable}),r?new e(i):i},u.camelToHungarian=g,f("$()",function(t,i){var r=this.rows(i).nodes(),r=n(r);return n([].concat(r.filter(t).toArray(),r.find(t).toArray()))}),n.each(["on","one","off"],function(t,i){f(i+"()",function(){var t=Array.prototype.slice.call(arguments),r;return t[0]=n.map(t[0].split(/\s/),function(n){return n.match(/\.dt\b/)?n:n+".dt"}).join(" "),r=n(this.tables().nodes()),r[i].apply(r,t),this})}),f("clear()",function(){return this.iterator("table",function(n){ei(n)})}),f("settings()",function(){return new e(this.context,this.context)}),f("init()",function(){var n=this.context;return n.length?n[0].oInit:null}),f("data()",function(){return this.iterator("table",function(n){return b(n.aoData,"_aData")}).flatten()}),f("destroy()",function(i){return i=i||!1,this.iterator("table",function(r){var h=r.nTableWrapper.parentNode,c=r.oClasses,l=r.nTable,a=r.nTBody,f=r.nTHead,v=r.nTFoot,s=n(l),a=n(a),y=n(r.nTableWrapper),p=n.map(r.aoData,function(n){return n.nTr}),w;r.bDestroying=!0;o(r,"aoDestroyCallback","destroy",[r]);i||new e(r).columns().visible(!0);y.off(".DT").find(":not(tbody *)").off(".DT");n(t).off(".DT-"+r.sInstance);l!=f.parentNode&&(s.children("thead").detach(),s.append(f));v&&l!=v.parentNode&&(s.children("tfoot").detach(),s.append(v));r.aaSorting=[];r.aaSortingFixed=[];vi(r);n(p).removeClass(r.asStripeClasses.join(" "));n("th, td",f).removeClass(c.sSortable+" "+c.sSortableAsc+" "+c.sSortableDesc+" "+c.sSortableNone);a.children().detach();a.append(p);f=i?"remove":"detach";s[f]();y[f]();!i&&h&&(h.insertBefore(l,r.nTableReinsertBefore),s.css("width",r.sDestroyWidth).removeClass(c.sTable),(w=r.asDestroyStripes.length)&&a.children().each(function(t){n(this).addClass(r.asDestroyStripes[t%w])}));h=n.inArray(r,u.settings);-1!==h&&u.settings.splice(h,1)})}),n.each(["column","row","cell"],function(n,t){f(t+"s().every()",function(n){var i=this.selector.opts,u=this;return this.iterator(t,function(f,e,o,s,h){n.call(u[t](e,"cell"===t?o:i,"cell"===t?i:r),e,o,s,h)})})}),f("i18n()",function(t,i,u){var f=this.context[0],t=ut(t)(f.oLanguage);return t===r&&(t=i),u!==r&&n.isPlainObject(t)&&(t=t[u]!==r?t[u]:t._),t.replace("%d",u)}),u.version="1.10.16",u.settings=[],u.models={},u.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},u.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},u.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},u.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(n){try{return JSON.parse((-1===n.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+n.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(n,t){try{(-1===n.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+n.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(i){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:n.extend({},u.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},ct(u.defaults),u.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},ct(u.defaults.column),u.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:r,oAjaxData:r,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==v(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==v(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var n=this._iDisplayLength,t=this._iDisplayStart,r=t+n,i=this.aiDisplay.length,u=this.oFeatures,f=u.bPaginate;return u.bServerSide?!1===f||-1===n?t+i:Math.min(t+n,this._iRecordsDisplay):!f||r>i||-1===n?i:r},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},u.ext=c={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:u.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:u.version},n.extend(c,{afnFiltering:c.search,aTypes:c.type.detect,ofnSearch:c.type.search,oSort:c.type.order,afnSortData:c.order,aoFeatures:c.feature,oApi:c.internal,oStdClasses:c.classes,oPagination:c.pager}),n.extend(u.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),ou=u.ext.pager,n.extend(ou,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(n,t){return[gt(n,t)]},simple_numbers:function(n,t){return["previous",gt(n,t),"next"]},full_numbers:function(n,t){return["first","previous",gt(n,t),"next","last"]},first_last_numbers:function(n,t){return["first",gt(n,t),"last"]},_numbers:gt,numbers_length:7}),n.extend(!0,u.ext.renderer,{pageButton:{_:function(t,u,f,e,o,s){var l=t.oClasses,a=t.oLanguage.oPaginate,w=t.oLanguage.oAria.paginate||{},h,c,y=0,p=function(i,r){for(var v,u,k=function(n){cr(t,n.data.action,!0)},e=0,b=r.length;e<b;e++)if(u=r[e],n.isArray(u))v=n("<"+(u.DT_el||"div")+"/>").appendTo(i),p(v,u);else{h=null;c="";switch(u){case"ellipsis":i.append('<span class="ellipsis">&#x2026;<\/span>');break;case"first":h=a.sFirst;c=u+(o>0?"":" "+l.sPageButtonDisabled);break;case"previous":h=a.sPrevious;c=u+(o>0?"":" "+l.sPageButtonDisabled);break;case"next":h=a.sNext;c=u+(o<s-1?"":" "+l.sPageButtonDisabled);break;case"last":h=a.sLast;c=u+(o<s-1?"":" "+l.sPageButtonDisabled);break;default:h=u+1;c=o===u?l.sPageButtonActive:""}h!==null&&(v=n("<a>",{"class":l.sPageButton+" "+c,"aria-controls":t.sTableId,"aria-label":w[u],"data-dt-idx":y,tabindex:t.iTabIndex,id:f===0&&typeof u=="string"?t.sTableId+"_"+u:null}).html(h).appendTo(i),yr(v,{action:u},k),y++)}},v;try{v=n(u).find(i.activeElement).data("dt-idx")}catch(b){}p(n(u).empty(),e);v!==r&&n(u).find("[data-dt-idx="+v+"]").focus()}}}),n.extend(u.ext.type.detect,[function(n,t){var i=t.oLanguage.sDecimal;return dr(n,i)?"num"+i:null},function(n){if(n&&!(n instanceof Date)&&!ce.test(n))return null;var t=Date.parse(n);return null!==t&&!isNaN(t)||tt(n)?"date":null},function(n,t){var i=t.oLanguage.sDecimal;return dr(n,i,!0)?"num-fmt"+i:null},function(n,t){var i=t.oLanguage.sDecimal;return ee(n,i)?"html-num"+i:null},function(n,t){var i=t.oLanguage.sDecimal;return ee(n,i,!0)?"html-num-fmt"+i:null},function(n){return tt(n)||"string"==typeof n&&-1!==n.indexOf("<")?"html":null}]),n.extend(u.ext.type.search,{html:function(n){return tt(n)?n:"string"==typeof n?n.replace(re," ").replace(wi,""):""},string:function(n){return tt(n)?n:"string"==typeof n?n.replace(re," "):n}}),ii=function(n,t,i,r){return 0!==n&&(!n||"-"===n)?-Infinity:(t&&(n=fe(n,t)),n.replace&&(i&&(n=n.replace(i,"")),r&&(n=n.replace(r,""))),1*n)},n.extend(c.type.order,{"date-pre":function(n){return Date.parse(n)||-Infinity},"html-pre":function(n){return tt(n)?"":n.replace?n.replace(/<.*?>/g,"").toLowerCase():n+""},"string-pre":function(n){return tt(n)?"":"string"==typeof n?n.toLowerCase():n.toString?n.toString():""},"string-asc":function(n,t){return n<t?-1:n>t?1:0},"string-desc":function(n,t){return n<t?1:n>t?-1:0}}),te(""),n.extend(!0,u.ext.renderer,{header:{_:function(t,i,r,u){n(t.nTable).on("order.dt.DT",function(n,f,e,o){t===f&&(n=r.idx,i.removeClass(r.sSortingClass+" "+u.sSortAsc+" "+u.sSortDesc).addClass(o[n]=="asc"?u.sSortAsc:o[n]=="desc"?u.sSortDesc:r.sSortingClass))})},jqueryui:function(t,i,r,u){n("<div/>").addClass(u.sSortJUIWrapper).append(i.contents()).append(n("<span/>").addClass(u.sSortIcon+" "+r.sSortingClassJUI)).appendTo(i);n(t.nTable).on("order.dt.DT",function(n,f,e,o){t===f&&(n=r.idx,i.removeClass(u.sSortAsc+" "+u.sSortDesc).addClass(o[n]=="asc"?u.sSortAsc:o[n]=="desc"?u.sSortDesc:r.sSortingClass),i.find("span."+u.sSortIcon).removeClass(u.sSortJUIAsc+" "+u.sSortJUIDesc+" "+u.sSortJUI+" "+u.sSortJUIAscAllowed+" "+u.sSortJUIDescAllowed).addClass(o[n]=="asc"?u.sSortJUIAsc:o[n]=="desc"?u.sSortJUIDesc:r.sSortingClassJUI))})}}}),su=function(n){return"string"==typeof n?n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):n},u.render={number:function(n,t,i,r,u){return{display:function(f){if("number"!=typeof f&&"string"!=typeof f)return f;var o=0>f?"-":"",e=parseFloat(f);return isNaN(e)?su(f):(e=e.toFixed(i),f=Math.abs(e),e=parseInt(f,10),f=i?t+(f-e).toFixed(i).substring(2):"",o+(r||"")+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,n)+f+(u||""))}}},text:function(){return{display:su}}},n.extend(u.ext.internal,{_fnExternApiFunc:ie,_fnBuildAjax:hi,_fnAjaxUpdate:bu,_fnAjaxParameters:ku,_fnAjaxUpdateDraw:du,_fnAjaxDataSrc:ci,_fnAddColumn:tr,_fnColumnOptions:ri,_fnAdjustColumnSizing:lt,_fnVisibleToColumnIndex:at,_fnColumnIndexToVisible:vt,_fnVisbleColumns:yt,_fnGetColumns:ui,_fnColumnTypes:ir,_fnApplyColumnDefs:vu,_fnHungarianMap:ct,_fnCamelToHungarian:g,_fnLanguageCompat:nr,_fnBrowserDetect:lu,_fnAddData:it,_fnAddTr:fi,_fnNodeToDataIndex:function(n,t){return t._DT_RowIndex!==r?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,i,r){return n.inArray(r,t.aoData[i].anCells)},_fnGetCellData:y,_fnSetCellData:yu,_fnSplitObjNotation:rr,_fnGetObjectDataFn:ut,_fnSetObjectDataFn:ft,_fnGetDataMaster:ur,_fnClearTable:ei,_fnDeleteIndex:oi,_fnInvalidate:pt,_fnGetRowElements:fr,_fnCreateTr:er,_fnBuildHead:pu,_fnDrawHead:wt,_fnDraw:rt,_fnReDraw:et,_fnAddOptionsHtml:wu,_fnDetectHeader:bt,_fnGetUniqueThs:si,_fnFeatureHtmlFilter:gu,_fnFilterComplete:kt,_fnFilterCustom:nf,_fnFilterColumn:tf,_fnFilter:rf,_fnFilterCreateSearch:sr,_fnEscapeRegex:gr,_fnFilterData:uf,_fnFeatureHtmlInfo:of,_fnUpdateInfo:sf,_fnInfoMacros:hf,_fnInitialise:dt,_fnInitComplete:li,_fnLengthChange:hr,_fnFeatureHtmlLength:cf,_fnFeatureHtmlPaginate:lf,_fnPageChange:cr,_fnFeatureHtmlProcessing:af,_fnProcessingDisplay:w,_fnFeatureHtmlTable:vf,_fnScrollDraw:ai,_fnApplyToChildren:d,_fnCalculateColumnWidths:lr,_fnThrottle:nu,_fnConvertToWidth:yf,_fnGetWidestNode:pf,_fnGetMaxLenString:wf,_fnStringToCss:h,_fnSortFlatten:ot,_fnSort:bf,_fnSortAria:kf,_fnSortListener:ar,_fnSortAttachListener:vr,_fnSortingClasses:vi,_fnSortData:df,_fnSaveState:yi,_fnLoadState:gf,_fnSettingsFromNode:pi,_fnLog:nt,_fnMap:k,_fnBindAction:yr,_fnCallbackReg:a,_fnCallbackFire:o,_fnLengthOverflow:pr,_fnRenderer:wr,_fnDataSource:v,_fnRowAttributes:or,_fnCalculateEnd:function(){}}),n.fn.dataTable=u,u.$=n,n.fn.dataTableSettings=u.settings,n.fn.dataTableExt=u.ext,n.fn.DataTable=function(t){return n(this).dataTable(t).api()},n.each(u,function(t,i){n.fn.DataTable[t]=i}),n.fn.dataTable});
/*! DataTables Bootstrap 3 integration
 * ©2011-2015 SpryMedia Ltd - datatables.net/license
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery","datatables.net"],function(t){return n(t,window,document)}):typeof exports=="object"?module.exports=function(t,i){return t||(t=window),i&&i.fn.dataTable||(i=require("datatables.net")(t,i).$),n(i,t,t.document)}:n(jQuery,window,document)})(function(n,t,i,r){"use strict";var u=n.fn.dataTable;return n.extend(!0,u.defaults,{dom:"<'row'<'#mytool.col-sm-6'><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),n.extend(u.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),u.ext.renderer.pageButton.bootstrap=function(t,f,e,o,s,h){var y=new u.Api(t),b=t.oClasses,a=t.oLanguage.oPaginate,k=t.oLanguage.oAria.paginate||{},c,l,p=0,w=function(i,r){for(var o,u,v=function(t){t.preventDefault();n(t.currentTarget).hasClass("disabled")||y.page()==t.data.action||y.page(t.data.action).draw("page")},f=0,d=r.length;f<d;f++)if(u=r[f],n.isArray(u))w(i,u);else{c="";l="";switch(u){case"ellipsis":c="&#x2026;";l="disabled";break;case"first":c=a.sFirst;l=u+(s>0?"":" disabled");break;case"previous":c=a.sPrevious;l=u+(s>0?"":" disabled");break;case"next":c=a.sNext;l=u+(s<h-1?"":" disabled");break;case"last":c=a.sLast;l=u+(s<h-1?"":" disabled");break;default:c=u+1;l=s===u?"active":""}c&&(o=n("<li>",{"class":b.sPageButton+" "+l,id:e===0&&typeof u=="string"?t.sTableId+"_"+u:null}).append(n("<a>",{href:"#","aria-controls":t.sTableId,"aria-label":k[u],"data-dt-idx":p,tabindex:t.iTabIndex}).html(c)).appendTo(i),t.oApi._fnBindAction(o,{action:u},v),p++)}},v;try{v=n(f).find(i.activeElement).data("dt-idx")}catch(d){}w(n(f).empty().html('<ul class="pagination"/>').children("ul"),o);v!==r&&n(f).find("[data-dt-idx="+v+"]").focus()},u});
/*! iCheck v1.0.1 by Damir Sultanov, http://git.io/arlzeA, MIT Licensed */
(function(n){function y(n,r,u){var v=n[0],e=/er/.test(u)?h:/bl/.test(u)?f:t,c=u==d?{checked:v[t],disabled:v[f],indeterminate:"true"==n.attr(h)||"false"==n.attr(p)}:v[e];if(/^(ch|di|in)/.test(u)&&!c)a(n,e);else if(/^(un|en|de)/.test(u)&&c)o(n,e);else if(u==d)for(e in c)c[e]?a(n,e,!0):o(n,e,!0);else r&&"toggle"!=u||(r||n[l]("ifClicked"),c?v[i]!==s&&o(n,e):a(n,e))}function a(l,a,y){var w=l[0],d=l.parent(),g=a==t,nt=a==h,et=a==f,ut=nt?p:g?it:"enabled",ot=r(l,ut+v(w[i])),st=r(l,a+v(w[i]));if(!0!==w[a]){if(!y&&a==t&&w[i]==s&&w.name){var ft=l.closest("form"),rt='input[name="'+w.name+'"]',rt=ft.length?ft.find(rt):n(rt);rt.each(function(){this!==w&&n(this).data(u)&&o(n(this),a)})}nt?(w[a]=!0,w[t]&&o(l,t,"force")):(y||(w[a]=!0),g&&w[h]&&o(l,h,!1));tt(l,g,a,y)}w[f]&&r(l,b,!0)&&d.find("."+k).css(b,"default");d[e](st||r(l,a)||"");et?d.attr("aria-disabled","true"):d.attr("aria-checked",nt?"mixed":"true");d[c](ot||r(l,ut)||"")}function o(n,u,o){var s=n[0],l=n.parent(),y=u==t,w=u==h,d=u==f,a=w?p:y?it:"enabled",g=r(n,a+v(s[i])),nt=r(n,u+v(s[i]));!1!==s[u]&&((w||!o||"force"==o)&&(s[u]=!1),tt(n,y,a,o));!s[f]&&r(n,b,!0)&&l.find("."+k).css(b,"pointer");l[c](nt||r(n,u)||"");d?l.attr("aria-disabled","false"):l.attr("aria-checked","false");l[e](g||r(n,a)||"")}function nt(t,i){t.data(u)&&(t.parent().html(t.attr("style",t.data(u).s||"")),i&&t[l](i),t.off(".i").unwrap(),n(w+'[for="'+t[0].id+'"]').add(t.closest(w)).off(".i"))}function r(n,t,i){if(n.data(u))return n.data(u).o[t+(i?"":"Class")]}function v(n){return n.charAt(0).toUpperCase()+n.slice(1)}function tt(n,t,i,r){r||(t&&n[l]("ifToggled"),n[l]("ifChanged")[l]("if"+v(i)))}var u="iCheck",k=u+"-helper",s="radio",t="checked",it="un"+t,f="disabled",p="determinate",h="in"+p,d="update",i="type",e="addClass",c="removeClass",l="trigger",w="label",b="cursor",g=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);n.fn[u]=function(r,v){var rt='input[type="checkbox"], input[type="'+s+'"]',b=n(),et=function(t){t.each(function(){var t=n(this);b=t.is(rt)?b.add(t):b.add(t.find(rt))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(r))return r=r.toLowerCase(),et(this),b.each(function(){var t=n(this);"destroy"==r?nt(t,"ifDestroyed"):y(t,!0,r);n.isFunction(v)&&v()});if("object"!=typeof r&&r)return this;var p=n.extend({checkedClass:t,disabledClass:f,indeterminateClass:h,labelHover:!0,aria:!1},r),ut=p.handle,it=p.hoverClass||"hover",ht=p.focusClass||"focus",ot=p.activeClass||"active",st=!!p.labelHover,ft=p.labelHoverClass||"hover",tt=(""+p.increaseArea).replace("%","")|0;return("checkbox"==ut||ut==s)&&(rt='input[type="'+ut+'"]'),-50>tt&&(tt=-50),et(this),b.each(function(){var h=n(this);nt(h);var v=this,ut=v.id,et=-tt+"%",b=100+2*tt+"%",b={position:"absolute",top:et,left:et,display:"block",width:b,height:b,margin:0,padding:0,background:"#fff",border:0,opacity:0},et=g?{position:"absolute",visibility:"hidden"}:tt?b:{position:"absolute",opacity:0},at="checkbox"==v[i]?p.checkboxClass||"icheckbox":p.radioClass||"i"+s,rt=n(w+'[for="'+ut+'"]').add(h.closest(w)),ct=!!p.aria,lt=u+"-"+Math.random().toString(36).replace("0.",""),r='<div class="'+at+'" '+(ct?'role="'+v[i]+'" ':"");if(rt.length&&ct&&rt.each(function(){r+='aria-labelledby="';this.id?r+=this.id:(this.id=lt,r+=lt);r+='"'}),r=h.wrap(r+"/>")[l]("ifCreated").parent().append(p.insert),b=n('<ins class="'+k+'"/>').css(b).appendTo(r),h.data(u,{o:p,s:h.attr("style")}).css(et),p.inheritClass&&r[e](v.className||""),p.inheritID&&ut&&r.attr("id",u+"-"+ut),"static"==r.css("position")&&r.css("position","relative"),y(h,!0,d),rt.length)rt.on("click.i mouseover.i mouseout.i touchbegin.i touchend.i",function(t){var u=t[i],o=n(this);if(!v[f]){if("click"==u){if(n(t.target).is("a"))return;y(h,!1,!0)}else st&&(/ut|nd/.test(u)?(r[c](it),o[c](ft)):(r[e](it),o[e](ft)));if(g)t.stopPropagation();else return!1}});h.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(n){var u=n[i];if(n=n.keyCode,"click"==u)return!1;if("keydown"==u&&32==n)return v[i]==s&&v[t]||(v[t]?o(h,t):a(h,t)),!1;"keyup"==u&&v[i]==s?v[t]||a(h,t):/us|ur/.test(u)&&r["blur"==u?c:e](ht)});b.on("click mousedown mouseup mouseover mouseout touchbegin.i touchend.i",function(n){var t=n[i],u=/wn|up/.test(t)?ot:it;if(!v[f])if("click"==t?y(h,!1,!0):(/wn|er|in/.test(t)?r[e](u):r[c](u+" "+ot),rt.length&&st&&u==it&&rt[/ut|nd/.test(t)?c:e](ft)),g)n.stopPropagation();else return!1})})}})(window.jQuery||window.Zepto);
//! moment.js
//! version : 2.10.6
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.moment=t()}(this,function(){"use strict";function i(){return kf.apply(null,arguments)}function pe(n){kf=n}function ui(n){return"[object Array]"===Object.prototype.toString.call(n)}function fi(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function we(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function ft(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function ei(n,t){for(var i in t)ft(t,i)&&(n[i]=t[i]);return ft(t,"toString")&&(n.toString=t.toString),ft(t,"valueOf")&&(n.valueOf=t.valueOf),n}function kt(n,t,i,r){return gu(n,t,i,r,!0).utc()}function be(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(n){return null==n._pf&&(n._pf=be()),n._pf}function iu(n){if(null==n._isValid){var t=e(n);n._isValid=!(isNaN(n._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated);n._strict&&(n._isValid=n._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return n._isValid}function ru(n){var t=kt(NaN);return null!=n?ei(e(t),n):e(t).userInvalidated=!0,t}function ki(n,t){var u,i,r;if("undefined"!=typeof t._isAMomentObject&&(n._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(n._i=t._i),"undefined"!=typeof t._f&&(n._f=t._f),"undefined"!=typeof t._l&&(n._l=t._l),"undefined"!=typeof t._strict&&(n._strict=t._strict),"undefined"!=typeof t._tzm&&(n._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(n._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(n._offset=t._offset),"undefined"!=typeof t._pf&&(n._pf=e(t)),"undefined"!=typeof t._locale&&(n._locale=t._locale),cr.length>0)for(u in cr)i=cr[u],r=t[i],"undefined"!=typeof r&&(n[i]=r);return n}function dt(n){ki(this,n);this._d=new Date(null!=n._d?n._d.getTime():NaN);lr===!1&&(lr=!0,i.updateOffset(this),lr=!1)}function nt(n){return n instanceof dt||null!=n&&null!=n._isAMomentObject}function v(n){return 0>n?Math.ceil(n):Math.floor(n)}function s(n){var t=+n,i=0;return 0!==t&&isFinite(t)&&(i=v(t)),i}function uu(n,t,i){for(var f=Math.min(n.length,t.length),e=Math.abs(n.length-t.length),u=0,r=0;f>r;r++)(i&&n[r]!==t[r]||!i&&s(n[r])!==s(t[r]))&&u++;return u+e}function fu(){}function eu(n){return n?n.toLowerCase().replace("_","-"):n}function ke(n){for(var i,t,f,r,u=0;u<n.length;){for(r=eu(n[u]).split("-"),i=r.length,t=eu(n[u+1]),t=t?t.split("-"):null;i>0;){if(f=ou(r.slice(0,i).join("-")))return f;if(t&&t.length>=i&&uu(r,t,!0)>=i-1)break;i--}u++}return null}function ou(n){var t=null;if(!ct[n]&&"undefined"!=typeof module&&module&&module.exports)try{t=li._abbr;require("./locale/"+n);gt(t)}catch(i){}return ct[n]}function gt(n,t){var i;return n&&(i="undefined"==typeof t?et(n):su(n,t),i&&(li=i)),li._abbr}function su(n,t){return null!==t?(t.abbr=n,ct[n]=ct[n]||new fu,ct[n].set(t),gt(n),ct[n]):(delete ct[n],null)}function et(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return li;if(!ui(n)){if(t=ou(n))return t;n=[n]}return ke(n)}function l(n,t){var i=n.toLowerCase();ii[i]=ii[i+"s"]=ii[t]=n}function p(n){if("string"==typeof n)return ii[n]||ii[n.toLowerCase()]}function hu(n){var i,t,r={};for(t in n)ft(n,t)&&(i=p(t),i&&(r[i]=n[t]));return r}function yt(n,t){return function(r){return null!=r?(cu(this,n,r),i.updateOffset(this,t),this):oi(this,n)}}function oi(n,t){return n._d["get"+(n._isUTC?"UTC":"")+t]()}function cu(n,t,i){return n._d["set"+(n._isUTC?"UTC":"")+t](i)}function lu(n,t){var i;if("object"==typeof n)for(i in n)this.set(i,n[i]);else if(n=p(n),"function"==typeof this[n])return this[n](t);return this}function di(n,t,i){var r=""+Math.abs(n),u=t-r.length,f=n>=0;return(f?i?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+r}function r(n,t,i,r){var u=r;"string"==typeof r&&(u=function(){return this[r]()});n&&(wt[n]=u);t&&(wt[t[0]]=function(){return di(u.apply(this,arguments),t[1],t[2])});i&&(wt[i]=function(){return this.localeData().ordinal(u.apply(this,arguments),n)})}function de(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function ge(n){for(var i=n.match(df),t=0,r=i.length;r>t;t++)i[t]=wt[i[t]]?wt[i[t]]:de(i[t]);return function(u){var f="";for(t=0;r>t;t++)f+=i[t]instanceof Function?i[t].call(u,n):i[t];return f}}function gi(n,t){return n.isValid()?(t=au(t,n.localeData()),ar[t]=ar[t]||ge(t),ar[t](n)):n.localeData().invalidDate()}function au(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(ai.lastIndex=0;i>=0&&ai.test(n);)n=n.replace(ai,r),ai.lastIndex=0,i-=1;return n}function no(n){return"function"==typeof n&&"[object Function]"===Object.prototype.toString.call(n)}function t(n,t,i){pr[n]=no(t)?t:function(n){return n&&i?i:t}}function to(n,t){return ft(pr,n)?pr[n](t._strict,t._locale):new RegExp(io(n))}function io(n){return n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function c(n,t){var i,r=t;for("string"==typeof n&&(n=[n]),"number"==typeof t&&(r=function(n,i){i[t]=s(n)}),i=0;i<n.length;i++)wr[n[i]]=r}function ni(n,t){c(n,function(n,i,r,u){r._w=r._w||{};t(n,r._w,r,u)})}function ro(n,t,i){null!=t&&ft(wr,n)&&wr[n](t,i._a,i,n)}function nr(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function uo(n){return this._months[n.month()]}function fo(n){return this._monthsShort[n.month()]}function eo(n,t,i){var r,u,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++)if((u=kt([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),i||this._monthsParse[r]||(f="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[r]=new RegExp(f.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[r].test(n))||i&&"MMM"===t&&this._shortMonthsParse[r].test(n)||!i&&this._monthsParse[r].test(n))return r}function vu(n,t){var i;return"string"==typeof t&&(t=n.localeData().monthsParse(t),"number"!=typeof t)?n:(i=Math.min(n.date(),nr(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n)}function yu(n){return null!=n?(vu(this,n),i.updateOffset(this,!0),this):oi(this,"Month")}function oo(){return nr(this.year(),this.month())}function tr(n){var i,t=n._a;return t&&-2===e(n).overflow&&(i=t[d]<0||t[d]>11?d:t[k]<1||t[k]>nr(t[b],t[d])?k:t[a]<0||t[a]>24||24===t[a]&&(0!==t[lt]||0!==t[at]||0!==t[vt])?a:t[lt]<0||t[lt]>59?lt:t[at]<0||t[at]>59?at:t[vt]<0||t[vt]>999?vt:-1,e(n)._overflowDayOfYear&&(b>i||i>k)&&(i=k),e(n).overflow=i),n}function pu(n){i.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function w(n,t){var i=!0;return ei(function(){return i&&(pu(n+"\n"+(new Error).stack),i=!1),t.apply(this,arguments)},t)}function so(n,t){te[n]||(pu(t),te[n]=!0)}function wu(n){var t,i,r=n._i,u=fa.exec(r);if(u){for(e(n).iso=!0,t=0,i=br.length;i>t;t++)if(br[t][1].exec(r)){n._f=br[t][0];break}for(t=0,i=kr.length;i>t;t++)if(kr[t][1].exec(r)){n._f+=(u[6]||" ")+kr[t][0];break}r.match(bi)&&(n._f+="Z");ur(n)}else n._isValid=!1}function ho(n){var t=ea.exec(n._i);return null!==t?void(n._d=new Date(+t[1])):(wu(n),void(n._isValid===!1&&(delete n._isValid,i.createFromInputFallback(n))))}function co(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return 1970>n&&o.setFullYear(n),o}function ir(n){var t=new Date(Date.UTC.apply(null,arguments));return 1970>n&&t.setUTCFullYear(n),t}function bu(n){return ku(n)?366:365}function ku(n){return n%4==0&&n%100!=0||n%400==0}function lo(){return ku(this.year())}function ot(n,t,i){var u,f=i-t,r=i-n.day();return r>f&&(r-=7),f-7>r&&(r+=7),u=o(n).add(r,"d"),{week:Math.ceil(u.dayOfYear()/7),year:u.year()}}function ao(n){return ot(n,this._week.dow,this._week.doy).week}function vo(){return this._week.dow}function yo(){return this._week.doy}function po(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")}function wo(n){var t=ot(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")}function bo(n,t,i,r,u){var f,o=6+u-r,s=ir(n,0,1+o),e=s.getUTCDay();return u>e&&(e+=7),i=null!=i?1*i:u,f=1+o+7*(t-1)-e+i,{year:f>0?n:n-1,dayOfYear:f>0?f:bu(n-1)+f}}function ko(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==n?t:this.add(n-t,"d")}function pt(n,t,i){return null!=n?n:null!=t?t:i}function go(n){var t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function rr(n){var t,i,r,u,f=[];if(!n._d){for(r=go(n),n._w&&null==n._a[k]&&null==n._a[d]&&ns(n),n._dayOfYear&&(u=pt(n._a[b],r[b]),n._dayOfYear>bu(u)&&(e(n)._overflowDayOfYear=!0),i=ir(u,0,n._dayOfYear),n._a[d]=i.getUTCMonth(),n._a[k]=i.getUTCDate()),t=0;3>t&&null==n._a[t];++t)n._a[t]=f[t]=r[t];for(;7>t;t++)n._a[t]=f[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[a]&&0===n._a[lt]&&0===n._a[at]&&0===n._a[vt]&&(n._nextDay=!0,n._a[a]=0);n._d=(n._useUTC?ir:co).apply(null,f);null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[a]=24)}}function ns(n){var t,e,u,r,i,f,s;t=n._w;null!=t.GG||null!=t.W||null!=t.E?(i=1,f=4,e=pt(t.GG,n._a[b],ot(o(),1,4).year),u=pt(t.W,1),r=pt(t.E,1)):(i=n._locale._week.dow,f=n._locale._week.doy,e=pt(t.gg,n._a[b],ot(o(),i,f).year),u=pt(t.w,1),null!=t.d?(r=t.d,i>r&&++u):r=null!=t.e?t.e+i:i);s=bo(e,u,r,f,i);n._a[b]=s.year;n._dayOfYear=s.dayOfYear}function ur(n){if(n._f===i.ISO_8601)return void wu(n);n._a=[];e(n).empty=!0;for(var t,u,s,r=""+n._i,c=r.length,h=0,o=au(n._f,n._locale).match(df)||[],f=0;f<o.length;f++)u=o[f],t=(r.match(to(u,n))||[])[0],t&&(s=r.substr(0,r.indexOf(t)),s.length>0&&e(n).unusedInput.push(s),r=r.slice(r.indexOf(t)+t.length),h+=t.length),wt[u]?(t?e(n).empty=!1:e(n).unusedTokens.push(u),ro(u,t,n)):n._strict&&!t&&e(n).unusedTokens.push(u);e(n).charsLeftOver=c-h;r.length>0&&e(n).unusedInput.push(r);e(n).bigHour===!0&&n._a[a]<=12&&n._a[a]>0&&(e(n).bigHour=void 0);n._a[a]=ts(n._locale,n._a[a],n._meridiem);rr(n);tr(n)}function ts(n,t,i){var r;return null==i?t:null!=n.meridiemHour?n.meridiemHour(t,i):null!=n.isPM?(r=n.isPM(i),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function is(n){var t,f,u,r,i;if(0===n._f.length)return e(n).invalidFormat=!0,void(n._d=new Date(NaN));for(r=0;r<n._f.length;r++)i=0,t=ki({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._f=n._f[r],ur(t),iu(t)&&(i+=e(t).charsLeftOver,i+=10*e(t).unusedTokens.length,e(t).score=i,(null==u||u>i)&&(u=i,f=t));ei(n,f||t)}function rs(n){if(!n._d){var t=hu(n._i);n._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond];rr(n)}}function us(n){var t=new dt(tr(du(n)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function du(n){var t=n._i,i=n._f;return n._locale=n._locale||et(n._l),null===t||void 0===i&&""===t?ru({nullInput:!0}):("string"==typeof t&&(n._i=t=n._locale.preparse(t)),nt(t)?new dt(tr(t)):(ui(i)?is(n):i?ur(n):fi(t)?n._d=t:fs(n),n))}function fs(n){var t=n._i;void 0===t?n._d=new Date:fi(t)?n._d=new Date(+t):"string"==typeof t?ho(n):ui(t)?(n._a=we(t.slice(0),function(n){return parseInt(n,10)}),rr(n)):"object"==typeof t?rs(n):"number"==typeof t?n._d=new Date(t):i.createFromInputFallback(n)}function gu(n,t,i,r,u){var f={};return"boolean"==typeof i&&(r=i,i=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=u,f._l=i,f._i=n,f._f=t,f._strict=r,us(f)}function o(n,t,i,r){return gu(n,t,i,r,!1)}function nf(n,t){var r,i;if(1===t.length&&ui(t[0])&&(t=t[0]),!t.length)return o();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][n](r))&&(r=t[i]);return r}function es(){var n=[].slice.call(arguments,0);return nf("isBefore",n)}function os(){var n=[].slice.call(arguments,0);return nf("isAfter",n)}function si(n){var t=hu(n),i=t.year||0,r=t.quarter||0,u=t.month||0,f=t.week||0,e=t.day||0,o=t.hour||0,s=t.minute||0,h=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*h+6e4*s+36e5*o;this._days=+e+7*f;this._months=+u+3*r+12*i;this._data={};this._locale=et();this._bubble()}function fr(n){return n instanceof si}function tf(n,t){r(n,0,0,function(){var n=this.utcOffset(),i="+";return 0>n&&(n=-n,i="-"),i+di(~~(n/60),2)+t+di(~~n%60,2)})}function er(n){var i=(n||"").match(bi)||[],u=i[i.length-1]||[],t=(u+"").match(fe)||["-",0,0],r=+(60*t[1])+s(t[2]);return"+"===t[0]?r:-r}function or(n,t){var r,u;return t._isUTC?(r=t.clone(),u=(nt(n)||fi(n)?+n:+o(n))-+r,r._d.setTime(+r._d+u),i.updateOffset(r,!1),r):o(n).local()}function sr(n){return 15*-Math.round(n._d.getTimezoneOffset()/15)}function ss(n,t){var r,u=this._offset||0;return null!=n?("string"==typeof n&&(n=er(n)),Math.abs(n)<16&&(n=60*n),!this._isUTC&&t&&(r=sr(this)),this._offset=n,this._isUTC=!0,null!=r&&this.add(r,"m"),u!==n&&(!t||this._changeInProgress?ef(this,tt(n-u,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?u:sr(this)}function hs(n,t){return null!=n?("string"!=typeof n&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function cs(n){return this.utcOffset(0,n)}function ls(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(sr(this),"m")),this}function as(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(er(this._i)),this}function vs(n){return n=n?o(n).utcOffset():0,(this.utcOffset()-n)%60==0}function ys(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ps(){var n,t;return"undefined"!=typeof this._isDSTShifted?this._isDSTShifted:(n={},(ki(n,this),n=du(n),n._a)?(t=n._isUTC?kt(n._a):o(n._a),this._isDSTShifted=this.isValid()&&uu(n._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted)}function ws(){return!this._isUTC}function bs(){return this._isUTC}function rf(){return this._isUTC&&0===this._offset}function tt(n,t){var u,f,e,i=n,r=null;return fr(n)?i={ms:n._milliseconds,d:n._days,M:n._months}:"number"==typeof n?(i={},t?i[t]=n:i.milliseconds=n):(r=ee.exec(n))?(u="-"===r[1]?-1:1,i={y:0,d:s(r[k])*u,h:s(r[a])*u,m:s(r[lt])*u,s:s(r[at])*u,ms:s(r[vt])*u}):(r=oe.exec(n))?(u="-"===r[1]?-1:1,i={y:st(r[2],u),M:st(r[3],u),d:st(r[4],u),h:st(r[5],u),m:st(r[6],u),s:st(r[7],u),w:st(r[8],u)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(e=ks(o(i.from),o(i.to)),i={},i.ms=e.milliseconds,i.M=e.months),f=new si(i),fr(n)&&ft(n,"_locale")&&(f._locale=n._locale),f}function st(n,t){var i=n&&parseFloat(n.replace(",","."));return(isNaN(i)?0:i)*t}function uf(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function ks(n,t){var i;return t=or(t,n),n.isBefore(t)?i=uf(n,t):(i=uf(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function ff(n,t){return function(i,r){var u,f;return null===r||isNaN(+r)||(so(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),f=i,i=r,r=f),i="string"==typeof i?+i:i,u=tt(i,r),ef(this,u,n),this}}function ef(n,t,r,u){var o=t._milliseconds,f=t._days,e=t._months;u=null==u?!0:u;o&&n._d.setTime(+n._d+o*r);f&&cu(n,"Date",oi(n,"Date")+f*r);e&&vu(n,oi(n,"Month")+e*r);u&&i.updateOffset(n,f||e)}function ds(n,t){var r=n||o(),f=or(r,this).startOf("day"),i=this.diff(f,"days",!0),u=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(t&&t[u]||this.localeData().calendar(u,this,o(r)))}function gs(){return new dt(this)}function nh(n,t){var i;return t=p("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(n=nt(n)?n:o(n),+this>+n):(i=nt(n)?+n:+o(n),i<+this.clone().startOf(t))}function th(n,t){var i;return t=p("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(n=nt(n)?n:o(n),+n>+this):(i=nt(n)?+n:+o(n),+this.clone().endOf(t)<i)}function ih(n,t,i){return this.isAfter(n,i)&&this.isBefore(t,i)}function rh(n,t){var i;return t=p(t||"millisecond"),"millisecond"===t?(n=nt(n)?n:o(n),+this==+n):(i=+o(n),+this.clone().startOf(t)<=i&&i<=+this.clone().endOf(t))}function uh(n,t,i){var r,u,f=or(n,this),e=6e4*(f.utcOffset()-this.utcOffset());return t=p(t),"year"===t||"month"===t||"quarter"===t?(u=fh(this,f),"quarter"===t?u/=3:"year"===t&&(u/=12)):(r=this-f,u="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-e)/864e5:"week"===t?(r-e)/6048e5:r),i?u:v(u)}function fh(n,t){var r,f,u=12*(t.year()-n.year())+(t.month()-n.month()),i=n.clone().add(u,"months");return 0>t-i?(r=n.clone().add(u-1,"months"),f=(t-i)/(i-r)):(r=n.clone().add(u+1,"months"),f=(t-i)/(r-i)),-(u+f)}function eh(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function of(){var n=this.clone().utc();return 0<n.year()&&n.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():gi(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):gi(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function oh(n){var t=gi(this,n||i.defaultFormat);return this.localeData().postformat(t)}function sh(n,t){return this.isValid()?tt({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function hh(n){return this.from(o(),n)}function ch(n,t){return this.isValid()?tt({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function lh(n){return this.to(o(),n)}function sf(n){var t;return void 0===n?this._locale._abbr:(t=et(n),null!=t&&(this._locale=t),this)}function hf(){return this._locale}function ah(n){switch(n=p(n)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===n&&this.weekday(0),"isoWeek"===n&&this.isoWeekday(1),"quarter"===n&&this.month(3*Math.floor(this.month()/3)),this}function vh(n){return n=p(n),void 0===n||"millisecond"===n?this:this.startOf(n).add(1,"isoWeek"===n?"week":n).subtract(1,"ms")}function yh(){return+this._d-6e4*(this._offset||0)}function ph(){return Math.floor(+this/1e3)}function wh(){return this._offset?new Date(+this):this._d}function bh(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function kh(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function dh(){return iu(this)}function gh(){return ei({},e(this))}function nc(){return e(this).overflow}function hi(n,t){r(0,[n,n.length],0,t)}function cf(n,t,i){return ot(o([n,11,31+t-i]),t,i).week}function tc(n){var t=ot(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==n?t:this.add(n-t,"y")}function ic(n){var t=ot(this,1,4).year;return null==n?t:this.add(n-t,"y")}function rc(){return cf(this.year(),1,4)}function uc(){var n=this.localeData()._week;return cf(this.year(),n.dow,n.doy)}function fc(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)}function ec(n,t){return"string"!=typeof n?n:isNaN(n)?(n=t.weekdaysParse(n),"number"==typeof n?n:null):parseInt(n,10)}function oc(n){return this._weekdays[n.day()]}function sc(n){return this._weekdaysShort[n.day()]}function hc(n){return this._weekdaysMin[n.day()]}function cc(n){var t,i,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(i=o([2e3,1]).day(t),r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(n))return t}function lc(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(n=ec(n,this.localeData()),this.add(n-t,"d")):t}function ac(n){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")}function vc(n){return null==n?this.day()||7:this.day(this.day()%7?n:n-7)}function lf(n,t){r(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function af(n,t){return t._meridiemParse}function yc(n){return"p"===(n+"").toLowerCase().charAt(0)}function pc(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"}function wc(n,t){t[vt]=s(1e3*("0."+n))}function bc(){return this._isUTC?"UTC":""}function kc(){return this._isUTC?"Coordinated Universal Time":""}function dc(n){return o(1e3*n)}function gc(){return o.apply(null,arguments).parseZone()}function nl(n,t,i){var r=this._calendar[n];return"function"==typeof r?r.call(t,i):r}function tl(n){var t=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return t||!i?t:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n])}function il(){return this._invalidDate}function rl(n){return this._ordinal.replace("%d",n)}function vf(n){return n}function ul(n,t,i,r){var u=this._relativeTime[i];return"function"==typeof u?u(n,t,i,r):u.replace(/%d/i,n)}function fl(n,t){var i=this._relativeTime[n>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)}function el(n){var t;for(var i in n)t=n[i],"function"==typeof t?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function yf(n,t,i,r){var u=et(),f=kt().set(r,t);return u[i](f,n)}function ti(n,t,i,r,u){if("number"==typeof n&&(t=n,n=void 0),n=n||"",null!=t)return yf(n,t,i,u);for(var e=[],f=0;r>f;f++)e[f]=yf(n,f,i,u);return e}function ol(n,t){return ti(n,t,"months",12,"month")}function sl(n,t){return ti(n,t,"monthsShort",12,"month")}function hl(n,t){return ti(n,t,"weekdays",7,"day")}function cl(n,t){return ti(n,t,"weekdaysShort",7,"day")}function ll(n,t){return ti(n,t,"weekdaysMin",7,"day")}function al(){var n=this._data;return this._milliseconds=g(this._milliseconds),this._days=g(this._days),this._months=g(this._months),n.milliseconds=g(n.milliseconds),n.seconds=g(n.seconds),n.minutes=g(n.minutes),n.hours=g(n.hours),n.months=g(n.months),n.years=g(n.years),this}function pf(n,t,i,r){var u=tt(t,i);return n._milliseconds+=r*u._milliseconds,n._days+=r*u._days,n._months+=r*u._months,n._bubble()}function vl(n,t){return pf(this,n,t,1)}function yl(n,t){return pf(this,n,t,-1)}function wf(n){return 0>n?Math.floor(n):Math.ceil(n)}function pl(){var u,f,e,s,o,r=this._milliseconds,n=this._days,t=this._months,i=this._data;return r>=0&&n>=0&&t>=0||0>=r&&0>=n&&0>=t||(r+=864e5*wf(hr(t)+n),n=0,t=0),i.milliseconds=r%1e3,u=v(r/1e3),i.seconds=u%60,f=v(u/60),i.minutes=f%60,e=v(f/60),i.hours=e%24,n+=v(e/24),o=v(bf(n)),t+=o,n-=wf(hr(o)),s=v(t/12),t%=12,i.days=n,i.months=t,i.years=s,this}function bf(n){return 4800*n/146097}function hr(n){return 146097*n/4800}function wl(n){var t,r,i=this._milliseconds;if(n=p(n),"month"===n||"year"===n)return t=this._days+i/864e5,r=this._months+bf(t),"month"===n?r:r/12;switch(t=this._days+Math.round(hr(this._months)),n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+n);}}function bl(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*s(this._months/12)}function it(n){return function(){return this.as(n)}}function kl(n){return n=p(n),this[n+"s"]()}function ht(n){return function(){return this._data[n]}}function dl(){return v(this.days()/7)}function gl(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function na(n,t,i){var r=tt(n).abs(),h=bt(r.as("s")),f=bt(r.as("m")),e=bt(r.as("h")),o=bt(r.as("d")),s=bt(r.as("M")),c=bt(r.as("y")),u=h<ut.s&&["s",h]||1===f&&["m"]||f<ut.m&&["mm",f]||1===e&&["h"]||e<ut.h&&["hh",e]||1===o&&["d"]||o<ut.d&&["dd",o]||1===s&&["M"]||s<ut.M&&["MM",s]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+n>0,u[4]=i,gl.apply(null,u)}function ta(n,t){return void 0===ut[n]?!1:void 0===t?ut[n]:(ut[n]=t,!0)}function ia(n){var t=this.localeData(),i=na(this,!n,t);return n&&(i=t.pastFuture(+this,i)),t.postformat(i)}function ci(){var n,e,o,t=tu(this._milliseconds)/1e3,a=tu(this._days),i=tu(this._months);n=v(t/60);e=v(n/60);t%=60;n%=60;o=v(i/12);i%=12;var s=o,h=i,c=a,r=e,u=n,f=t,l=this.asSeconds();return l?(0>l?"-":"")+"P"+(s?s+"Y":"")+(h?h+"M":"")+(c?c+"D":"")+(r||u||f?"T":"")+(r?r+"H":"")+(u?u+"M":"")+(f?f+"S":""):"P0D"}var kf,li,cr=i.momentProperties=[],lr=!1,ct={},ii={},df=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ai=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ar={},wt={},gf=/\d/,y=/\d\d/,ne=/\d{3}/,vr=/\d{4}/,vi=/[+-]?\d{6}/,h=/\d\d?/,yi=/\d{1,3}/,yr=/\d{1,4}/,pi=/[+-]?\d{1,6}/,wi=/[+-]?\d+/,bi=/Z|[+-]\d\d:?\d\d/gi,ri=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,pr={},wr={},b=0,d=1,k=2,a=3,lt=4,at=5,vt=6,dr,ie,re,ue,fe,ee,oe,se,he,gr,nu,ce,le,ae,ve,rt,ye,n;r("M",["MM",2],"Mo",function(){return this.month()+1});r("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});r("MMMM",0,0,function(n){return this.localeData().months(this,n)});l("month","M");t("M",h);t("MM",h,y);t("MMM",ri);t("MMMM",ri);c(["M","MM"],function(n,t){t[d]=s(n)-1});c(["MMM","MMMM"],function(n,t,i,r){var u=i._locale.monthsParse(n,r,i._strict);null!=u?t[d]=u:e(i).invalidMonth=n});var ra="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ua="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),te={};i.suppressDeprecationWarnings=!1;var fa=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,br=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],kr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ea=/^\/?Date\((\-?\d+)/i;i.createFromInputFallback=w("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});r(0,["YY",2],0,function(){return this.year()%100});r(0,["YYYY",4],0,"year");r(0,["YYYYY",5],0,"year");r(0,["YYYYYY",6,!0],0,"year");l("year","y");t("Y",wi);t("YY",h,y);t("YYYY",yr,vr);t("YYYYY",pi,vi);t("YYYYYY",pi,vi);c(["YYYYY","YYYYYY"],b);c("YYYY",function(n,t){t[b]=2===n.length?i.parseTwoDigitYear(n):s(n)});c("YY",function(n,t){t[b]=i.parseTwoDigitYear(n)});i.parseTwoDigitYear=function(n){return s(n)+(s(n)>68?1900:2e3)};dr=yt("FullYear",!1);r("w",["ww",2],"wo","week");r("W",["WW",2],"Wo","isoWeek");l("week","w");l("isoWeek","W");t("w",h);t("ww",h,y);t("W",h);t("WW",h,y);ni(["w","ww","W","WW"],function(n,t,i,r){t[r.substr(0,1)]=s(n)});ie={dow:0,doy:6};r("DDD",["DDDD",3],"DDDo","dayOfYear");l("dayOfYear","DDD");t("DDD",yi);t("DDDD",ne);c(["DDD","DDDD"],function(n,t,i){i._dayOfYear=s(n)});i.ISO_8601=function(){};re=w("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var n=o.apply(null,arguments);return this>n?this:n});ue=w("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var n=o.apply(null,arguments);return n>this?this:n});tf("Z",":");tf("ZZ","");t("Z",bi);t("ZZ",bi);c(["Z","ZZ"],function(n,t,i){i._useUTC=!0;i._tzm=er(n)});fe=/([\+\-]|\d\d)/gi;i.updateOffset=function(){};ee=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/;oe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;tt.fn=si.prototype;se=ff(1,"add");he=ff(-1,"subtract");i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";gr=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return void 0===n?this.localeData():this.locale(n)});r(0,["gg",2],0,function(){return this.weekYear()%100});r(0,["GG",2],0,function(){return this.isoWeekYear()%100});hi("gggg","weekYear");hi("ggggg","weekYear");hi("GGGG","isoWeekYear");hi("GGGGG","isoWeekYear");l("weekYear","gg");l("isoWeekYear","GG");t("G",wi);t("g",wi);t("GG",h,y);t("gg",h,y);t("GGGG",yr,vr);t("gggg",yr,vr);t("GGGGG",pi,vi);t("ggggg",pi,vi);ni(["gggg","ggggg","GGGG","GGGGG"],function(n,t,i,r){t[r.substr(0,2)]=s(n)});ni(["gg","GG"],function(n,t,r,u){t[u]=i.parseTwoDigitYear(n)});r("Q",0,0,"quarter");l("quarter","Q");t("Q",gf);c("Q",function(n,t){t[d]=3*(s(n)-1)});r("D",["DD",2],"Do","date");l("date","D");t("D",h);t("DD",h,y);t("Do",function(n,t){return n?t._ordinalParse:t._ordinalParseLenient});c(["D","DD"],k);c("Do",function(n,t){t[k]=s(n.match(h)[0],10)});nu=yt("Date",!0);r("d",0,"do","day");r("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});r("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});r("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});r("e",0,0,"weekday");r("E",0,0,"isoWeekday");l("day","d");l("weekday","e");l("isoWeekday","E");t("d",h);t("e",h);t("E",h);t("dd",ri);t("ddd",ri);t("dddd",ri);ni(["dd","ddd","dddd"],function(n,t,i){var r=i._locale.weekdaysParse(n);null!=r?t.d=r:e(i).invalidWeekday=n});ni(["d","e","E"],function(n,t,i,r){t[r]=s(n)});var oa="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),sa="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ha="Su_Mo_Tu_We_Th_Fr_Sa".split("_");for(r("H",["HH",2],0,"hour"),r("h",["hh",2],0,function(){return this.hours()%12||12}),lf("a",!0),lf("A",!1),l("hour","h"),t("a",af),t("A",af),t("H",h),t("h",h),t("HH",h,y),t("hh",h,y),c(["H","HH"],a),c(["a","A"],function(n,t,i){i._isPm=i._locale.isPM(n);i._meridiem=n}),c(["h","hh"],function(n,t,i){t[a]=s(n);e(i).bigHour=!0}),ce=/[ap]\.?m?\.?/i,le=yt("Hours",!0),r("m",["mm",2],0,"minute"),l("minute","m"),t("m",h),t("mm",h,y),c(["m","mm"],lt),ae=yt("Minutes",!1),r("s",["ss",2],0,"second"),l("second","s"),t("s",h),t("ss",h,y),c(["s","ss"],at),ve=yt("Seconds",!1),r("S",0,0,function(){return~~(this.millisecond()/100)}),r(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),r(0,["SSS",3],0,"millisecond"),r(0,["SSSS",4],0,function(){return 10*this.millisecond()}),r(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),r(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),r(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),r(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),r(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),l("millisecond","ms"),t("S",yi,gf),t("SS",yi,y),t("SSS",yi,ne),rt="SSSS";rt.length<=9;rt+="S")t(rt,/\d+/);for(rt="S";rt.length<=9;rt+="S")c(rt,wc);ye=yt("Milliseconds",!1);r("z",0,0,"zoneAbbr");r("zz",0,0,"zoneName");n=dt.prototype;n.add=se;n.calendar=ds;n.clone=gs;n.diff=uh;n.endOf=vh;n.format=oh;n.from=sh;n.fromNow=hh;n.to=ch;n.toNow=lh;n.get=lu;n.invalidAt=nc;n.isAfter=nh;n.isBefore=th;n.isBetween=ih;n.isSame=rh;n.isValid=dh;n.lang=gr;n.locale=sf;n.localeData=hf;n.max=ue;n.min=re;n.parsingFlags=gh;n.set=lu;n.startOf=ah;n.subtract=he;n.toArray=bh;n.toObject=kh;n.toDate=wh;n.toISOString=of;n.toJSON=of;n.toString=eh;n.unix=ph;n.valueOf=yh;n.year=dr;n.isLeapYear=lo;n.weekYear=tc;n.isoWeekYear=ic;n.quarter=n.quarters=fc;n.month=yu;n.daysInMonth=oo;n.week=n.weeks=po;n.isoWeek=n.isoWeeks=wo;n.weeksInYear=uc;n.isoWeeksInYear=rc;n.date=nu;n.day=n.days=lc;n.weekday=ac;n.isoWeekday=vc;n.dayOfYear=ko;n.hour=n.hours=le;n.minute=n.minutes=ae;n.second=n.seconds=ve;n.millisecond=n.milliseconds=ye;n.utcOffset=ss;n.utc=cs;n.local=ls;n.parseZone=as;n.hasAlignedHourOffset=vs;n.isDST=ys;n.isDSTShifted=ps;n.isLocal=ws;n.isUtcOffset=bs;n.isUtc=rf;n.isUTC=rf;n.zoneAbbr=bc;n.zoneName=kc;n.dates=w("dates accessor is deprecated. Use date instead.",nu);n.months=w("months accessor is deprecated. Use month instead",yu);n.years=w("years accessor is deprecated. Use year instead",dr);n.zone=w("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",hs);var ca=n,u=fu.prototype;u._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};u.calendar=nl;u._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};u.longDateFormat=tl;u._invalidDate="Invalid date";u.invalidDate=il;u._ordinal="%d";u.ordinal=rl;u._ordinalParse=/\d{1,2}/;u.preparse=vf;u.postformat=vf;u._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};u.relativeTime=ul;u.pastFuture=fl;u.set=el;u.months=uo;u._months=ra;u.monthsShort=fo;u._monthsShort=ua;u.monthsParse=eo;u.week=ao;u._week=ie;u.firstDayOfYear=yo;u.firstDayOfWeek=vo;u.weekdays=oc;u._weekdays=oa;u.weekdaysMin=hc;u._weekdaysMin=ha;u.weekdaysShort=sc;u._weekdaysShort=sa;u.weekdaysParse=cc;u.isPM=yc;u._meridiemParse=ce;u.meridiem=pc;gt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,i=1===s(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+i}});i.lang=w("moment.lang is deprecated. Use moment.locale instead.",gt);i.langData=w("moment.langData is deprecated. Use moment.localeData instead.",et);var g=Math.abs,la=it("ms"),aa=it("s"),va=it("m"),ya=it("h"),pa=it("d"),wa=it("w"),ba=it("M"),ka=it("y"),da=ht("milliseconds"),ga=ht("seconds"),nv=ht("minutes"),tv=ht("hours"),iv=ht("days"),rv=ht("months"),uv=ht("years"),bt=Math.round,ut={s:45,m:45,h:22,d:26,M:11},tu=Math.abs,f=si.prototype;return f.abs=al,f.add=vl,f.subtract=yl,f.as=wl,f.asMilliseconds=la,f.asSeconds=aa,f.asMinutes=va,f.asHours=ya,f.asDays=pa,f.asWeeks=wa,f.asMonths=ba,f.asYears=ka,f.valueOf=bl,f._bubble=pl,f.get=kl,f.milliseconds=da,f.seconds=ga,f.minutes=nv,f.hours=tv,f.days=iv,f.weeks=dl,f.months=rv,f.years=uv,f.humanize=ia,f.toISOString=ci,f.toString=ci,f.toJSON=ci,f.locale=sf,f.localeData=hf,f.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ci),f.lang=gr,r("X",0,0,"unix"),r("x",0,0,"valueOf"),t("x",wi),t("X",/[+-]?\d+(\.\d{1,3})?/),c("X",function(n,t,i){i._d=new Date(1e3*parseFloat(n,10))}),c("x",function(n,t,i){i._d=new Date(s(n))}),i.version="2.10.6",pe(o),i.fn=ca,i.min=es,i.max=os,i.utc=kt,i.unix=dc,i.months=ol,i.isDate=fi,i.locale=gt,i.invalid=ru,i.duration=tt,i.isMoment=nt,i.weekdays=hl,i.parseZone=gc,i.localeData=et,i.isDuration=fr,i.monthsShort=sl,i.weekdaysMin=ll,i.defineLocale=su,i.weekdaysShort=cl,i.normalizeUnits=p,i.relativeTimeThreshold=ta,i});
/*! Select2 4.0.5 | https://github.com/select2/select2/blob/master/LICENSE.md */
!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(i),i}:n(jQuery)}(function(n){var t=function(){var t;return n&&n.fn&&n.fn.select2&&n.fn.select2.amd&&(t=n.fn.select2.amd),function(){if(!t||!t.requirejs){t?i=t:t={};var n,i,r;!function(t){function e(n,t){return tt.call(n,t)}function c(n,t){var e,o,s,u,h,y,c,p,i,l,w,b,r=t&&t.split("/"),a=f.map,v=a&&a["*"]||{};if(n){for(n=n.split("/"),h=n.length-1,f.nodeIdCompat&&k.test(n[h])&&(n[h]=n[h].replace(k,"")),"."===n[0].charAt(0)&&r&&(b=r.slice(0,r.length-1),n=b.concat(n)),i=0;i<n.length;i++)if("."===(w=n[i]))n.splice(i,1),i-=1;else if(".."===w){if(0===i||1===i&&".."===n[2]||".."===n[i-1])continue;i>0&&(n.splice(i-1,2),i-=2)}n=n.join("/")}if((r||v)&&a){for(e=n.split("/"),i=e.length;i>0;i-=1){if(o=e.slice(0,i).join("/"),r)for(l=r.length;l>0;l-=1)if((s=a[r.slice(0,l).join("/")])&&(s=s[o])){u=s;y=i;break}if(u)break;!c&&v&&v[o]&&(c=v[o],p=i)}!u&&c&&(u=c,y=p);u&&(e.splice(0,y,u),n=e.join("/"))}return n}function w(n,i){return function(){var r=it.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),o.apply(t,r.concat([n,i]))}}function d(n){return function(t){return c(t,n)}}function g(n){return function(t){u[n]=t}}function l(n){if(e(h,n)){var i=h[n];delete h[n];p[n]=!0;a.apply(t,i)}if(!e(u,n)&&!e(p,n))throw new Error("No "+n);return u[n]}function v(n){var i,t=n?n.indexOf("!"):-1;return t>-1&&(i=n.substring(0,t),n=n.substring(t+1,n.length)),[i,n]}function b(n){return n?v(n):[]}function nt(n){return function(){return f&&f.config&&f.config[n]||{}}}var a,o,y,s,u={},h={},f={},p={},tt=Object.prototype.hasOwnProperty,it=[].slice,k=/\.js$/;y=function(n,t){var r,u=v(n),i=u[0],f=t[1];return n=u[1],i&&(i=c(i,f),r=l(i)),i?n=r&&r.normalize?r.normalize(n,d(f)):c(n,f):(n=c(n,f),u=v(n),i=u[0],n=u[1],i&&(r=l(i))),{f:i?i+"!"+n:n,n:n,pr:i,p:r}};s={require:function(n){return w(n)},exports:function(n){var t=u[n];return void 0!==t?t:u[n]={}},module:function(n){return{id:n,uri:"",exports:u[n],config:nt(n)}}};a=function(n,i,r,f){var v,o,d,k,c,nt,tt,a=[],it=typeof r;if(f=f||n,nt=b(f),"undefined"===it||"function"===it){for(i=!i.length&&r.length?["require","exports","module"]:i,c=0;c<i.length;c+=1)if(k=y(i[c],nt),"require"===(o=k.f))a[c]=s.require(n);else if("exports"===o)a[c]=s.exports(n),tt=!0;else if("module"===o)v=a[c]=s.module(n);else if(e(u,o)||e(h,o)||e(p,o))a[c]=l(o);else{if(!k.p)throw new Error(n+" missing "+o);k.p.load(k.n,w(f,!0),g(o),{});a[c]=u[o]}d=r?r.apply(u[n],a):void 0;n&&(v&&v.exports!==t&&v.exports!==u[n]?u[n]=v.exports:d===t&&tt||(u[n]=d))}else n&&(u[n]=r)};n=i=o=function(n,i,r,u,e){if("string"==typeof n)return s[n]?s[n](i):l(y(n,b(i)).f);if(!n.splice){if(f=n,f.deps&&o(f.deps,f.callback),!i)return;i.splice?(n=i,i=r,r=null):n=t}return i=i||function(){},"function"==typeof r&&(r=u,u=e),u?a(t,n,i,r):setTimeout(function(){a(t,n,i,r)},4),o};o.config=function(n){return o(n)};n._defined=u;r=function(n,t,i){if("string"!=typeof n)throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]);e(u,n)||e(h,n)||(h[n]=[n,t,i])};r.amd={jQuery:!0}}();t.requirejs=n;t.require=i;t.define=r}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=n||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(n){function r(n){var i=n.prototype,r=[];for(var t in i)"function"==typeof i[t]&&"constructor"!==t&&r.push(t);return r}var t={},i;return t.Extend=function(n,t){function r(){this.constructor=n}var u={}.hasOwnProperty;for(var i in t)u.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},t.Decorate=function(n,t){function i(){var r=Array.prototype.unshift,u=t.prototype.constructor.length,i=n.prototype.constructor;u>0&&(r.call(arguments,n.prototype.constructor),i=t.prototype.constructor);i.apply(this,arguments)}function l(){this.constructor=i}var s=r(t),h=r(n),u,e,c,f,o;for(t.displayName=n.displayName,i.prototype=new l,u=0;u<h.length;u++)e=h[u],i.prototype[e]=n.prototype[e];for(c=function(n){var r=function(){},u;return n in i.prototype&&(r=i.prototype[n]),u=t.prototype[n],function(){return Array.prototype.unshift.call(arguments,r),u.apply(this,arguments)}},f=0;f<s.length;f++)o=s[f],i.prototype[o]=c(o);return i},i=function(){this.listeners={}},i.prototype.on=function(n,t){this.listeners=this.listeners||{};n in this.listeners?this.listeners[n].push(t):this.listeners[n]=[t]},i.prototype.trigger=function(n){var i=Array.prototype.slice,t=i.call(arguments,1);this.listeners=this.listeners||{};null==t&&(t=[]);0===t.length&&t.push({});t[0]._type=n;n in this.listeners&&this.invoke(this.listeners[n],i.call(arguments,1));"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(n,t){for(var i=0,r=n.length;i<r;i++)n[i].apply(this,t)},t.Observable=i,t.generateChars=function(n){for(var t="",i=0;i<n;i++)t+=Math.floor(36*Math.random()).toString(36);return t},t.bind=function(n,t){return function(){n.apply(t,arguments)}},t._convertData=function(n){var f,r,i,u,t;for(f in n)if(r=f.split("-"),i=n,1!==r.length){for(u=0;u<r.length;u++)t=r[u],t=t.substring(0,1).toLowerCase()+t.substring(1),t in i||(i[t]={}),u==r.length-1&&(i[t]=n[f]),i=i[t];delete n[f]}return n},t.hasScroll=function(t,i){var u=n(i),f=i.style.overflowX,r=i.style.overflowY;return(f!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===f||"scroll"===r||u.innerHeight()<i.scrollHeight||u.innerWidth()<i.scrollWidth)},t.escapeMarkup=function(n){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof n?n:String(n).replace(/[&<>"'\/\\]/g,function(n){return t[n]})},t.appendMany=function(t,i){if("1.7"===n.fn.jquery.substr(0,3)){var r=n();n.map(i,function(n){r=r.add(n)});i=r}t.append(i)},t}),t.define("select2/results",["jquery","./utils"],function(n,t){function i(n,t,r){this.$element=n;this.data=r;this.options=t;i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<ul class="select2-results__options" role="tree"><\/ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var u=this.options.get("escapeMarkup"),i,r;this.clear();this.hideLoading();i=n('<li role="treeitem" aria-live="assertive" class="select2-results__option"><\/li>');r=this.options.get("translations").get(t.message);i.append(u(r(t.args)));i[0].className+=" select2-results__message";this.$results.append(i)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(n){var i,t,r,u;if(this.hideLoading(),i=[],null==n.results||0===n.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));for(n.results=this.sort(n.results),t=0;t<n.results.length;t++)r=n.results[t],u=this.option(r),i.push(u);this.$results.append(i)},i.prototype.position=function(n,t){t.find(".select2-results").append(n)},i.prototype.sort=function(n){return this.options.get("sorter")(n)},i.prototype.highlightFirstItem=function(){var n=this.$results.find(".select2-results__option[aria-selected]"),t=n.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):n.first().trigger("mouseenter");this.ensureHighlightVisible()},i.prototype.setClasses=function(){var t=this;this.data.current(function(i){var r=n.map(i,function(n){return n.id.toString()});t.$results.find(".select2-results__option[aria-selected]").each(function(){var i=n(this),t=n.data(this,"data"),u=""+t.id;null!=t.element&&t.element.selected||null==t.element&&n.inArray(u,r)>-1?i.attr("aria-selected","true"):i.attr("aria-selected","false")})})},i.prototype.showLoading=function(n){this.hideLoading();var i=this.options.get("translations").get("searching"),r={disabled:!0,loading:!0,text:i(n)},t=this.option(r);t.className+=" loading-results";this.$results.prepend(t)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var r=document.createElement("li"),i,e,c,o,u,s,f,l,a,h;r.className="select2-results__option";i={role:"treeitem","aria-selected":"false"};t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true");null==t.id&&delete i["aria-selected"];null!=t._resultId&&(r.id=t._resultId);t.title&&(r.title=t.title);t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]);for(e in i)c=i[e],r.setAttribute(e,c);if(t.children){for(o=n(r),u=document.createElement("strong"),u.className="select2-results__group",n(u),this.template(t,u),s=[],f=0;f<t.children.length;f++)l=t.children[f],a=this.option(l),s.push(a);h=n("<ul><\/ul>",{"class":"select2-results__options select2-results__options--nested"});h.append(s);o.append(u);o.append(h)}else this.template(t,r);return n.data(r,"data",t),r},i.prototype.bind=function(t){var i=this,r=t.id+"-results";this.$results.attr("id",r);t.on("results:all",function(n){i.clear();i.append(n.data);t.isOpen()&&(i.setClasses(),i.highlightFirstItem())});t.on("results:append",function(n){i.append(n.data);t.isOpen()&&i.setClasses()});t.on("query",function(n){i.hideMessages();i.showLoading(n)});t.on("select",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())});t.on("unselect",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())});t.on("open",function(){i.$results.attr("aria-expanded","true");i.$results.attr("aria-hidden","false");i.setClasses();i.ensureHighlightVisible()});t.on("close",function(){i.$results.attr("aria-expanded","false");i.$results.attr("aria-hidden","true");i.$results.removeAttr("aria-activedescendant")});t.on("results:toggle",function(){var n=i.getHighlightedResults();0!==n.length&&n.trigger("mouseup")});t.on("results:select",function(){var n=i.getHighlightedResults(),t;0!==n.length&&(t=n.data("data"),"true"==n.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:t}))});t.on("results:previous",function(){var r=i.getHighlightedResults(),u=i.$results.find("[aria-selected]"),f=u.index(r),n,t;if(0!==f){n=f-1;0===r.length&&(n=0);t=u.eq(n);t.trigger("mouseenter");var e=i.$results.offset().top,o=t.offset().top,s=i.$results.scrollTop()+(o-e);0===n?i.$results.scrollTop(0):o-e<0&&i.$results.scrollTop(s)}});t.on("results:next",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),o=t.index(e),r=o+1,n;if(!(r>=t.length)){n=t.eq(r);n.trigger("mouseenter");var u=i.$results.offset().top+i.$results.outerHeight(!1),f=n.offset().top+n.outerHeight(!1),s=i.$results.scrollTop()+f-u;0===r?i.$results.scrollTop(0):f>u&&i.$results.scrollTop(s)}});t.on("results:focus",function(n){n.element.addClass("select2-results__option--highlighted")});t.on("results:message",function(n){i.displayMessage(n)});n.fn.mousewheel&&this.$results.on("mousewheel",function(n){var t=i.$results.scrollTop(),r=i.$results.get(0).scrollHeight-t+n.deltaY,u=n.deltaY>0&&t-n.deltaY<=0,f=n.deltaY<0&&r<=i.$results.height();u?(i.$results.scrollTop(0),n.preventDefault(),n.stopPropagation()):f&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),n.preventDefault(),n.stopPropagation())});this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var r=n(this),u=r.data("data");if("true"===r.attr("aria-selected"))return void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:t,data:u}):i.trigger("close",{}));i.trigger("select",{originalEvent:t,data:u})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var t=n(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted");i.trigger("results:focus",{data:t,element:n(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var n=this.getHighlightedResults();if(0!==n.length){var f=this.$results.find("[aria-selected]"),e=f.index(n),t=this.$results.offset().top,i=n.offset().top,r=this.$results.scrollTop()+(i-t),u=i-t;r-=2*n.outerHeight(!1);e<=2?this.$results.scrollTop(0):(u>this.$results.outerHeight()||u<0)&&this.$results.scrollTop(r)}},i.prototype.template=function(t,i){var u=this.options.get("templateResult"),f=this.options.get("escapeMarkup"),r=u(t,i);null==r?i.style.display="none":"string"==typeof r?i.innerHTML=f(r):n(i).append(r)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(n,t,i){function r(n,t){this.$element=n;this.options=t;r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var t=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"><\/span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},r.prototype.bind=function(n){var t=this,r=(n.id,n.id+"-results");this.container=n;this.$selection.on("focus",function(n){t.trigger("focus",n)});this.$selection.on("blur",function(n){t._handleBlur(n)});this.$selection.on("keydown",function(n){t.trigger("keypress",n);n.which===i.SPACE&&n.preventDefault()});n.on("results:focus",function(n){t.$selection.attr("aria-activedescendant",n.data._resultId)});n.on("selection:update",function(n){t.update(n.data)});n.on("open",function(){t.$selection.attr("aria-expanded","true");t.$selection.attr("aria-owns",r);t._attachCloseHandler(n)});n.on("close",function(){t.$selection.attr("aria-expanded","false");t.$selection.removeAttr("aria-activedescendant");t.$selection.removeAttr("aria-owns");t.$selection.focus();t._detachCloseHandler(n)});n.on("enable",function(){t.$selection.attr("tabindex",t._tabindex)});n.on("disable",function(){t.$selection.attr("tabindex","-1")})},r.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||n.contains(i.$selection[0],document.activeElement)||i.trigger("blur",t)},1)},r.prototype._attachCloseHandler=function(t){n(document.body).on("mousedown.select2."+t.id,function(t){var i=n(t.target),r=i.closest(".select2");n(".select2.select2-container--open").each(function(){var t=n(this);this!=r[0]&&t.data("element").select2("close")})})},r.prototype._detachCloseHandler=function(t){n(document.body).off("mousedown.select2."+t.id)},r.prototype.position=function(n,t){t.find(".selection").append(n)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.");},r}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(n,t,i){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var n=r.__super__.render.call(this);return n.addClass("select2-selection--single"),n.html('<span class="select2-selection__rendered"><\/span><span class="select2-selection__arrow" role="presentation"><b role="presentation"><\/b><\/span>'),n},r.prototype.bind=function(n){var t=this,i;r.__super__.bind.apply(this,arguments);i=n.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i);this.$selection.attr("aria-labelledby",i);this.$selection.on("mousedown",function(n){1===n.which&&t.trigger("toggle",{originalEvent:n})});this.$selection.on("focus",function(){});this.$selection.on("blur",function(){});n.on("focus",function(){n.isOpen()||t.$selection.focus()});n.on("selection:update",function(n){t.update(n.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(n,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(n,t))},r.prototype.selectionContainer=function(){return n("<span><\/span>")},r.prototype.update=function(n){if(0===n.length)return void this.clear();var t=n[0],i=this.$selection.find(".select2-selection__rendered"),r=this.display(t,i);i.empty().append(r);i.prop("title",t.title||t.text)},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(n,t,i){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var n=r.__super__.render.call(this);return n.addClass("select2-selection--multiple"),n.html('<ul class="select2-selection__rendered"><\/ul>'),n},r.prototype.bind=function(){var t=this;r.__super__.bind.apply(this,arguments);this.$selection.on("click",function(n){t.trigger("toggle",{originalEvent:n})});this.$selection.on("click",".select2-selection__choice__remove",function(i){if(!t.options.get("disabled")){var r=n(this),u=r.parent(),f=u.data("data");t.trigger("unselect",{originalEvent:i,data:f})}})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(n,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(n,t))},r.prototype.selectionContainer=function(){return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;<\/span><\/li>')},r.prototype.update=function(n){var f,r,e;if(this.clear(),0!==n.length){for(f=[],r=0;r<n.length;r++){var u=n[r],t=this.selectionContainer(),o=this.display(u,t);t.append(o);t.prop("title",u.title||u.text);t.data("data",u);f.push(t)}e=this.$selection.find(".select2-selection__rendered");i.appendMany(e,f)}},r}),t.define("select2/selection/placeholder",["../utils"],function(){function n(n,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));n.call(this,t,i)}return n.prototype.normalizePlaceholder=function(n,t){return"string"==typeof t&&(t={id:"",text:t}),t},n.prototype.createPlaceholder=function(n,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},n.prototype.update=function(n,t){var r=1==t.length&&t[0].id!=this.placeholder.id,i;if(t.length>1||r)return n.call(this,t);this.clear();i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},n}),t.define("select2/selection/allowClear",["jquery","../keys"],function(n,t){function i(){}return i.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.");this.$selection.on("mousedown",".select2-selection__clear",function(n){r._handleClear(n)});t.on("keypress",function(n){r._handleKeyboardClear(n,t)})},i.prototype._handleClear=function(n,t){var r,u,i,f;if(!this.options.get("disabled")&&(r=this.$selection.find(".select2-selection__clear"),0!==r.length)){for(t.stopPropagation(),u=r.data("data"),i=0;i<u.length;i++)if(f={data:u[i]},this.trigger("unselect",f),f.prevented)return;this.$element.val(this.placeholder.id).trigger("change");this.trigger("toggle",{})}},i.prototype._handleKeyboardClear=function(n,i,r){r.isOpen()||i.which!=t.DELETE&&i.which!=t.BACKSPACE||this._handleClear(i)},i.prototype.update=function(t,i){if(t.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var r=n('<span class="select2-selection__clear">&times;<\/span>');r.data("data",i);this.$selection.find(".select2-selection__rendered").prepend(r)}},i}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(n,t,i){function r(n,t,i){n.call(this,t,i)}return r.prototype.render=function(t){var i=n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /><\/li>'),r;return this.$searchContainer=i,this.$search=i.find("input"),r=t.call(this),this._transferTabIndex(),r},r.prototype.bind=function(n,t,r){var u=this,f,e;n.call(this,t,r);t.on("open",function(){u.$search.trigger("focus")});t.on("close",function(){u.$search.val("");u.$search.removeAttr("aria-activedescendant");u.$search.trigger("focus")});t.on("enable",function(){u.$search.prop("disabled",!1);u._transferTabIndex()});t.on("disable",function(){u.$search.prop("disabled",!0)});t.on("focus",function(){u.$search.trigger("focus")});t.on("results:focus",function(n){u.$search.attr("aria-activedescendant",n.id)});this.$selection.on("focusin",".select2-search--inline",function(n){u.trigger("focus",n)});this.$selection.on("focusout",".select2-search--inline",function(n){u._handleBlur(n)});this.$selection.on("keydown",".select2-search--inline",function(n){var t,r;(n.stopPropagation(),u.trigger("keypress",n),u._keyUpPrevented=n.isDefaultPrevented(),n.which===i.BACKSPACE&&""===u.$search.val())&&(t=u.$searchContainer.prev(".select2-selection__choice"),t.length>0&&(r=t.data("data"),u.searchRemoveChoice(r),n.preventDefault()))});f=document.documentMode;e=f&&f<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(){if(e)return void u.$selection.off("input.search input.searchcheck");u.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(n){if(e&&"input"===n.type)return void u.$selection.off("input.search input.searchcheck");var t=n.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&u.handleSearch(n)})},r.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(n,t){this.$search.attr("placeholder",t.text)},r.prototype.update=function(n,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");n.call(this,t);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();i&&this.$search.focus()},r.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(n,t){this.trigger("unselect",{data:t});this.$search.val(t.text);this.handleSearch()},r.prototype.resizeSearch=function(){this.$search.css("width","25px");var n="";n=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em";this.$search.css("width",n)},r}),t.define("select2/selection/eventRelay",["jquery"],function(n){function t(){}return t.prototype.bind=function(t,i,r){var u=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],e=["opening","closing","selecting","unselecting"];t.call(this,i,r);i.on("*",function(t,i){if(-1!==n.inArray(t,f)){i=i||{};var r=n.Event("select2:"+t,{params:i});u.$element.trigger(r);-1!==n.inArray(t,e)&&(i.prevented=r.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(n,t){function i(n){this.dict=n||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(n){return this.dict[n]},i.prototype.extend=function(t){this.dict=n.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(n){if(!(n in i._cache)){var r=t(n);i._cache[n]=r}return new i(i._cache[n])},i}),t.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),t.define("select2/data/base",["../utils"],function(n){function t(){t.__super__.constructor.call(this)}return n.Extend(t,n.Observable),t.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.");},t.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.");},t.prototype.bind=function(){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var r=t.id+"-result-";return r+=n.generateChars(4),r+=null!=i.id?"-"+i.id.toString():"-"+n.generateChars(4),r},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(n,t,i){function r(n,t){this.$element=n;this.options=t;r.__super__.constructor.call(this)}return t.Extend(r,n),r.prototype.current=function(n){var t=[],r=this;this.$element.find(":selected").each(function(){var n=i(this),u=r.item(n);t.push(u)});n(t)},r.prototype.select=function(n){var t=this,r;if(n.selected=!0,i(n.element).is("option"))return n.element.selected=!0,void this.$element.trigger("change");this.$element.prop("multiple")?this.current(function(r){var f=[],u,e;for(n=[n],n.push.apply(n,r),u=0;u<n.length;u++)e=n[u].id,-1===i.inArray(e,f)&&f.push(e);t.$element.val(f);t.$element.trigger("change")}):(r=n.id,this.$element.val(r),this.$element.trigger("change"))},r.prototype.unselect=function(n){var t=this;if(this.$element.prop("multiple")){if(n.selected=!1,i(n.element).is("option"))return n.element.selected=!1,void this.$element.trigger("change");this.current(function(r){for(var e,u=[],f=0;f<r.length;f++)e=r[f].id,e!==n.id&&-1===i.inArray(e,u)&&u.push(e);t.$element.val(u);t.$element.trigger("change")})}},r.prototype.bind=function(n){var t=this;this.container=n;n.on("select",function(n){t.select(n.data)});n.on("unselect",function(n){t.unselect(n.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},r.prototype.query=function(n,t){var r=[],u=this;this.$element.children().each(function(){var t=i(this),e,f;(t.is("option")||t.is("optgroup"))&&(e=u.item(t),f=u.matches(n,e),null!==f&&r.push(f))});t({results:r})},r.prototype.addOptions=function(n){t.appendMany(this.$element,n)},r.prototype.option=function(n){var t,u,r;return n.children?(t=document.createElement("optgroup"),t.label=n.text):(t=document.createElement("option"),void 0!==t.textContent?t.textContent=n.text:t.innerText=n.text),void 0!==n.id&&(t.value=n.id),n.disabled&&(t.disabled=!0),n.selected&&(t.selected=!0),n.title&&(t.title=n.title),u=i(t),r=this._normalizeItem(n),r.element=t,i.data(t,"data",r),u},r.prototype.item=function(n){var t={},e,o;if(null!=(t=i.data(n[0],"data")))return t;if(n.is("option"))t={id:n.val(),text:n.text(),disabled:n.prop("disabled"),selected:n.prop("selected"),title:n.prop("title")};else if(n.is("optgroup")){t={text:n.prop("label"),children:[],title:n.prop("title")};for(var u=n.children("option"),f=[],r=0;r<u.length;r++)e=i(u[r]),o=this.item(e),f.push(o);t.children=f}return t=this._normalizeItem(t),t.element=n[0],i.data(n[0],"data",t),t},r.prototype._normalizeItem=function(n){i.isPlainObject(n)||(n={id:n,text:n});n=i.extend({},{text:""},n);return null!=n.id&&(n.id=n.id.toString()),null!=n.text&&(n.text=n.text.toString()),null==n._resultId&&n.id&&null!=this.container&&(n._resultId=this.generateResultId(this.container,n)),i.extend({},{selected:!1,disabled:!1},n)},r.prototype.matches=function(n,t){return this.options.get("matcher")(n,t)},r}),t.define("select2/data/array",["./select","../utils","jquery"],function(n,t,i){function r(n,t){var i=t.get("data")||[];r.__super__.constructor.call(this,n,t);this.addOptions(this.convertToOptions(i))}return t.Extend(r,n),r.prototype.select=function(n){var t=this.$element.find("option").filter(function(t,i){return i.value==n.id.toString()});0===t.length&&(t=this.option(n),this.addOptions(t));r.__super__.select.call(this,n)},r.prototype.convertToOptions=function(n){function c(n){return function(){return i(this).val()==n.id}}for(var r,f,h,l=this,e=this.$element.find("option"),a=e.map(function(){return l.item(i(this)).id}).get(),o=[],u=0;u<n.length;u++)if(r=this._normalizeItem(n[u]),i.inArray(r.id,a)>=0){var s=e.filter(c(r)),v=this.item(s),y=i.extend(!0,{},r,v),p=this.option(y);s.replaceWith(p)}else f=this.option(r),r.children&&(h=this.convertToOptions(r.children),t.appendMany(f,h)),o.push(f);return o},r}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(n,t,i){function r(n,t){this.ajaxOptions=this._applyDefaults(t.get("ajax"));null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults);r.__super__.constructor.call(this,n,t)}return t.Extend(r,n),r.prototype._applyDefaults=function(n){var t={data:function(n){return i.extend({},n,{q:n.term})},transport:function(n,t,r){var u=i.ajax(n);return u.then(t),u.fail(r),u}};return i.extend({},t,n,!0)},r.prototype.processResults=function(n){return n},r.prototype.query=function(n,t){function f(){var f=r.transport(r,function(r){var f=u.processResults(r,n);u.options.get("debug")&&window.console&&console.error&&(f&&f.results&&i.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response."));t(f)},function(){f.status&&"0"===f.status||u.trigger("results:message",{message:"errorLoading"})});u._request=f}var u=this,r;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);r=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,n));"function"==typeof r.data&&(r.data=r.data.call(this.$element,n));this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(f,this.ajaxOptions.delay)):f()},r}),t.define("select2/data/tags",["jquery"],function(n){function t(t,i,r){var f=r.get("tags"),o=r.get("createTag"),e,u;if(void 0!==o&&(this.createTag=o),e=r.get("insertTag"),void 0!==e&&(this.insertTag=e),t.call(this,i,r),n.isArray(f))for(u=0;u<f.length;u++){var s=f[u],h=this._normalizeItem(s),c=this.option(h);this.$element.append(c)}}return t.prototype.query=function(n,t,i){function u(n,f){for(var s,l,h,c,e=n.results,o=0;o<e.length;o++)if(s=e[o],l=null!=s.children&&!u({results:s.children},!0),(s.text||"").toUpperCase()===(t.term||"").toUpperCase()||l)return!f&&(n.data=e,void i(n));if(f)return!0;h=r.createTag(t);null!=h&&(c=r.option(h),c.attr("data-select2-tag",!0),r.addOptions([c]),r.insertTag(e,h));n.results=e;i(n)}var r=this;if(this._removeOldTags(),null==t.term||null!=t.page)return void n.call(this,t,i);n.call(this,t,u)},t.prototype.createTag=function(t,i){var r=n.trim(i.term);return""===r?null:{id:r,text:r}},t.prototype.insertTag=function(n,t,i){t.unshift(i)},t.prototype._removeOldTags=function(){this._lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||n(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(n){function t(n,t,i){var r=i.get("tokenizer");void 0!==r&&(this.tokenizer=r);n.call(this,t,i)}return t.prototype.bind=function(n,t,i){n.call(this,t,i);this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,i,r){function e(t){var i=u._normalizeItem(t),r;u.$element.find("option").filter(function(){return n(this).val()===i.id}).length||(r=u.option(i),r.attr("data-select2-tag",!0),u._removeOldTags(),u.addOptions([r]));o(i)}function o(n){u.trigger("select",{data:n})}var u=this,f;i.term=i.term||"";f=this.tokenizer(i,this.options,e);f.term!==i.term&&(this.$search.length&&(this.$search.val(f.term),this.$search.focus()),i.term=f.term);t.call(this,i,r)},t.prototype.tokenizer=function(t,i,r,u){for(var o,h=r.get("tokenSeparators")||[],e=i.term,f=0,c=this.createTag||function(n){return{id:n.term,text:n.term}};f<e.length;)if(o=e[f],-1!==n.inArray(o,h)){var l=e.substr(0,f),a=n.extend({},i,{term:l}),s=c(a);null!=s?(u(s),e=e.substr(f+1)||"",f=0):f++}else f++;return{term:e}},t}),t.define("select2/data/minimumInputLength",[],function(){function n(n,t,i){this.minimumInputLength=i.get("minimumInputLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){if(t.term=t.term||"",t.term.length<this.minimumInputLength)return void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}});n.call(this,t,i)},n}),t.define("select2/data/maximumInputLength",[],function(){function n(n,t,i){this.maximumInputLength=i.get("maximumInputLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){if(t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength)return void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}});n.call(this,t,i)},n}),t.define("select2/data/maximumSelectionLength",[],function(){function n(n,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){var r=this;this.current(function(u){var f=null!=u?u.length:0;if(r.maximumSelectionLength>0&&f>=r.maximumSelectionLength)return void r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}});n.call(r,t,i)})},n}),t.define("select2/dropdown",["jquery","./utils"],function(n,t){function i(n,t){this.$element=n;this.options=t;i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<span class="select2-dropdown"><span class="select2-results"><\/span><\/span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.bind=function(){},i.prototype.position=function(){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(n){function t(){}return t.prototype.render=function(t){var r=t.call(this),i=n('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /><\/span>');return this.$searchContainer=i,this.$search=i.find("input"),r.prepend(i),r},t.prototype.bind=function(t,i,r){var u=this;t.call(this,i,r);this.$search.on("keydown",function(n){u.trigger("keypress",n);u._keyUpPrevented=n.isDefaultPrevented()});this.$search.on("input",function(){n(this).off("keyup")});this.$search.on("keyup input",function(n){u.handleSearch(n)});i.on("open",function(){u.$search.attr("tabindex",0);u.$search.focus();window.setTimeout(function(){u.$search.focus()},0)});i.on("close",function(){u.$search.attr("tabindex",-1);u.$search.val("")});i.on("focus",function(){i.isOpen()||u.$search.focus()});i.on("results:all",function(n){(null==n.query.term||""===n.query.term)&&(u.showSearch(n)?u.$searchContainer.removeClass("select2-search--hide"):u.$searchContainer.addClass("select2-search--hide"))})},t.prototype.handleSearch=function(){if(!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},t.prototype.showSearch=function(){return!0},t}),t.define("select2/dropdown/hidePlaceholder",[],function(){function n(n,t,i,r){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));n.call(this,t,i,r)}return n.prototype.append=function(n,t){t.results=this.removePlaceholder(t.results);n.call(this,t)},n.prototype.normalizePlaceholder=function(n,t){return"string"==typeof t&&(t={id:"",text:t}),t},n.prototype.removePlaceholder=function(n,t){for(var u,r=t.slice(0),i=t.length-1;i>=0;i--)u=t[i],this.placeholder.id===u.id&&r.splice(i,1);return r},n}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(n){function t(n,t,i,r){this.lastParams={};n.call(this,t,i,r);this.$loadingMore=this.createLoadingMore();this.loading=!1}return t.prototype.append=function(n,t){this.$loadingMore.remove();this.loading=!1;n.call(this,t);this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,i,r){var u=this;t.call(this,i,r);i.on("query",function(n){u.lastParams=n;u.loading=!0});i.on("query:append",function(n){u.lastParams=n;u.loading=!0});this.$results.on("scroll",function(){var t=n.contains(document.documentElement,u.$loadingMore[0]);!u.loading&&t&&u.$results.offset().top+u.$results.outerHeight(!1)+50>=u.$loadingMore.offset().top+u.$loadingMore.outerHeight(!1)&&u.loadMore()})},t.prototype.loadMore=function(){this.loading=!0;var t=n.extend({},{page:1},this.lastParams);t.page++;this.trigger("query:append",t)},t.prototype.showLoadingMore=function(n,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=n('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"><\/li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(n,t){function i(t,i,r){this.$dropdownParent=r.get("dropdownParent")||n(document.body);t.call(this,i,r)}return i.prototype.bind=function(n,t,i){var r=this,u=!1;n.call(this,t,i);t.on("open",function(){r._showDropdown();r._attachPositioningHandler(t);u||(u=!0,t.on("results:all",function(){r._positionDropdown();r._resizeDropdown()}),t.on("results:append",function(){r._positionDropdown();r._resizeDropdown()}))});t.on("close",function(){r._hideDropdown();r._detachPositioningHandler(t)});this.$dropdownContainer.on("mousedown",function(n){n.stopPropagation()})},i.prototype.destroy=function(n){n.call(this);this.$dropdownContainer.remove()},i.prototype.position=function(n,t,i){t.attr("class",i.attr("class"));t.removeClass("select2");t.addClass("select2-container--open");t.css({position:"absolute",top:-999999});this.$container=i},i.prototype.render=function(t){var i=n("<span><\/span>"),r=t.call(this);return i.append(r),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i,r){var u=this,f="scroll.select2."+r.id,o="resize.select2."+r.id,s="orientationchange.select2."+r.id,e=this.$container.parents().filter(t.hasScroll);e.each(function(){n(this).data("select2-scroll-position",{x:n(this).scrollLeft(),y:n(this).scrollTop()})});e.on(f,function(){var t=n(this).data("select2-scroll-position");n(this).scrollTop(t.y)});n(window).on(f+" "+o+" "+s,function(){u._positionDropdown();u._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,r){var u="scroll.select2."+r.id,f="resize.select2."+r.id,e="orientationchange.select2."+r.id;this.$container.parents().filter(t.hasScroll).off(u);n(window).off(u+" "+f+" "+e)},i.prototype._positionDropdown=function(){var s=n(window),u=this.$dropdown.hasClass("select2-dropdown--above"),v=this.$dropdown.hasClass("select2-dropdown--below"),t=null,i=this.$container.offset(),r,o;i.bottom=i.top+this.$container.outerHeight(!1);r={height:this.$container.outerHeight(!1)};r.top=i.top;r.bottom=i.top+r.height;var h={height:this.$dropdown.outerHeight(!1)},c={top:s.scrollTop(),bottom:s.scrollTop()+s.height()},l=c.top<i.top-h.height,a=c.bottom>i.bottom+h.height,f={left:i.left,top:r.bottom},e=this.$dropdownParent;"static"===e.css("position")&&(e=e.offsetParent());o=e.offset();f.top-=o.top;f.left-=o.left;u||v||(t="below");a||!l||u?!l&&a&&u&&(t="below"):t="above";("above"==t||u&&"below"!==t)&&(f.top=r.top-o.top-h.height);null!=t&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+t),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+t));this.$dropdownContainer.css(f)},i.prototype._resizeDropdown=function(){var n={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(n.minWidth=n.width,n.position="relative",n.width="auto");this.$dropdown.css(n)},i.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()},i}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function n(t){for(var u,i=0,r=0;r<t.length;r++)u=t[r],u.children?i+=n(u.children):i++;return i}function t(n,t,i,r){this.minimumResultsForSearch=i.get("minimumResultsForSearch");this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0);n.call(this,t,i,r)}return t.prototype.showSearch=function(t,i){return!(n(i.data.results)<this.minimumResultsForSearch)&&t.call(this,i)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function n(){}return n.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("close",function(n){r._handleSelectOnClose(n)})},n.prototype._handleSelectOnClose=function(n,t){var r,u,i;t&&null!=t.originalSelect2Event&&(r=t.originalSelect2Event,"select"===r._type||"unselect"===r._type)||(u=this.getHighlightedResults(),u.length<1||(i=u.data("data"),null!=i.element&&i.element.selected||null==i.element&&i.selected||this.trigger("select",{data:i})))},n}),t.define("select2/dropdown/closeOnSelect",[],function(){function n(){}return n.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("select",function(n){r._selectTriggered(n)});t.on("unselect",function(n){r._selectTriggered(n)})},n.prototype._selectTriggered=function(n,t){var i=t.originalEvent;i&&i.ctrlKey||this.trigger("close",{originalEvent:i,originalSelect2Event:t})},n}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(n){var t=n.input.length-n.maximum,i="Please delete "+t+" character";return 1!=t&&(i+="s"),i},inputTooShort:function(n){return"Please enter "+(n.minimum-n.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(n){var t="You can only select "+n.maximum+" item";return 1!=n.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot){function st(){this.reset()}return st.prototype.apply=function(l){var vt,yt,pt,wt,bt,kt,dt,ct,lt,st,ot,ht,gt,at;if((l=n.extend(!0,{},this.defaults,l),null==l.dataAdapter)&&((l.dataAdapter=null!=l.ajax?y:null!=l.data?v:a,l.minimumInputLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,b)),l.maximumInputLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,k)),l.maximumSelectionLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,d)),l.tags&&(l.dataAdapter=h.Decorate(l.dataAdapter,p)),null==l.tokenSeparators&&null==l.tokenizer||(l.dataAdapter=h.Decorate(l.dataAdapter,w)),null!=l.query)&&(vt=t(l.amdBase+"compat/query"),l.dataAdapter=h.Decorate(l.dataAdapter,vt)),null!=l.initSelection&&(yt=t(l.amdBase+"compat/initSelection"),l.dataAdapter=h.Decorate(l.dataAdapter,yt))),(null==l.resultsAdapter&&(l.resultsAdapter=i,null!=l.ajax&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,it)),null!=l.placeholder&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,tt)),l.selectOnClose&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,ft))),null==l.dropdownAdapter)&&(l.multiple?l.dropdownAdapter=g:(pt=h.Decorate(g,nt),l.dropdownAdapter=pt),(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=h.Decorate(l.dropdownAdapter,ut)),l.closeOnSelect&&(l.dropdownAdapter=h.Decorate(l.dropdownAdapter,et)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass)&&(wt=t(l.amdBase+"compat/dropdownCss"),l.dropdownAdapter=h.Decorate(l.dropdownAdapter,wt)),l.dropdownAdapter=h.Decorate(l.dropdownAdapter,rt)),null==l.selectionAdapter&&((l.selectionAdapter=l.multiple?u:r,null!=l.placeholder&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,e)),l.multiple&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,o)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass)&&(bt=t(l.amdBase+"compat/containerCss"),l.selectionAdapter=h.Decorate(l.selectionAdapter,bt)),l.selectionAdapter=h.Decorate(l.selectionAdapter,s)),"string"==typeof l.language&&(l.language.indexOf("-")>0?(kt=l.language.split("-"),dt=kt[0],l.language=[l.language,dt]):l.language=[l.language]),n.isArray(l.language)){for(ct=new c,l.language.push("en"),lt=l.language,st=0;st<lt.length;st++){ot=lt[st];ht={};try{ht=c.loadPath(ot)}catch(n){try{ot=this.defaults.amdLanguageBase+ot;ht=c.loadPath(ot)}catch(n){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+ot+'" could not be automatically loaded. A fallback will be used instead.');continue}}ct.extend(ht)}l.translations=ct}else gt=c.loadPath(this.defaults.amdLanguageBase+"en"),at=new c(l.language),at.extend(gt),l.translations=at;return l},st.prototype.reset=function(){function i(n){function t(n){return l[n]||n}return n.replace(/[^\u0000-\u007E]/g,t)}function t(r,u){var f,e,o,s;if(""===n.trim(r.term))return u;if(u.children&&u.children.length>0){for(f=n.extend(!0,{},u),e=u.children.length-1;e>=0;e--)null==t(r,u.children[e])&&f.children.splice(e,1);return f.children.length>0?f:t(r,f)}return o=i(u.text).toUpperCase(),s=i(r.term).toUpperCase(),o.indexOf(s)>-1?u:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:h.escapeMarkup,language:ot,matcher:t,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(n){return n},templateResult:function(n){return n.text},templateSelection:function(n){return n.text},theme:"default",width:"resolve"}},st.prototype.set=function(t,i){var f=n.camelCase(t),r={},u;r[f]=i;u=h._convertData(r);n.extend(this.defaults,u)},new st}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(n,t,i,r){function u(t,u){if(this.options=t,null!=u&&this.fromElement(u),this.options=i.apply(this.options),u&&u.is("input")){var f=n(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,f)}}return u.prototype.fromElement=function(n){var e=["select2"],f,u,i;null==this.options.multiple&&(this.options.multiple=n.prop("multiple"));null==this.options.disabled&&(this.options.disabled=n.prop("disabled"));null==this.options.language&&(n.prop("lang")?this.options.language=n.prop("lang").toLowerCase():n.closest("[lang]").prop("lang")&&(this.options.language=n.closest("[lang]").prop("lang")));null==this.options.dir&&(this.options.dir=n.prop("dir")?n.prop("dir"):n.closest("[dir]").prop("dir")?n.closest("[dir]").prop("dir"):"ltr");n.prop("disabled",this.options.disabled);n.prop("multiple",this.options.multiple);n.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),n.data("data",n.data("select2Tags")),n.data("tags",!0));n.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),n.attr("ajax--url",n.data("ajaxUrl")),n.data("ajax--url",n.data("ajaxUrl")));f={};f=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&n[0].dataset?t.extend(!0,{},n[0].dataset,n.data()):n.data();u=t.extend(!0,{},f);u=r._convertData(u);for(i in u)t.inArray(i,e)>-1||(t.isPlainObject(this.options[i])?t.extend(this.options[i],u[i]):this.options[i]=u[i]);return this},u.prototype.get=function(n){return this.options[n]},u.prototype.set=function(n,t){this.options[n]=t},u}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(n,t,i,r){var u=function(n,i){var f,e,r,o,s,h,c;null!=n.data("select2")&&n.data("select2").destroy();this.$element=n;this.id=this._generateId(n);i=i||{};this.options=new t(i,n);u.__super__.constructor.call(this);f=n.attr("tabindex")||0;n.data("old-tabindex",f);n.attr("tabindex","-1");e=this.options.get("dataAdapter");this.dataAdapter=new e(n,this.options);r=this.render();this._placeContainer(r);o=this.options.get("selectionAdapter");this.selection=new o(n,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,r);s=this.options.get("dropdownAdapter");this.dropdown=new s(n,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,r);h=this.options.get("resultsAdapter");this.results=new h(n,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);c=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(n){c.trigger("selection:update",{data:n})});n.addClass("select2-hidden-accessible");n.attr("aria-hidden","true");this._syncAttributes();n.data("select2",this)};return i.Extend(u,i.Observable),u.prototype._generateId=function(n){var t="";return t=null!=n.attr("id")?n.attr("id"):null!=n.attr("name")?n.attr("name")+"-"+i.generateChars(2):i.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),t="select2-"+t},u.prototype._placeContainer=function(n){n.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&n.css("width",t)},u.prototype._resolveWidth=function(n,t){var r,u,f,s,i;if("resolve"==t)return r=this._resolveWidth(n,"style"),null!=r?r:this._resolveWidth(n,"element");if("element"==t)return u=n.outerWidth(!1),u<=0?"auto":u+"px";if("style"==t){if(f=n.attr("style"),"string"!=typeof f)return null;for(var o=f.split(";"),e=0,h=o.length;e<h;e+=1)if(s=o[e].replace(/\s/g,""),i=s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==i&&i.length>=1)return i[1];return null}return t},u.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)},u.prototype._registerDomEvents=function(){var t=this,r;this.$element.on("change.select2",function(){t.dataAdapter.current(function(n){t.trigger("selection:update",{data:n})})});this.$element.on("focus.select2",function(n){t.trigger("focus",n)});this._syncA=i.bind(this._syncAttributes,this);this._syncS=i.bind(this._syncSubtree,this);this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=r?(this._observer=new r(function(i){n.each(i,t._syncA);n.each(i,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},u.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerSelectionEvents=function(){var t=this,i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()});this.selection.on("focus",function(n){t.focus(n)});this.selection.on("*",function(r,u){-1===n.inArray(r,i)&&t.trigger(r,u)})},u.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")});this.on("close",function(){n.$container.removeClass("select2-container--open")});this.on("enable",function(){n.$container.removeClass("select2-container--disabled")});this.on("disable",function(){n.$container.addClass("select2-container--disabled")});this.on("blur",function(){n.$container.removeClass("select2-container--focus")});this.on("query",function(t){n.isOpen()||n.trigger("open",{});this.dataAdapter.query(t,function(i){n.trigger("results:all",{data:i,query:t})})});this.on("query:append",function(t){this.dataAdapter.query(t,function(i){n.trigger("results:append",{data:i,query:t})})});this.on("keypress",function(t){var i=t.which;n.isOpen()?i===r.ESC||i===r.TAB||i===r.UP&&t.altKey?(n.close(),t.preventDefault()):i===r.ENTER?(n.trigger("results:select",{}),t.preventDefault()):i===r.SPACE&&t.ctrlKey?(n.trigger("results:toggle",{}),t.preventDefault()):i===r.UP?(n.trigger("results:previous",{}),t.preventDefault()):i===r.DOWN&&(n.trigger("results:next",{}),t.preventDefault()):(i===r.ENTER||i===r.SPACE||i===r.DOWN&&t.altKey)&&(n.open(),t.preventDefault())})},u.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},u.prototype._syncSubtree=function(n,t){var i=!1,f=this,r,u;if(!n||!n.target||"OPTION"===n.target.nodeName||"OPTGROUP"===n.target.nodeName){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(r=0;r<t.addedNodes.length;r++)u=t.addedNodes[r],u.selected&&(i=!0);else t.removedNodes&&t.removedNodes.length>0&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(n){f.trigger("selection:update",{data:n})})}},u.prototype.trigger=function(n,t){var r=u.__super__.trigger,f={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"},e,i;if((void 0===t&&(t={}),n in f)&&(e=f[n],i={prevented:!1,name:n,args:t},r.call(this,e,i),i.prevented))return void(t.prevented=!0);r.call(this,n,t)},u.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},u.prototype.open=function(){this.isOpen()||this.trigger("query",{})},u.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},u.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},u.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},u.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},u.prototype.enable=function(n){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');null!=n&&0!==n.length||(n=[!0]);var t=!n[0];this.$element.prop("disabled",t)},u.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var n=[];return this.dataAdapter.current(function(t){n=t}),n},u.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var i=t[0];n.isArray(i)&&(i=n.map(i,function(n){return n.toString()}));this.$element.val(i).trigger("change")},u.prototype.destroy=function(){this.$container.remove();this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA);null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1));this._syncA=null;this._syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",this.$element.data("old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null},u.prototype.render=function(){var t=n('<span class="select2 select2-container"><span class="selection"><\/span><span class="dropdown-wrapper" aria-hidden="true"><\/span><\/span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},u}),t.define("select2/compat/utils",["jquery"],function(n){function t(t,i,r){var u,e,f=[];u=n.trim(t.attr("class"));u&&(u=""+u,n(u.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&f.push(this)}));u=n.trim(i.attr("class"));u&&(u=""+u,n(u.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(e=r(this))&&f.push(e)}));t.attr("class",f.join(" "))}return{syncCssClasses:t}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(n,t){function r(){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),u=this.options.get("containerCssClass")||"",f,s,e;return n.isFunction(u)&&(u=u(this.$element)),f=this.options.get("adaptContainerCssClass"),(f=f||r,-1!==u.indexOf(":all:"))&&(u=u.replace(":all:",""),s=f,f=function(n){var t=s(n);return null!=t?t+" "+n:n}),e=this.options.get("containerCss")||{},n.isFunction(e)&&(e=e(this.$element)),t.syncCssClasses(o,this.$element,f),o.css(e),o.addClass(u),o},i}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(n,t){function r(){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),u=this.options.get("dropdownCssClass")||"",f,s,e;return n.isFunction(u)&&(u=u(this.$element)),f=this.options.get("adaptDropdownCssClass"),(f=f||r,-1!==u.indexOf(":all:"))&&(u=u.replace(":all:",""),s=f,f=function(n){var t=s(n);return null!=t?t+" "+n:n}),e=this.options.get("dropdownCss")||{},n.isFunction(e)&&(e=e(this.$element)),t.syncCssClasses(o,this.$element,f),o.css(e),o.addClass(u),o},i}),t.define("select2/compat/initSelection",["jquery"],function(n){function t(n,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2");this.initSelection=i.get("initSelection");this._isInitialized=!1;n.call(this,t,i)}return t.prototype.current=function(t,i){var r=this;if(this._isInitialized)return void t.call(this,i);this.initSelection.call(null,this.$element,function(t){r._isInitialized=!0;n.isArray(t)||(t=[t]);i(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(n){function t(n,t,i){this._currentData=[];this._valueSeparator=i.get("valueSeparator")||",";"hidden"===t.prop("type")&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead.");n.call(this,t,i)}return t.prototype.current=function(t,i){function f(t,i){var r=[];return t.selected||-1!==n.inArray(t.id,i)?(t.selected=!0,r.push(t)):t.selected=!1,t.children&&r.push.apply(r,f(t.children,i)),r}for(var e,r=[],u=0;u<this._currentData.length;u++)e=this._currentData[u],r.push.apply(r,f(e,this.$element.val().split(this._valueSeparator)));i(r)},t.prototype.select=function(t,i){if(this.options.get("multiple")){var r=this.$element.val();r+=this._valueSeparator+i.id;this.$element.val(r);this.$element.trigger("change")}else this.current(function(t){n.map(t,function(n){n.selected=!1})}),this.$element.val(i.id),this.$element.trigger("change")},t.prototype.unselect=function(n,t){var i=this;t.selected=!1;this.current(function(n){for(var f,u=[],r=0;r<n.length;r++)f=n[r],t.id!=f.id&&u.push(f.id);i.$element.val(u.join(i._valueSeparator));i.$element.trigger("change")})},t.prototype.query=function(n,t,i){for(var e,f,u=[],r=0;r<this._currentData.length;r++)e=this._currentData[r],f=this.matches(t,e),null!==f&&u.push(f);i({results:u})},t.prototype.addOptions=function(t,i){var r=n.map(i,function(t){return n.data(t[0],"data")});this._currentData.push.apply(this._currentData,r)},t}),t.define("select2/compat/matcher",["jquery"],function(n){function t(t){function i(i,r){var u=n.extend(!0,{},r),f,e;if(null==i.term||""===n.trim(i.term))return u;if(r.children){for(f=r.children.length-1;f>=0;f--)e=r.children[f],t(i.term,e.text,e)||u.children.splice(f,1);if(u.children.length>0)return u}return t(i.term,r.text,r)?u:null}return i}return t}),t.define("select2/compat/query",[],function(){function n(n,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2.");n.call(this,t,i)}return n.prototype.query=function(n,t,i){t.callback=i;this.options.get("query").call(null,t)},n}),t.define("select2/dropdown/attachContainer",[],function(){function n(n,t,i){n.call(this,t,i)}return n.prototype.position=function(n,t,i){i.find(".dropdown-wrapper").append(t);t.addClass("select2-dropdown--below");i.addClass("select2-container--below")},n}),t.define("select2/dropdown/stopPropagation",[],function(){function n(){}return n.prototype.bind=function(n,t,i){n.call(this,t,i);this.$dropdown.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(n){n.stopPropagation()})},n}),t.define("select2/selection/stopPropagation",[],function(){function n(){}return n.prototype.bind=function(n,t,i){n.call(this,t,i);this.$selection.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(n){n.stopPropagation()})},n}),function(i){"function"==typeof t.define&&t.define.amd?t.define("jquery-mousewheel",["jquery"],i):"object"==typeof exports?module.exports=i:i(n)}(function(n){function u(r){var u=r||window.event,w=c.call(arguments,1),l=0,s=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(u),r.type="mousewheel","detail"in u&&(e=-1*u.detail),"wheelDelta"in u&&(e=u.wheelDelta),"wheelDeltaY"in u&&(e=u.wheelDeltaY),"wheelDeltaX"in u&&(s=-1*u.wheelDeltaX),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(s=-1*e,e=0),l=0===e?s:e,"deltaY"in u&&(e=-1*u.deltaY,l=e),"deltaX"in u&&(s=u.deltaX,0===e&&(l=-1*s)),0!==e||0!==s)return 1===u.deltaMode?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,s*=v):2===u.deltaMode&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,s*=y),(a=Math.max(Math.abs(e),Math.abs(s)),(!t||a<t)&&(t=a,o(u,a)&&(t/=40)),o(u,a)&&(l/=40,s/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),s=Math[s>=1?"floor":"ceil"](s/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect)&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=s,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,s,e),f&&clearTimeout(f),f=setTimeout(h,200),(n.event.dispatch||n.event.handle).apply(this,w)}function h(){t=null}function o(n,t){return i.settings.adjustOldDeltas&&"mousewheel"===n.type&&t%120==0}var f,t,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice,e,i;if(n.event.fixHooks)for(e=s.length;e;)n.event.fixHooks[s[--e]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],u,!1);else this.onmousewheel=u;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],u,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(n,t,i,r){if(null==n.fn.select2){var u=["open","close","destroy"];n.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var r=n.extend(!0,{},t);new i(n(this),r)}),this;if("string"==typeof t){var r,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=n(this).data("select2");null==i&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2.");r=i[t].apply(i,f)}),n.inArray(t,u)>-1?this:r}throw new Error("Invalid arguments for Select2: "+t);}}return null==n.fn.select2.defaults&&(n.fn.select2.defaults=r),i}),{define:t.define,require:t.require}}(),i=t.require("jquery.select2");return n.fn.select2.amd=t,i});
/*! AdminLTE app.js
* ================
* Main JS application file for AdminLTE v2. This file
* should be included in all pages. It controls some layout
* options and implements exclusive AdminLTE plugins.
*
* @Author  Almsaeed Studio
* @Support <https://www.almsaeedstudio.com>
* @Email   <abdullah@almsaeedstudio.com>
* @version 2.4.2
* @repository git://github.com/almasaeed2010/AdminLTE.git
* @license MIT <http://opensource.org/licenses/MIT>
*/
if("undefined"==typeof jQuery)throw new Error("AdminLTE requires jQuery");+function(n){"use strict";function i(i){return this.each(function(){var f=n(this),u=f.data(r),o;if(u||(o=n.extend({},e,f.data(),"object"==typeof i&&i),f.data(r,u=new t(f,o))),"string"==typeof u){if(void 0===u[i])throw new Error("No method named "+i);u[i]()}})}var r="lte.boxrefresh",e={source:"",params:{},trigger:".refresh-btn",content:".box-body",loadInContent:!0,responseType:"",overlayTemplate:'<div class="overlay"><div class="fa fa-refresh fa-spin"><\/div><\/div>',onLoadStart:function(){},onLoadDone:function(n){return n}},u={data:'[data-widget="box-refresh"]'},t=function(t,i){if(this.element=t,this.options=i,this.$overlay=n(i.overlay),""===i.source)throw new Error("Source url was not defined. Please specify a url in your BoxRefresh source option.");this._setUpListeners();this.load()},f;t.prototype.load=function(){this._addOverlay();this.options.onLoadStart.call(n(this));n.get(this.options.source,this.options.params,function(t){this.options.loadInContent&&n(this.options.content).html(t);this.options.onLoadDone.call(n(this),t);this._removeOverlay()}.bind(this),""!==this.options.responseType&&this.options.responseType)};t.prototype._setUpListeners=function(){n(this.element).on("click",u.trigger,function(n){n&&n.preventDefault();this.load()}.bind(this))};t.prototype._addOverlay=function(){n(this.element).append(this.$overlay)};t.prototype._removeOverlay=function(){n(this.element).remove(this.$overlay)};f=n.fn.boxRefresh;n.fn.boxRefresh=i;n.fn.boxRefresh.Constructor=t;n.fn.boxRefresh.noConflict=function(){return n.fn.boxRefresh=f,this};n(window).on("load",function(){n(u.data).each(function(){i.call(n(this))})})}(jQuery),function(n){"use strict";function u(t){return this.each(function(){var r=n(this),u=r.data(f),e;if(u||(e=n.extend({},s,r.data(),"object"==typeof t&&t),r.data(f,u=new i(r,e))),"string"==typeof t){if(void 0===u[t])throw new Error("No method named "+t);u[t]()}})}var f="lte.boxwidget",s={animationSpeed:500,collapseTrigger:'[data-widget="collapse"]',removeTrigger:'[data-widget="remove"]',collapseIcon:"fa-minus",expandIcon:"fa-plus",removeIcon:"fa-times"},t={data:".box",collapsed:".collapsed-box",header:".box-header",body:".box-body",footer:".box-footer",tools:".box-tools"},e={collapsed:"collapsed-box"},r={collapsed:"collapsed.boxwidget",expanded:"expanded.boxwidget",removed:"removed.boxwidget"},i=function(n,t){this.element=n;this.options=t;this._setUpListeners()},o;i.prototype.toggle=function(){n(this.element).is(t.collapsed)?this.expand():this.collapse()};i.prototype.expand=function(){var u=n.Event(r.expanded),f=this.options.collapseIcon,i=this.options.expandIcon;n(this.element).removeClass(e.collapsed);n(this.element).children(t.header+", "+t.body+", "+t.footer).children(t.tools).find("."+i).removeClass(i).addClass(f);n(this.element).children(t.body+", "+t.footer).slideDown(this.options.animationSpeed,function(){n(this.element).trigger(u)}.bind(this))};i.prototype.collapse=function(){var u=n.Event(r.collapsed),i=this.options.collapseIcon,f=this.options.expandIcon;n(this.element).children(t.header+", "+t.body+", "+t.footer).children(t.tools).find("."+i).removeClass(i).addClass(f);n(this.element).children(t.body+", "+t.footer).slideUp(this.options.animationSpeed,function(){n(this.element).addClass(e.collapsed);n(this.element).trigger(u)}.bind(this))};i.prototype.remove=function(){var t=n.Event(r.removed);n(this.element).slideUp(this.options.animationSpeed,function(){n(this.element).trigger(t);n(this.element).remove()}.bind(this))};i.prototype._setUpListeners=function(){var t=this;n(this.element).on("click",this.options.collapseTrigger,function(i){return i&&i.preventDefault(),t.toggle(n(this)),!1});n(this.element).on("click",this.options.removeTrigger,function(i){return i&&i.preventDefault(),t.remove(n(this)),!1})};o=n.fn.boxWidget;n.fn.boxWidget=u;n.fn.boxWidget.Constructor=i;n.fn.boxWidget.noConflict=function(){return n.fn.boxWidget=o,this};n(window).on("load",function(){n(t.data).each(function(){u.call(n(this))})})}(jQuery),function(n){"use strict";function u(t){return this.each(function(){var r=n(this),u=r.data(f),e;u||(e=n.extend({},s,r.data(),"object"==typeof t&&t),r.data(f,u=new i(r,e)));"string"==typeof t&&u.toggle()})}var f="lte.controlsidebar",s={slide:!0},t={sidebar:".control-sidebar",data:'[data-toggle="control-sidebar"]',open:".control-sidebar-open",bg:".control-sidebar-bg",wrapper:".wrapper",content:".content-wrapper",boxed:".layout-boxed"},r={open:"control-sidebar-open",fixed:"fixed"},e={collapsed:"collapsed.controlsidebar",expanded:"expanded.controlsidebar"},i=function(n,t){this.element=n;this.options=t;this.hasBindedResize=!1;this.init()},o;i.prototype.init=function(){n(this.element).is(t.data)||n(this).on("click",this.toggle);this.fix();n(window).resize(function(){this.fix()}.bind(this))};i.prototype.toggle=function(i){i&&i.preventDefault();this.fix();n(t.sidebar).is(t.open)||n("body").is(t.open)?this.collapse():this.expand()};i.prototype.expand=function(){this.options.slide?n(t.sidebar).addClass(r.open):n("body").addClass(r.open);n(this.element).trigger(n.Event(e.expanded))};i.prototype.collapse=function(){n("body, "+t.sidebar).removeClass(r.open);n(this.element).trigger(n.Event(e.collapsed))};i.prototype.fix=function(){n("body").is(t.boxed)&&this._fixForBoxed(n(t.bg))};i.prototype._fixForBoxed=function(i){i.css({position:"absolute",height:n(t.wrapper).height()})};o=n.fn.controlSidebar;n.fn.controlSidebar=u;n.fn.controlSidebar.Constructor=i;n.fn.controlSidebar.noConflict=function(){return n.fn.controlSidebar=o,this};n(document).on("click",t.data,function(t){t&&t.preventDefault();u.call(n(this),"toggle")})}(jQuery),function(n){"use strict";function i(i){return this.each(function(){var u=n(this),f=u.data(r);f||u.data(r,f=new t(u));"string"==typeof i&&f.toggle(u)})}var r="lte.directchat",u={data:'[data-widget="chat-pane-toggle"]',box:".direct-chat"},e={open:"direct-chat-contacts-open"},t=function(n){this.element=n},f;t.prototype.toggle=function(n){n.parents(u.box).first().toggleClass(e.open)};f=n.fn.directChat;n.fn.directChat=i;n.fn.directChat.Constructor=t;n.fn.directChat.noConflict=function(){return n.fn.directChat=f,this};n(document).on("click",u.data,function(t){t&&t.preventDefault();i.call(n(this),"toggle")})}(jQuery),function(n){"use strict";function u(t){return this.each(function(){var u=n(this),r=u.data(f),e;if(r||(e=n.extend({},o,u.data(),"object"==typeof t&&t),u.data(f,r=new i(e))),"string"==typeof t){if(void 0===r[t])throw new Error("No method named "+t);r[t]()}})}var f="lte.layout",o={slimscroll:!0,resetHeight:!0},t={wrapper:".wrapper",contentWrapper:".content-wrapper",layoutBoxed:".layout-boxed",mainFooter:".main-footer",mainHeader:".main-header",sidebar:".sidebar",controlSidebar:".control-sidebar",fixed:".fixed",sidebarMenu:".sidebar-menu",logo:".main-header .logo"},r={fixed:"fixed",holdTransition:"hold-transition"},i=function(n){this.options=n;this.bindedResize=!1;this.activate()},e;i.prototype.activate=function(){this.fix();this.fixSidebar();n("body").removeClass(r.holdTransition);this.options.resetHeight&&n("body, html, "+t.wrapper).css({height:"auto","min-height":"100%"});this.bindedResize||(n(window).resize(function(){this.fix();this.fixSidebar();n(t.logo+", "+t.sidebar).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){this.fix();this.fixSidebar()}.bind(this))}.bind(this)),this.bindedResize=!0);n(t.sidebarMenu).on("expanded.tree",function(){this.fix();this.fixSidebar()}.bind(this));n(t.sidebarMenu).on("collapsed.tree",function(){this.fix();this.fixSidebar()}.bind(this))};i.prototype.fix=function(){var e,u;n(t.layoutBoxed+" > "+t.wrapper).css("overflow","hidden");var o=n(t.mainFooter).outerHeight()||0,s=n(t.mainHeader).outerHeight()+o,i=n(window).height(),f=n(t.sidebar).height()||0;n("body").hasClass(r.fixed)?n(t.contentWrapper).css("min-height",i-o):(i>=f?(n(t.contentWrapper).css("min-height",i-s),e=i-s):(n(t.contentWrapper).css("min-height",f),e=f),u=n(t.controlSidebar),void 0!==u&&u.height()>e&&n(t.contentWrapper).css("min-height",u.height()))};i.prototype.fixSidebar=function(){if(!n("body").hasClass(r.fixed))return void(void 0!==n.fn.slimScroll&&n(t.sidebar).slimScroll({destroy:!0}).height("auto"));this.options.slimscroll&&void 0!==n.fn.slimScroll&&n(t.sidebar).slimScroll({height:n(window).height()-n(t.mainHeader).height()+"px"})};e=n.fn.layout;n.fn.layout=u;n.fn.layout.Constuctor=i;n.fn.layout.noConflict=function(){return n.fn.layout=e,this};n(window).on("load",function(){u.call(n("body"))})}(jQuery),function(n){"use strict";function f(t){return this.each(function(){var i=n(this),u=i.data(e),f;u||(f=n.extend({},s,i.data(),"object"==typeof t&&t),i.data(e,u=new r(f)));"toggle"===t&&u.toggle()})}var e="lte.pushmenu",s={collapseScreenSize:767,expandOnHover:!1,expandTransitionDelay:200},i={collapsed:".sidebar-collapse",open:".sidebar-open",mainSidebar:".main-sidebar",contentWrapper:".content-wrapper",searchInput:".sidebar-form .form-control",button:'[data-toggle="push-menu"]',mini:".sidebar-mini",expanded:".sidebar-expanded-on-hover",layoutFixed:".fixed"},t={collapsed:"sidebar-collapse",open:"sidebar-open",mini:"sidebar-mini",expanded:"sidebar-expanded-on-hover",expandFeature:"sidebar-mini-expand-feature",layoutFixed:"fixed"},u={expanded:"expanded.pushMenu",collapsed:"collapsed.pushMenu"},r=function(n){this.options=n;this.init()},o;r.prototype.init=function(){(this.options.expandOnHover||n("body").is(i.mini+i.layoutFixed))&&(this.expandOnHover(),n("body").addClass(t.expandFeature));n(i.contentWrapper).click(function(){n(window).width()<=this.options.collapseScreenSize&&n("body").hasClass(t.open)&&this.close()}.bind(this));n(i.searchInput).click(function(n){n.stopPropagation()})};r.prototype.toggle=function(){var r=n(window).width(),i=!n("body").hasClass(t.collapsed);r<=this.options.collapseScreenSize&&(i=n("body").hasClass(t.open));i?this.close():this.open()};r.prototype.open=function(){n(window).width()>this.options.collapseScreenSize?n("body").removeClass(t.collapsed).trigger(n.Event(u.expanded)):n("body").addClass(t.open).trigger(n.Event(u.expanded))};r.prototype.close=function(){n(window).width()>this.options.collapseScreenSize?n("body").addClass(t.collapsed).trigger(n.Event(u.collapsed)):n("body").removeClass(t.open+" "+t.collapsed).trigger(n.Event(u.collapsed))};r.prototype.expandOnHover=function(){n(i.mainSidebar).hover(function(){n("body").is(i.mini+i.collapsed)&&n(window).width()>this.options.collapseScreenSize&&this.expand()}.bind(this),function(){n("body").is(i.expanded)&&this.collapse()}.bind(this))};r.prototype.expand=function(){setTimeout(function(){n("body").removeClass(t.collapsed).addClass(t.expanded)},this.options.expandTransitionDelay)};r.prototype.collapse=function(){setTimeout(function(){n("body").removeClass(t.expanded).addClass(t.collapsed)},this.options.expandTransitionDelay)};o=n.fn.pushMenu;n.fn.pushMenu=f;n.fn.pushMenu.Constructor=r;n.fn.pushMenu.noConflict=function(){return n.fn.pushMenu=o,this};n(document).on("click",i.button,function(t){t.preventDefault();f.call(n(this),"toggle")});n(window).on("load",function(){f.call(n(i.button))})}(jQuery),function(n){"use strict";function i(i){return this.each(function(){var f=n(this),u=f.data(r),o;if(u||(o=n.extend({},e,f.data(),"object"==typeof i&&i),f.data(r,u=new t(f,o))),"string"==typeof u){if(void 0===u[i])throw new Error("No method named "+i);u[i]()}})}var r="lte.todolist",e={onCheck:function(n){return n},onUnCheck:function(n){return n}},u={data:'[data-widget="todo-list"]'},o={done:"done"},t=function(n,t){this.element=n;this.options=t;this._setUpListeners()},f;t.prototype.toggle=function(n){if(n.parents(u.li).first().toggleClass(o.done),!n.prop("checked"))return void this.unCheck(n);this.check(n)};t.prototype.check=function(n){this.options.onCheck.call(n)};t.prototype.unCheck=function(n){this.options.onUnCheck.call(n)};t.prototype._setUpListeners=function(){var t=this;n(this.element).on("change ifChanged","input:checkbox",function(){t.toggle(n(this))})};f=n.fn.todoList;n.fn.todoList=i;n.fn.todoList.Constructor=t;n.fn.todoList.noConflict=function(){return n.fn.todoList=f,this};n(window).on("load",function(){n(u.data).each(function(){i.call(n(this))})})}(jQuery),function(n){"use strict";function u(t){return this.each(function(){var i=n(this),u;i.data(f)||(u=n.extend({},s,i.data(),"object"==typeof t&&t),i.data(f,new r(i,u)))})}var f="lte.tree",s={animationSpeed:500,accordion:!0,followLink:!1,trigger:".treeview a"},t={tree:".tree",treeview:".treeview",treeviewMenu:".treeview-menu",open:".menu-open, .active",li:"li",data:'[data-widget="tree"]',active:".active"},i={open:"menu-open",tree:"tree"},e={collapsed:"collapsed.tree",expanded:"expanded.tree"},r=function(r,u){this.element=r;this.options=u;n(this.element).addClass(i.tree);n(t.treeview+t.active,this.element).addClass(i.open);this._setUpListeners()},o;r.prototype.toggle=function(n,r){var f=n.next(t.treeviewMenu),u=n.parent(),e=u.hasClass(i.open);u.is(t.treeview)&&(this.options.followLink&&"#"!==n.attr("href")||r.preventDefault(),e?this.collapse(f,u):this.expand(f,u))};r.prototype.expand=function(r,u){var s=n.Event(e.expanded),f,o;this.options.accordion&&(f=u.siblings(t.open),o=f.children(t.treeviewMenu),this.collapse(o,f));u.addClass(i.open);r.slideDown(this.options.animationSpeed,function(){n(this.element).trigger(s)}.bind(this))};r.prototype.collapse=function(r,u){var f=n.Event(e.collapsed);r.find(t.open).removeClass(i.open);u.removeClass(i.open);r.slideUp(this.options.animationSpeed,function(){r.find(t.open+" > "+t.treeview).slideUp();n(this.element).trigger(f)}.bind(this))};r.prototype._setUpListeners=function(){var t=this;n(this.element).on("click",this.options.trigger,function(i){t.toggle(n(this),i)})};o=n.fn.tree;n.fn.tree=u;n.fn.tree.Constructor=r;n.fn.tree.noConflict=function(){return n.fn.tree=o,this};n(window).on("load",function(){n(t.data).each(function(){u.call(n(this))})})}(jQuery);